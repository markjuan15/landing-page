var W0=i=>{throw TypeError(i)};var bf=(i,t,e)=>t.has(i)||W0("Cannot "+e);var Qt=(i,t,e)=>(bf(i,t,"read from private field"),e?e.call(i):t.get(i)),Wn=(i,t,e)=>t.has(i)?W0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),nn=(i,t,e,n)=>(bf(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),Qn=(i,t,e)=>(bf(i,t,"access private method"),e);var Q0=(i,t,e,n)=>({set _(a){nn(i,t,a,e)},get _(){return Qt(i,t,n)}});function bC(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in i)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function MS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Af={exports:{}},Co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function AC(){if(Z0)return Co;Z0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:i,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Co.Fragment=t,Co.jsx=e,Co.jsxs=e,Co}var J0;function SC(){return J0||(J0=1,Af.exports=AC()),Af.exports}var F=SC(),Sf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function wC(){if(tb)return Et;tb=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function E(O,Y,tt){this.props=O,this.context=Y,this.refs=A,this.updater=tt||b}E.prototype.isReactComponent={},E.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function w(){}w.prototype=E.prototype;function T(O,Y,tt){this.props=O,this.context=Y,this.refs=A,this.updater=tt||b}var C=T.prototype=new w;C.constructor=T,S(C,E.prototype),C.isPureReactComponent=!0;var D=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function k(O,Y,tt,q,et,pt){return tt=pt.ref,{$$typeof:i,type:O,key:Y,ref:tt!==void 0?tt:null,props:pt}}function I(O,Y){return k(O.type,Y,void 0,void 0,void 0,O.props)}function $(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function X(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Y[tt]})}var J=/\/+/g;function rt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?X(""+O.key):Y.toString(36)}function ot(){}function nt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function lt(O,Y,tt,q,et){var pt=typeof O;(pt==="undefined"||pt==="boolean")&&(O=null);var ut=!1;if(O===null)ut=!0;else switch(pt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(O.$$typeof){case i:case t:ut=!0;break;case p:return ut=O._init,lt(ut(O._payload),Y,tt,q,et)}}if(ut)return et=et(O),ut=q===""?"."+rt(O,0):q,D(et)?(tt="",ut!=null&&(tt=ut.replace(J,"$&/")+"/"),lt(et,Y,tt,"",function(Bt){return Bt})):et!=null&&($(et)&&(et=I(et,tt+(et.key==null||O&&O.key===et.key?"":(""+et.key).replace(J,"$&/")+"/")+ut)),Y.push(et)),1;ut=0;var At=q===""?".":q+":";if(D(O))for(var Tt=0;Tt<O.length;Tt++)q=O[Tt],pt=At+rt(q,Tt),ut+=lt(q,Y,tt,pt,et);else if(Tt=v(O),typeof Tt=="function")for(O=Tt.call(O),Tt=0;!(q=O.next()).done;)q=q.value,pt=At+rt(q,Tt++),ut+=lt(q,Y,tt,pt,et);else if(pt==="object"){if(typeof O.then=="function")return lt(nt(O),Y,tt,q,et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function B(O,Y,tt){if(O==null)return O;var q=[],et=0;return lt(O,q,"","",function(pt){return Y.call(tt,pt,et++)}),q}function V(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function it(){}return Et.Children={map:B,forEach:function(O,Y,tt){B(O,function(){Y.apply(this,arguments)},tt)},count:function(O){var Y=0;return B(O,function(){Y++}),Y},toArray:function(O){return B(O,function(Y){return Y})||[]},only:function(O){if(!$(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Et.Component=E,Et.Fragment=e,Et.Profiler=a,Et.PureComponent=T,Et.StrictMode=n,Et.Suspense=h,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cloneElement=function(O,Y,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var q=S({},O.props),et=O.key,pt=void 0;if(Y!=null)for(ut in Y.ref!==void 0&&(pt=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!P.call(Y,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Y.ref===void 0||(q[ut]=Y[ut]);var ut=arguments.length-2;if(ut===1)q.children=tt;else if(1<ut){for(var At=Array(ut),Tt=0;Tt<ut;Tt++)At[Tt]=arguments[Tt+2];q.children=At}return k(O.type,et,void 0,void 0,pt,q)},Et.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Et.createElement=function(O,Y,tt){var q,et={},pt=null;if(Y!=null)for(q in Y.key!==void 0&&(pt=""+Y.key),Y)P.call(Y,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(et[q]=Y[q]);var ut=arguments.length-2;if(ut===1)et.children=tt;else if(1<ut){for(var At=Array(ut),Tt=0;Tt<ut;Tt++)At[Tt]=arguments[Tt+2];et.children=At}if(O&&O.defaultProps)for(q in ut=O.defaultProps,ut)et[q]===void 0&&(et[q]=ut[q]);return k(O,pt,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:u,render:O}},Et.isValidElement=$,Et.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:V}},Et.memo=function(O,Y){return{$$typeof:f,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=M.T,tt={};M.T=tt;try{var q=O(),et=M.S;et!==null&&et(tt,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(it,Z)}catch(pt){Z(pt)}finally{M.T=Y}},Et.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Et.use=function(O){return M.H.use(O)},Et.useActionState=function(O,Y,tt){return M.H.useActionState(O,Y,tt)},Et.useCallback=function(O,Y){return M.H.useCallback(O,Y)},Et.useContext=function(O){return M.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return M.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y,tt){var q=M.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(O,Y)},Et.useId=function(){return M.H.useId()},Et.useImperativeHandle=function(O,Y,tt){return M.H.useImperativeHandle(O,Y,tt)},Et.useInsertionEffect=function(O,Y){return M.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return M.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return M.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return M.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,tt){return M.H.useReducer(O,Y,tt)},Et.useRef=function(O){return M.H.useRef(O)},Et.useState=function(O){return M.H.useState(O)},Et.useSyncExternalStore=function(O,Y,tt){return M.H.useSyncExternalStore(O,Y,tt)},Et.useTransition=function(){return M.H.useTransition()},Et.version="19.1.1",Et}var eb;function Ou(){return eb||(eb=1,Sf.exports=wC()),Sf.exports}var R=Ou();const dt=MS(R),nb=bC({__proto__:null,default:dt},[R]);var wf={exports:{}},_o={},Ef={exports:{}},xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function EC(){return ib||(ib=1,(function(i){function t(B,V){var Z=B.length;B.push(V);t:for(;0<Z;){var it=Z-1>>>1,O=B[it];if(0<a(O,V))B[it]=V,B[Z]=O,Z=it;else break t}}function e(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var V=B[0],Z=B.pop();if(Z!==V){B[0]=Z;t:for(var it=0,O=B.length,Y=O>>>1;it<Y;){var tt=2*(it+1)-1,q=B[tt],et=tt+1,pt=B[et];if(0>a(q,Z))et<O&&0>a(pt,q)?(B[it]=pt,B[et]=Z,it=et):(B[it]=q,B[tt]=Z,it=tt);else if(et<O&&0>a(pt,Z))B[it]=pt,B[et]=Z,it=et;else break t}}return V}function a(B,V){var Z=B.sortIndex-V.sortIndex;return Z!==0?Z:B.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();i.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,g=null,v=3,b=!1,S=!1,A=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var V=e(f);V!==null;){if(V.callback===null)n(f);else if(V.startTime<=B)n(f),V.sortIndex=V.expirationTime,t(h,V);else break;V=e(f)}}function M(B){if(A=!1,D(B),!S)if(e(h)!==null)S=!0,P||(P=!0,rt());else{var V=e(f);V!==null&&lt(M,V.startTime-B)}}var P=!1,k=-1,I=5,$=-1;function X(){return E?!0:!(i.unstable_now()-$<I)}function J(){if(E=!1,P){var B=i.unstable_now();$=B;var V=!0;try{t:{S=!1,A&&(A=!1,T(k),k=-1),b=!0;var Z=v;try{e:{for(D(B),g=e(h);g!==null&&!(g.expirationTime>B&&X());){var it=g.callback;if(typeof it=="function"){g.callback=null,v=g.priorityLevel;var O=it(g.expirationTime<=B);if(B=i.unstable_now(),typeof O=="function"){g.callback=O,D(B),V=!0;break e}g===e(h)&&n(h),D(B)}else n(h);g=e(h)}if(g!==null)V=!0;else{var Y=e(f);Y!==null&&lt(M,Y.startTime-B),V=!1}}break t}finally{g=null,v=Z,b=!1}V=void 0}}finally{V?rt():P=!1}}}var rt;if(typeof C=="function")rt=function(){C(J)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,nt=ot.port2;ot.port1.onmessage=J,rt=function(){nt.postMessage(null)}}else rt=function(){w(J,0)};function lt(B,V){k=w(function(){B(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return B()}finally{v=Z}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=v;v=B;try{return V()}finally{v=Z}},i.unstable_scheduleCallback=function(B,V,Z){var it=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?it+Z:it):Z=it,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Z+O,B={id:p++,callback:V,priorityLevel:B,startTime:Z,expirationTime:O,sortIndex:-1},Z>it?(B.sortIndex=Z,t(f,B),e(h)===null&&B===e(f)&&(A?(T(k),k=-1):A=!0,lt(M,Z-it))):(B.sortIndex=O,t(h,B),S||b||(S=!0,P||(P=!0,rt()))),B},i.unstable_shouldYield=X,i.unstable_wrapCallback=function(B){var V=v;return function(){var Z=v;v=V;try{return B.apply(this,arguments)}finally{v=Z}}}})(xf)),xf}var sb;function xC(){return sb||(sb=1,Ef.exports=EC()),Ef.exports}var Tf={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function TC(){if(ab)return Ve;ab=1;var i=Ou();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ve.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},Ve.flushSync=function(h){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=f,n.p=p,n.d.f()}},Ve.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Ve.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ve.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ve.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Ve.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ve.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Ve.requestFormReset=function(h){n.d.r(h)},Ve.unstable_batchedUpdates=function(h,f){return h(f)},Ve.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Ve.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ve.version="19.1.1",Ve}var rb;function DS(){if(rb)return Tf.exports;rb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tf.exports=TC(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function CC(){if(ob)return _o;ob=1;var i=xC(),t=Ou(),e=DS();function n(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,c=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(c=r.return),s=r.return;while(s)}return r.tag===3?c:null}function l(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(n(188))}function h(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(n(188));return r!==s?null:s}for(var c=s,d=r;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return u(m),s;if(y===d)return u(m),r;y=y.sibling}throw Error(n(188))}if(c.return!==d.return)c=m,d=y;else{for(var x=!1,_=m.child;_;){if(_===c){x=!0,c=m,d=y;break}if(_===d){x=!0,d=m,c=y;break}_=_.sibling}if(!x){for(_=y.child;_;){if(_===c){x=!0,c=y,d=m;break}if(_===d){x=!0,d=y,c=m;break}_=_.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:r}function f(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=f(s),r!==null)return r;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function rt(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var ot=Symbol.for("react.client.reference");function nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ot?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case C:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case D:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return r=s.displayName||null,r!==null?r:nt(s.type)||"Memo";case I:r=s._payload,s=s._init;try{return nt(s(r))}catch{}}return null}var lt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},it=[],O=-1;function Y(s){return{current:s}}function tt(s){0>O||(s.current=it[O],it[O]=null,O--)}function q(s,r){O++,it[O]=s.current,s.current=r}var et=Y(null),pt=Y(null),ut=Y(null),At=Y(null);function Tt(s,r){switch(q(ut,r),q(pt,s),q(et,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?x0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=x0(r),s=T0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(et),q(et,s)}function Bt(){tt(et),tt(pt),tt(ut)}function Gt(s){s.memoizedState!==null&&q(At,s);var r=et.current,c=T0(r,s.type);r!==c&&(q(pt,s),q(et,c))}function We(s){pt.current===s&&(tt(et),tt(pt)),At.current===s&&(tt(At),So._currentValue=Z)}var cn=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,jt=i.unstable_cancelCallback,de=i.unstable_shouldYield,ve=i.unstable_requestPaint,Oe=i.unstable_now,Es=i.unstable_getCurrentPriorityLevel,fa=i.unstable_ImmediatePriority,Dl=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,sh=i.unstable_LowPriority,Ll=i.unstable_IdlePriority,ah=i.log,rh=i.unstable_setDisableYieldValue,xs=null,oe=null;function $e(s){if(typeof ah=="function"&&rh(s),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(xs,s)}catch{}}var le=Math.clz32?Math.clz32:ax,Rr=Math.log,sx=Math.LN2;function ax(s){return s>>>=0,s===0?32:31-(Rr(s)/sx|0)|0}var Ol=256,Pl=4194304;function Ts(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Nl(s,r,c){var d=s.pendingLanes;if(d===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var _=d&134217727;return _!==0?(d=_&~y,d!==0?m=Ts(d):(x&=_,x!==0?m=Ts(x):c||(c=_&~s,c!==0&&(m=Ts(c))))):(_=d&~y,_!==0?m=Ts(_):x!==0?m=Ts(x):c||(c=d&~s,c!==0&&(m=Ts(c)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,c=r&-r,y>=c||y===32&&(c&4194048)!==0)?r:m}function Mr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function rx(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function og(){var s=Ol;return Ol<<=1,(Ol&4194048)===0&&(Ol=256),s}function lg(){var s=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),s}function oh(s){for(var r=[],c=0;31>c;c++)r.push(s);return r}function Dr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ox(s,r,c,d,m,y){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var _=s.entanglements,L=s.expirationTimes,H=s.hiddenUpdates;for(c=x&~c;0<c;){var K=31-le(c),Q=1<<K;_[K]=0,L[K]=-1;var z=H[K];if(z!==null)for(H[K]=null,K=0;K<z.length;K++){var G=z[K];G!==null&&(G.lane&=-536870913)}c&=~Q}d!==0&&cg(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~r))}function cg(s,r,c){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-le(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function ug(s,r){var c=s.entangledLanes|=r;for(s=s.entanglements;c;){var d=31-le(c),m=1<<d;m&r|s[d]&r&&(s[d]|=r),c&=~m}}function lh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ch(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hg(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:G0(s.type))}function lx(s,r){var c=V.p;try{return V.p=s,r()}finally{V.p=c}}var zi=Math.random().toString(36).slice(2),je="__reactFiber$"+zi,Qe="__reactProps$"+zi,pa="__reactContainer$"+zi,uh="__reactEvents$"+zi,cx="__reactListeners$"+zi,ux="__reactHandles$"+zi,dg="__reactResources$"+zi,Lr="__reactMarker$"+zi;function hh(s){delete s[je],delete s[Qe],delete s[uh],delete s[cx],delete s[ux]}function ma(s){var r=s[je];if(r)return r;for(var c=s.parentNode;c;){if(r=c[pa]||c[je]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(s=M0(s);s!==null;){if(c=s[je])return c;s=M0(s)}return r}s=c,c=s.parentNode}return null}function ga(s){if(s=s[je]||s[pa]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Or(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(n(33))}function ya(s){var r=s[dg];return r||(r=s[dg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Te(s){s[Lr]=!0}var fg=new Set,pg={};function Cs(s,r){va(s,r),va(s+"Capture",r)}function va(s,r){for(pg[s]=r,s=0;s<r.length;s++)fg.add(r[s])}var hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mg={},gg={};function dx(s){return cn.call(gg,s)?!0:cn.call(mg,s)?!1:hx.test(s)?gg[s]=!0:(mg[s]=!0,!1)}function kl(s,r,c){if(dx(r))if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+c)}}function Bl(s,r,c){if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+c)}}function fi(s,r,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(r,c,""+d)}}var dh,yg;function ba(s){if(dh===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);dh=r&&r[1]||"",yg=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dh+s+yg}var fh=!1;function ph(s,r){if(!s||fh)return"";fh=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var z=G}Reflect.construct(s,[],Q)}else{try{Q.call()}catch(G){z=G}s.call(Q.prototype)}}else{try{throw Error()}catch(G){z=G}(Q=s())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&z&&typeof G.stack=="string")return[G.stack,z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),x=y[0],_=y[1];if(x&&_){var L=x.split(`
`),H=_.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===H.length)for(d=L.length-1,m=H.length-1;1<=d&&0<=m&&L[d]!==H[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==H[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==H[m]){var K=`
`+L[d].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=d&&0<=m);break}}}finally{fh=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ba(c):""}function fx(s){switch(s.tag){case 26:case 27:case 5:return ba(s.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 15:return ph(s.type,!1);case 11:return ph(s.type.render,!1);case 1:return ph(s.type,!0);case 31:return ba("Activity");default:return""}}function vg(s){try{var r="";do r+=fx(s),s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function bg(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function px(s){var r=bg(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Fl(s){s._valueTracker||(s._valueTracker=px(s))}function Ag(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var c=r.getValue(),d="";return s&&(d=bg(s)?s.checked?"true":"false":s.value),s=d,s!==c?(r.setValue(s),!0):!1}function Il(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var mx=/[\n"\\]/g;function wn(s){return s.replace(mx,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mh(s,r,c,d,m,y,x,_){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Sn(r)):s.value!==""+Sn(r)&&(s.value=""+Sn(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?gh(s,x,Sn(r)):c!=null?gh(s,x,Sn(c)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+Sn(_):s.removeAttribute("name")}function Sg(s,r,c,d,m,y,x,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;c=c!=null?""+Sn(c):"",r=r!=null?""+Sn(r):c,_||r===s.value||(s.value=r),s.defaultValue=r}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=_?s.checked:!!d,s.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function gh(s,r,c){r==="number"&&Il(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Aa(s,r,c,d){if(s=s.options,r){r={};for(var m=0;m<c.length;m++)r["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=r.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Sn(c),r=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function wg(s,r,c){if(r!=null&&(r=""+Sn(r),r!==s.value&&(s.value=r),c==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=c!=null?""+Sn(c):""}function Eg(s,r,c,d){if(r==null){if(d!=null){if(c!=null)throw Error(n(92));if(lt(d)){if(1<d.length)throw Error(n(93));d=d[0]}c=d}c==null&&(c=""),r=c}c=Sn(r),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function Sa(s,r){if(r){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=r;return}}s.textContent=r}var gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xg(s,r,c){var d=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,c):typeof c!="number"||c===0||gx.has(r)?r==="float"?s.cssFloat=c:s[r]=(""+c).trim():s[r]=c+"px"}function Tg(s,r,c){if(r!=null&&typeof r!="object")throw Error(n(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in r)d=r[m],r.hasOwnProperty(m)&&c[m]!==d&&xg(s,m,d)}else for(var y in r)r.hasOwnProperty(y)&&xg(s,y,r[y])}function yh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(s){return vx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var vh=null;function bh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wa=null,Ea=null;function Cg(s){var r=ga(s);if(r&&(s=r.stateNode)){var c=s[Qe]||null;t:switch(s=r.stateNode,r.type){case"input":if(mh(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var d=c[r];if(d!==s&&d.form===s.form){var m=d[Qe]||null;if(!m)throw Error(n(90));mh(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<c.length;r++)d=c[r],d.form===s.form&&Ag(d)}break t;case"textarea":wg(s,c.value,c.defaultValue);break t;case"select":r=c.value,r!=null&&Aa(s,!!c.multiple,r,!1)}}}var Ah=!1;function _g(s,r,c){if(Ah)return s(r,c);Ah=!0;try{var d=s(r);return d}finally{if(Ah=!1,(wa!==null||Ea!==null)&&(xc(),wa&&(r=wa,s=Ea,Ea=wa=null,Cg(r),s)))for(r=0;r<s.length;r++)Cg(s[r])}}function Pr(s,r){var c=s.stateNode;if(c===null)return null;var d=c[Qe]||null;if(d===null)return null;c=d[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,r,typeof c));return c}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=!1;if(pi)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Sh=!1}var Gi=null,wh=null,Ul=null;function Rg(){if(Ul)return Ul;var s,r=wh,c=r.length,d,m="value"in Gi?Gi.value:Gi.textContent,y=m.length;for(s=0;s<c&&r[s]===m[s];s++);var x=c-s;for(d=1;d<=x&&r[c-d]===m[y-d];d++);return Ul=m.slice(s,1<d?1-d:void 0)}function Vl(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Hl(){return!0}function Mg(){return!1}function Ze(s){function r(c,d,m,y,x){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(c=s[_],this[_]=c?c(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hl:Mg,this.isPropagationStopped=Mg,this}return p(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),r}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Ze(_s),kr=p({},_s,{view:0,detail:0}),bx=Ze(kr),Eh,xh,Br,Gl=p({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Br&&(Br&&s.type==="mousemove"?(Eh=s.screenX-Br.screenX,xh=s.screenY-Br.screenY):xh=Eh=0,Br=s),Eh)},movementY:function(s){return"movementY"in s?s.movementY:xh}}),Dg=Ze(Gl),Ax=p({},Gl,{dataTransfer:0}),Sx=Ze(Ax),wx=p({},kr,{relatedTarget:0}),Th=Ze(wx),Ex=p({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=Ze(Ex),Tx=p({},_s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cx=Ze(Tx),_x=p({},_s,{data:0}),Lg=Ze(_x),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Dx[s])?!!r[s]:!1}function Ch(){return Lx}var Ox=p({},kr,{key:function(s){if(s.key){var r=Rx[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Vl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(s){return s.type==="keypress"?Vl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Px=Ze(Ox),Nx=p({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=Ze(Nx),kx=p({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),Bx=Ze(kx),Fx=p({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=Ze(Fx),jx=p({},Gl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=Ze(jx),Vx=p({},_s,{newState:0,oldState:0}),Hx=Ze(Vx),zx=[9,13,27,32],_h=pi&&"CompositionEvent"in window,Fr=null;pi&&"documentMode"in document&&(Fr=document.documentMode);var Gx=pi&&"TextEvent"in window&&!Fr,Pg=pi&&(!_h||Fr&&8<Fr&&11>=Fr),Ng=" ",kg=!1;function Bg(s,r){switch(s){case"keyup":return zx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xa=!1;function $x(s,r){switch(s){case"compositionend":return Fg(r);case"keypress":return r.which!==32?null:(kg=!0,Ng);case"textInput":return s=r.data,s===Ng&&kg?null:s;default:return null}}function qx(s,r){if(xa)return s==="compositionend"||!_h&&Bg(s,r)?(s=Rg(),Ul=wh=Gi=null,xa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pg&&r.locale!=="ko"?null:r.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Xx[s.type]:r==="textarea"}function jg(s,r,c,d){wa?Ea?Ea.push(d):Ea=[d]:wa=d,r=Dc(r,"onChange"),0<r.length&&(c=new zl("onChange","change",null,c,d),s.push({event:c,listeners:r}))}var Ir=null,jr=null;function Yx(s){b0(s,0)}function $l(s){var r=Or(s);if(Ag(r))return s}function Ug(s,r){if(s==="change")return r}var Vg=!1;if(pi){var Rh;if(pi){var Mh="oninput"in document;if(!Mh){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Mh=typeof Hg.oninput=="function"}Rh=Mh}else Rh=!1;Vg=Rh&&(!document.documentMode||9<document.documentMode)}function zg(){Ir&&(Ir.detachEvent("onpropertychange",Gg),jr=Ir=null)}function Gg(s){if(s.propertyName==="value"&&$l(jr)){var r=[];jg(r,jr,s,bh(s)),_g(Yx,r)}}function Kx(s,r,c){s==="focusin"?(zg(),Ir=r,jr=c,Ir.attachEvent("onpropertychange",Gg)):s==="focusout"&&zg()}function Wx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $l(jr)}function Qx(s,r){if(s==="click")return $l(r)}function Zx(s,r){if(s==="input"||s==="change")return $l(r)}function Jx(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var un=typeof Object.is=="function"?Object.is:Jx;function Ur(s,r){if(un(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var c=Object.keys(s),d=Object.keys(r);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!cn.call(r,m)||!un(s[m],r[m]))return!1}return!0}function $g(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qg(s,r){var c=$g(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=r&&d>=r)return{node:c,offset:r-s};s=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=$g(c)}}function Xg(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Xg(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Yg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Il(s.document);r instanceof s.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)s=r.contentWindow;else break;r=Il(s.document)}return r}function Dh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var tT=pi&&"documentMode"in document&&11>=document.documentMode,Ta=null,Lh=null,Vr=null,Oh=!1;function Kg(s,r,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oh||Ta==null||Ta!==Il(d)||(d=Ta,"selectionStart"in d&&Dh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vr&&Ur(Vr,d)||(Vr=d,d=Dc(Lh,"onSelect"),0<d.length&&(r=new zl("onSelect","select",null,r,c),s.push({event:r,listeners:d}),r.target=Ta)))}function Rs(s,r){var c={};return c[s.toLowerCase()]=r.toLowerCase(),c["Webkit"+s]="webkit"+r,c["Moz"+s]="moz"+r,c}var Ca={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Ph={},Wg={};pi&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ms(s){if(Ph[s])return Ph[s];if(!Ca[s])return s;var r=Ca[s],c;for(c in r)if(r.hasOwnProperty(c)&&c in Wg)return Ph[s]=r[c];return s}var Qg=Ms("animationend"),Zg=Ms("animationiteration"),Jg=Ms("animationstart"),eT=Ms("transitionrun"),nT=Ms("transitionstart"),iT=Ms("transitioncancel"),ty=Ms("transitionend"),ey=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function In(s,r){ey.set(s,r),Cs(r,[s])}var ny=new WeakMap;function En(s,r){if(typeof s=="object"&&s!==null){var c=ny.get(s);return c!==void 0?c:(r={value:s,source:r,stack:vg(r)},ny.set(s,r),r)}return{value:s,source:r,stack:vg(r)}}var xn=[],_a=0,kh=0;function ql(){for(var s=_a,r=kh=_a=0;r<s;){var c=xn[r];xn[r++]=null;var d=xn[r];xn[r++]=null;var m=xn[r];xn[r++]=null;var y=xn[r];if(xn[r++]=null,d!==null&&m!==null){var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}y!==0&&iy(c,m,y)}}function Xl(s,r,c,d){xn[_a++]=s,xn[_a++]=r,xn[_a++]=c,xn[_a++]=d,kh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Bh(s,r,c,d){return Xl(s,r,c,d),Yl(s)}function Ra(s,r){return Xl(s,null,null,r),Yl(s)}function iy(s,r,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-le(c),s=y.hiddenUpdates,d=s[m],d===null?s[m]=[r]:d.push(r),r.lane=c|536870912),y):null}function Yl(s){if(50<fo)throw fo=0,Hd=null,Error(n(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ma={};function sT(s,r,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(s,r,c,d){return new sT(s,r,c,d)}function Fh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mi(s,r){var c=s.alternate;return c===null?(c=hn(s.tag,r,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=r,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,r=s.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function sy(s,r){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,r=c.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Kl(s,r,c,d,m,y){var x=0;if(d=s,typeof s=="function")Fh(s)&&(x=1);else if(typeof s=="string")x=rC(s,c,et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case $:return s=hn(31,c,r,m),s.elementType=$,s.lanes=y,s;case S:return Ds(c.children,m,y,r);case A:x=8,m|=24;break;case E:return s=hn(12,c,r,m|2),s.elementType=E,s.lanes=y,s;case M:return s=hn(13,c,r,m),s.elementType=M,s.lanes=y,s;case P:return s=hn(19,c,r,m),s.elementType=P,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:case C:x=10;break t;case T:x=9;break t;case D:x=11;break t;case k:x=14;break t;case I:x=16,d=null;break t}x=29,c=Error(n(130,s===null?"null":typeof s,"")),d=null}return r=hn(x,c,r,m),r.elementType=s,r.type=d,r.lanes=y,r}function Ds(s,r,c,d){return s=hn(7,s,d,r),s.lanes=c,s}function Ih(s,r,c){return s=hn(6,s,null,r),s.lanes=c,s}function jh(s,r,c){return r=hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=c,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Da=[],La=0,Wl=null,Ql=0,Tn=[],Cn=0,Ls=null,gi=1,yi="";function Os(s,r){Da[La++]=Ql,Da[La++]=Wl,Wl=s,Ql=r}function ay(s,r,c){Tn[Cn++]=gi,Tn[Cn++]=yi,Tn[Cn++]=Ls,Ls=s;var d=gi;s=yi;var m=32-le(d)-1;d&=~(1<<m),c+=1;var y=32-le(r)+m;if(30<y){var x=m-m%5;y=(d&(1<<x)-1).toString(32),d>>=x,m-=x,gi=1<<32-le(r)+m|c<<m|d,yi=y+s}else gi=1<<y|c<<m|d,yi=s}function Uh(s){s.return!==null&&(Os(s,1),ay(s,1,0))}function Vh(s){for(;s===Wl;)Wl=Da[--La],Da[La]=null,Ql=Da[--La],Da[La]=null;for(;s===Ls;)Ls=Tn[--Cn],Tn[Cn]=null,yi=Tn[--Cn],Tn[Cn]=null,gi=Tn[--Cn],Tn[Cn]=null}var qe=null,ce=null,kt=!1,Ps=null,$n=!1,Hh=Error(n(519));function Ns(s){var r=Error(n(418,""));throw Gr(En(r,s)),Hh}function ry(s){var r=s.stateNode,c=s.type,d=s.memoizedProps;switch(r[je]=s,r[Qe]=d,c){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(c=0;c<mo.length;c++)Mt(mo[c],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Sg(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Fl(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Eg(r,d.value,d.defaultValue,d.children),Fl(r)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||d.suppressHydrationWarning===!0||E0(r.textContent,c)?(d.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),d.onScroll!=null&&Mt("scroll",r),d.onScrollEnd!=null&&Mt("scrollend",r),d.onClick!=null&&(r.onclick=Lc),r=!0):r=!1,r||Ns(s)}function oy(s){for(qe=s.return;qe;)switch(qe.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:qe=qe.return}}function Hr(s){if(s!==qe)return!1;if(!kt)return oy(s),kt=!0,!1;var r=s.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||af(s.type,s.memoizedProps)),c=!c),c&&ce&&Ns(s),oy(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(r===0){ce=Un(s.nextSibling);break t}r--}else c!=="$"&&c!=="$!"&&c!=="$?"||r++;s=s.nextSibling}ce=null}}else r===27?(r=ce,rs(s.type)?(s=cf,cf=null,ce=s):ce=r):ce=qe?Un(s.stateNode.nextSibling):null;return!0}function zr(){ce=qe=null,kt=!1}function ly(){var s=Ps;return s!==null&&(en===null?en=s:en.push.apply(en,s),Ps=null),s}function Gr(s){Ps===null?Ps=[s]:Ps.push(s)}var zh=Y(null),ks=null,vi=null;function $i(s,r,c){q(zh,r._currentValue),r._currentValue=c}function bi(s){s._currentValue=zh.current,tt(zh)}function Gh(s,r,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===c)break;s=s.return}}function $h(s,r,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;t:for(;y!==null;){var _=y;y=m;for(var L=0;L<r.length;L++)if(_.context===r[L]){y.lanes|=c,_=y.alternate,_!==null&&(_.lanes|=c),Gh(y.return,c,s),d||(x=null);break t}y=_.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(n(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),Gh(x,c,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function $r(s,r,c,d){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var _=m.type;un(m.pendingProps.value,x.value)||(s!==null?s.push(_):s=[_])}}else if(m===At.current){if(x=m.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(So):s=[So])}m=m.return}s!==null&&$h(r,s,c,d),r.flags|=262144}function Zl(s){for(s=s.firstContext;s!==null;){if(!un(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bs(s){ks=s,vi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ue(s){return cy(ks,s)}function Jl(s,r){return ks===null&&Bs(s),cy(s,r)}function cy(s,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},vi===null){if(s===null)throw Error(n(308));vi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else vi=vi.next=r;return c}var aT=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(c){return c()})}},rT=i.unstable_scheduleCallback,oT=i.unstable_NormalPriority,Ee={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new aT,data:new Map,refCount:0}}function qr(s){s.refCount--,s.refCount===0&&rT(oT,function(){s.controller.abort()})}var Xr=null,Xh=0,Oa=0,Pa=null;function lT(s,r){if(Xr===null){var c=Xr=[];Xh=0,Oa=Kd(),Pa={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Xh++,r.then(uy,uy),r}function uy(){if(--Xh===0&&Xr!==null){Pa!==null&&(Pa.status="fulfilled");var s=Xr;Xr=null,Oa=0,Pa=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function cT(s,r){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var m=0;m<c.length;m++)(0,c[m])(r)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var hy=B.S;B.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lT(s,r),hy!==null&&hy(s,r)};var Fs=Y(null);function Yh(){var s=Fs.current;return s!==null?s:Kt.pooledCache}function tc(s,r){r===null?q(Fs,Fs.current):q(Fs,r.pool)}function dy(){var s=Yh();return s===null?null:{parent:Ee._currentValue,pool:s}}var Yr=Error(n(460)),fy=Error(n(474)),ec=Error(n(542)),Kh={then:function(){}};function py(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nc(){}function my(s,r,c){switch(c=s[c],c===void 0?s.push(r):c!==r&&(r.then(nc,nc),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,yy(s),s;default:if(typeof r.status=="string")r.then(nc,nc);else{if(s=Kt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=d}},function(d){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,yy(s),s}throw Kr=r,Yr}}var Kr=null;function gy(){if(Kr===null)throw Error(n(459));var s=Kr;return Kr=null,s}function yy(s){if(s===Yr||s===ec)throw Error(n(483))}var qi=!1;function Wh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Yi(s,r,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ft&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,r=Yl(s),iy(s,null,c),r}return Xl(s,d,r,c),Yl(s)}function Wr(s,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,c|=d,r.lanes=c,ug(s,c)}}function Zh(s,r){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?m=y=r:y=y.next=r}else m=y=r;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=r:s.next=r,c.lastBaseUpdate=r}var Jh=!1;function Qr(){if(Jh){var s=Pa;if(s!==null)throw s}}function Zr(s,r,c,d){Jh=!1;var m=s.updateQueue;qi=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var L=_,H=L.next;L.next=null,x===null?y=H:x.next=H,x=L;var K=s.alternate;K!==null&&(K=K.updateQueue,_=K.lastBaseUpdate,_!==x&&(_===null?K.firstBaseUpdate=H:_.next=H,K.lastBaseUpdate=L))}if(y!==null){var Q=m.baseState;x=0,K=H=L=null,_=y;do{var z=_.lane&-536870913,G=z!==_.lane;if(G?(Pt&z)===z:(d&z)===z){z!==0&&z===Oa&&(Jh=!0),K!==null&&(K=K.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var vt=s,mt=_;z=r;var Ht=c;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Q=vt.call(Ht,Q,z);break t}Q=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,z=typeof vt=="function"?vt.call(Ht,Q,z):vt,z==null)break t;Q=p({},Q,z);break t;case 2:qi=!0}}z=_.callback,z!==null&&(s.flags|=64,G&&(s.flags|=8192),G=m.callbacks,G===null?m.callbacks=[z]:G.push(z))}else G={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},K===null?(H=K=G,L=Q):K=K.next=G,x|=z;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;G=_,_=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);K===null&&(L=Q),m.baseState=L,m.firstBaseUpdate=H,m.lastBaseUpdate=K,y===null&&(m.shared.lanes=0),ns|=x,s.lanes=x,s.memoizedState=Q}}function vy(s,r){if(typeof s!="function")throw Error(n(191,s));s.call(r)}function by(s,r){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)vy(c[s],r)}var Na=Y(null),ic=Y(0);function Ay(s,r){s=Ci,q(ic,s),q(Na,r),Ci=s|r.baseLanes}function td(){q(ic,Ci),q(Na,Na.current)}function ed(){Ci=ic.current,tt(Na),tt(ic)}var Ki=0,Ct=null,Ut=null,be=null,sc=!1,ka=!1,Is=!1,ac=0,Jr=0,Ba=null,uT=0;function fe(){throw Error(n(321))}function nd(s,r){if(r===null)return!1;for(var c=0;c<r.length&&c<s.length;c++)if(!un(s[c],r[c]))return!1;return!0}function id(s,r,c,d,m,y){return Ki=y,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=s===null||s.memoizedState===null?iv:sv,Is=!1,y=c(d,m),Is=!1,ka&&(y=wy(r,c,d,m)),Sy(s),y}function Sy(s){B.H=hc;var r=Ut!==null&&Ut.next!==null;if(Ki=0,be=Ut=Ct=null,sc=!1,Jr=0,Ba=null,r)throw Error(n(300));s===null||Ce||(s=s.dependencies,s!==null&&Zl(s)&&(Ce=!0))}function wy(s,r,c,d){Ct=s;var m=0;do{if(ka&&(Ba=null),Jr=0,ka=!1,25<=m)throw Error(n(301));if(m+=1,be=Ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=yT,y=r(c,d)}while(ka);return y}function hT(){var s=B.H,r=s.useState()[0];return r=typeof r.then=="function"?to(r):r,s=s.useState()[0],(Ut!==null?Ut.memoizedState:null)!==s&&(Ct.flags|=1024),r}function sd(){var s=ac!==0;return ac=0,s}function ad(s,r,c){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~c}function rd(s){if(sc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}sc=!1}Ki=0,be=Ut=Ct=null,ka=!1,Jr=ac=0,Ba=null}function Je(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=s:be=be.next=s,be}function Ae(){if(Ut===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Ut.next;var r=be===null?Ct.memoizedState:be.next;if(r!==null)be=r,Ut=s;else{if(s===null)throw Ct.alternate===null?Error(n(467)):Error(n(310));Ut=s,s={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},be===null?Ct.memoizedState=be=s:be=be.next=s}return be}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(s){var r=Jr;return Jr+=1,Ba===null&&(Ba=[]),s=my(Ba,s,r),r=Ct,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?iv:sv),s}function rc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return to(s);if(s.$$typeof===C)return Ue(s)}throw Error(n(438,String(s)))}function ld(s){var r=null,c=Ct.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var d=Ct.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=od(),Ct.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(s),d=0;d<s;d++)c[d]=X;return r.index++,c}function Ai(s,r){return typeof r=="function"?r(s):r}function oc(s){var r=Ae();return cd(r,Ut,s)}function cd(s,r,c){var d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=c;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}r.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var _=x=null,L=null,H=r,K=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(Pt&Q)===Q:(Ki&Q)===Q){var z=H.revertLane;if(z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===Oa&&(K=!0);else if((Ki&z)===z){H=H.next,z===Oa&&(K=!0);continue}else Q={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(_=L=Q,x=y):L=L.next=Q,Ct.lanes|=z,ns|=z;Q=H.action,Is&&c(y,Q),y=H.hasEagerState?H.eagerState:c(y,Q)}else z={lane:Q,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(_=L=z,x=y):L=L.next=z,Ct.lanes|=Q,ns|=Q;H=H.next}while(H!==null&&H!==r);if(L===null?x=y:L.next=_,!un(y,s.memoizedState)&&(Ce=!0,K&&(c=Pa,c!==null)))throw c;s.memoizedState=y,s.baseState=x,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function ud(s){var r=Ae(),c=r.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,y=r.memoizedState;if(m!==null){c.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);un(y,r.memoizedState)||(Ce=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),c.lastRenderedState=y}return[y,d]}function Ey(s,r,c){var d=Ct,m=Ae(),y=kt;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=r();var x=!un((Ut||m).memoizedState,c);x&&(m.memoizedState=c,Ce=!0),m=m.queue;var _=Cy.bind(null,d,m,s);if(eo(2048,8,_,[s]),m.getSnapshot!==r||x||be!==null&&be.memoizedState.tag&1){if(d.flags|=2048,Fa(9,lc(),Ty.bind(null,d,m,c,r),null),Kt===null)throw Error(n(349));y||(Ki&124)!==0||xy(d,r,c)}return c}function xy(s,r,c){s.flags|=16384,s={getSnapshot:r,value:c},r=Ct.updateQueue,r===null?(r=od(),Ct.updateQueue=r,r.stores=[s]):(c=r.stores,c===null?r.stores=[s]:c.push(s))}function Ty(s,r,c,d){r.value=c,r.getSnapshot=d,_y(r)&&Ry(s)}function Cy(s,r,c){return c(function(){_y(r)&&Ry(s)})}function _y(s){var r=s.getSnapshot;s=s.value;try{var c=r();return!un(s,c)}catch{return!0}}function Ry(s){var r=Ra(s,2);r!==null&&gn(r,s,2)}function hd(s){var r=Je();if(typeof s=="function"){var c=s;if(s=c(),Is){$e(!0);try{c()}finally{$e(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:s},r}function My(s,r,c,d){return s.baseState=c,cd(s,Ut,typeof d=="function"?d:Ai)}function dT(s,r,c,d,m){if(uc(s))throw Error(n(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};B.T!==null?c(!0):y.isTransition=!1,d(y),c=r.pending,c===null?(y.next=r.pending=y,Dy(r,y)):(y.next=c.next,r.pending=c.next=y)}}function Dy(s,r){var c=r.action,d=r.payload,m=s.state;if(r.isTransition){var y=B.T,x={};B.T=x;try{var _=c(m,d),L=B.S;L!==null&&L(x,_),Ly(s,r,_)}catch(H){dd(s,r,H)}finally{B.T=y}}else try{y=c(m,d),Ly(s,r,y)}catch(H){dd(s,r,H)}}function Ly(s,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Oy(s,r,d)},function(d){return dd(s,r,d)}):Oy(s,r,c)}function Oy(s,r,c){r.status="fulfilled",r.value=c,Py(r),s.state=c,r=s.pending,r!==null&&(c=r.next,c===r?s.pending=null:(c=c.next,r.next=c,Dy(s,c)))}function dd(s,r,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=c,Py(r),r=r.next;while(r!==d)}s.action=null}function Py(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ny(s,r){return r}function ky(s,r){if(kt){var c=Kt.formState;if(c!==null){t:{var d=Ct;if(kt){if(ce){e:{for(var m=ce,y=$n;m.nodeType!==8;){if(!y){m=null;break e}if(m=Un(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ce=Un(m.nextSibling),d=m.data==="F!";break t}}Ns(d)}d=!1}d&&(r=c[0])}}return c=Je(),c.memoizedState=c.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:r},c.queue=d,c=tv.bind(null,Ct,d),d.dispatch=c,d=hd(!1),y=yd.bind(null,Ct,!1,d.queue),d=Je(),m={state:r,dispatch:null,action:s,pending:null},d.queue=m,c=dT.bind(null,Ct,m,y,c),m.dispatch=c,d.memoizedState=s,[r,c,!1]}function By(s){var r=Ae();return Fy(r,Ut,s)}function Fy(s,r,c){if(r=cd(s,r,Ny)[0],s=oc(Ai)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=to(r)}catch(x){throw x===Yr?ec:x}else d=r;r=Ae();var m=r.queue,y=m.dispatch;return c!==r.memoizedState&&(Ct.flags|=2048,Fa(9,lc(),fT.bind(null,m,c),null)),[d,y,s]}function fT(s,r){s.action=r}function Iy(s){var r=Ae(),c=Ut;if(c!==null)return Fy(r,c,s);Ae(),r=r.memoizedState,c=Ae();var d=c.queue.dispatch;return c.memoizedState=s,[r,d,!1]}function Fa(s,r,c,d){return s={tag:s,create:c,deps:d,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=od(),Ct.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,r.lastEffect=s),s}function lc(){return{destroy:void 0,resource:void 0}}function jy(){return Ae().memoizedState}function cc(s,r,c,d){var m=Je();d=d===void 0?null:d,Ct.flags|=s,m.memoizedState=Fa(1|r,lc(),c,d)}function eo(s,r,c,d){var m=Ae();d=d===void 0?null:d;var y=m.memoizedState.inst;Ut!==null&&d!==null&&nd(d,Ut.memoizedState.deps)?m.memoizedState=Fa(r,y,c,d):(Ct.flags|=s,m.memoizedState=Fa(1|r,y,c,d))}function Uy(s,r){cc(8390656,8,s,r)}function Vy(s,r){eo(2048,8,s,r)}function Hy(s,r){return eo(4,2,s,r)}function zy(s,r){return eo(4,4,s,r)}function Gy(s,r){if(typeof r=="function"){s=s();var c=r(s);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function $y(s,r,c){c=c!=null?c.concat([s]):null,eo(4,4,Gy.bind(null,r,s),c)}function fd(){}function qy(s,r){var c=Ae();r=r===void 0?null:r;var d=c.memoizedState;return r!==null&&nd(r,d[1])?d[0]:(c.memoizedState=[s,r],s)}function Xy(s,r){var c=Ae();r=r===void 0?null:r;var d=c.memoizedState;if(r!==null&&nd(r,d[1]))return d[0];if(d=s(),Is){$e(!0);try{s()}finally{$e(!1)}}return c.memoizedState=[d,r],d}function pd(s,r,c){return c===void 0||(Ki&1073741824)!==0?s.memoizedState=r:(s.memoizedState=c,s=Wv(),Ct.lanes|=s,ns|=s,c)}function Yy(s,r,c,d){return un(c,r)?c:Na.current!==null?(s=pd(s,c,d),un(s,r)||(Ce=!0),s):(Ki&42)===0?(Ce=!0,s.memoizedState=c):(s=Wv(),Ct.lanes|=s,ns|=s,r)}function Ky(s,r,c,d,m){var y=V.p;V.p=y!==0&&8>y?y:8;var x=B.T,_={};B.T=_,yd(s,!1,r,c);try{var L=m(),H=B.S;if(H!==null&&H(_,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=cT(L,d);no(s,r,K,mn(s))}else no(s,r,d,mn(s))}catch(Q){no(s,r,{then:function(){},status:"rejected",reason:Q},mn())}finally{V.p=y,B.T=x}}function pT(){}function md(s,r,c,d){if(s.tag!==5)throw Error(n(476));var m=Wy(s).queue;Ky(s,m,r,Z,c===null?pT:function(){return Qy(s),c(d)})}function Wy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:Z},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:c},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Qy(s){var r=Wy(s).next.queue;no(s,r,{},mn())}function gd(){return Ue(So)}function Zy(){return Ae().memoizedState}function Jy(){return Ae().memoizedState}function mT(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var c=mn();s=Xi(c);var d=Yi(r,s,c);d!==null&&(gn(d,r,c),Wr(d,r,c)),r={cache:qh()},s.payload=r;return}r=r.return}}function gT(s,r,c){var d=mn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},uc(s)?ev(r,c):(c=Bh(s,r,c,d),c!==null&&(gn(c,s,d),nv(c,r,d)))}function tv(s,r,c){var d=mn();no(s,r,c,d)}function no(s,r,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(uc(s))ev(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var x=r.lastRenderedState,_=y(x,c);if(m.hasEagerState=!0,m.eagerState=_,un(_,x))return Xl(s,r,m,0),Kt===null&&ql(),!1}catch{}finally{}if(c=Bh(s,r,m,d),c!==null)return gn(c,s,d),nv(c,r,d),!0}return!1}function yd(s,r,c,d){if(d={lane:2,revertLane:Kd(),action:d,hasEagerState:!1,eagerState:null,next:null},uc(s)){if(r)throw Error(n(479))}else r=Bh(s,c,d,2),r!==null&&gn(r,s,2)}function uc(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function ev(s,r){ka=sc=!0;var c=s.pending;c===null?r.next=r:(r.next=c.next,c.next=r),s.pending=r}function nv(s,r,c){if((c&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,c|=d,r.lanes=c,ug(s,c)}}var hc={readContext:Ue,use:rc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},iv={readContext:Ue,use:rc,useCallback:function(s,r){return Je().memoizedState=[s,r===void 0?null:r],s},useContext:Ue,useEffect:Uy,useImperativeHandle:function(s,r,c){c=c!=null?c.concat([s]):null,cc(4194308,4,Gy.bind(null,r,s),c)},useLayoutEffect:function(s,r){return cc(4194308,4,s,r)},useInsertionEffect:function(s,r){cc(4,2,s,r)},useMemo:function(s,r){var c=Je();r=r===void 0?null:r;var d=s();if(Is){$e(!0);try{s()}finally{$e(!1)}}return c.memoizedState=[d,r],d},useReducer:function(s,r,c){var d=Je();if(c!==void 0){var m=c(r);if(Is){$e(!0);try{c(r)}finally{$e(!1)}}}else m=r;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=gT.bind(null,Ct,s),[d.memoizedState,s]},useRef:function(s){var r=Je();return s={current:s},r.memoizedState=s},useState:function(s){s=hd(s);var r=s.queue,c=tv.bind(null,Ct,r);return r.dispatch=c,[s.memoizedState,c]},useDebugValue:fd,useDeferredValue:function(s,r){var c=Je();return pd(c,s,r)},useTransition:function(){var s=hd(!1);return s=Ky.bind(null,Ct,s.queue,!0,!1),Je().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,c){var d=Ct,m=Je();if(kt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=r(),Kt===null)throw Error(n(349));(Pt&124)!==0||xy(d,r,c)}m.memoizedState=c;var y={value:c,getSnapshot:r};return m.queue=y,Uy(Cy.bind(null,d,y,s),[s]),d.flags|=2048,Fa(9,lc(),Ty.bind(null,d,y,c,r),null),c},useId:function(){var s=Je(),r=Kt.identifierPrefix;if(kt){var c=yi,d=gi;c=(d&~(1<<32-le(d)-1)).toString(32)+c,r=""+r+"R"+c,c=ac++,0<c&&(r+="H"+c.toString(32)),r+=""}else c=uT++,r=""+r+"r"+c.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:gd,useFormState:ky,useActionState:ky,useOptimistic:function(s){var r=Je();r.memoizedState=r.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=yd.bind(null,Ct,!0,c),c.dispatch=r,[s,r]},useMemoCache:ld,useCacheRefresh:function(){return Je().memoizedState=mT.bind(null,Ct)}},sv={readContext:Ue,use:rc,useCallback:qy,useContext:Ue,useEffect:Vy,useImperativeHandle:$y,useInsertionEffect:Hy,useLayoutEffect:zy,useMemo:Xy,useReducer:oc,useRef:jy,useState:function(){return oc(Ai)},useDebugValue:fd,useDeferredValue:function(s,r){var c=Ae();return Yy(c,Ut.memoizedState,s,r)},useTransition:function(){var s=oc(Ai)[0],r=Ae().memoizedState;return[typeof s=="boolean"?s:to(s),r]},useSyncExternalStore:Ey,useId:Zy,useHostTransitionStatus:gd,useFormState:By,useActionState:By,useOptimistic:function(s,r){var c=Ae();return My(c,Ut,s,r)},useMemoCache:ld,useCacheRefresh:Jy},yT={readContext:Ue,use:rc,useCallback:qy,useContext:Ue,useEffect:Vy,useImperativeHandle:$y,useInsertionEffect:Hy,useLayoutEffect:zy,useMemo:Xy,useReducer:ud,useRef:jy,useState:function(){return ud(Ai)},useDebugValue:fd,useDeferredValue:function(s,r){var c=Ae();return Ut===null?pd(c,s,r):Yy(c,Ut.memoizedState,s,r)},useTransition:function(){var s=ud(Ai)[0],r=Ae().memoizedState;return[typeof s=="boolean"?s:to(s),r]},useSyncExternalStore:Ey,useId:Zy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(s,r){var c=Ae();return Ut!==null?My(c,Ut,s,r):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Jy},Ia=null,io=0;function dc(s){var r=io;return io+=1,Ia===null&&(Ia=[]),my(Ia,s,r)}function so(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function fc(s,r){throw r.$$typeof===g?Error(n(525)):(s=Object.prototype.toString.call(r),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function av(s){var r=s._init;return r(s._payload)}function rv(s){function r(j,N){if(s){var U=j.deletions;U===null?(j.deletions=[N],j.flags|=16):U.push(N)}}function c(j,N){if(!s)return null;for(;N!==null;)r(j,N),N=N.sibling;return null}function d(j){for(var N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function m(j,N){return j=mi(j,N),j.index=0,j.sibling=null,j}function y(j,N,U){return j.index=U,s?(U=j.alternate,U!==null?(U=U.index,U<N?(j.flags|=67108866,N):U):(j.flags|=67108866,N)):(j.flags|=1048576,N)}function x(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function _(j,N,U,W){return N===null||N.tag!==6?(N=Ih(U,j.mode,W),N.return=j,N):(N=m(N,U),N.return=j,N)}function L(j,N,U,W){var ct=U.type;return ct===S?K(j,N,U.props.children,W,U.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===I&&av(ct)===N.type)?(N=m(N,U.props),so(N,U),N.return=j,N):(N=Kl(U.type,U.key,U.props,null,j.mode,W),so(N,U),N.return=j,N)}function H(j,N,U,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=jh(U,j.mode,W),N.return=j,N):(N=m(N,U.children||[]),N.return=j,N)}function K(j,N,U,W,ct){return N===null||N.tag!==7?(N=Ds(U,j.mode,W,ct),N.return=j,N):(N=m(N,U),N.return=j,N)}function Q(j,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ih(""+N,j.mode,U),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return U=Kl(N.type,N.key,N.props,null,j.mode,U),so(U,N),U.return=j,U;case b:return N=jh(N,j.mode,U),N.return=j,N;case I:var W=N._init;return N=W(N._payload),Q(j,N,U)}if(lt(N)||rt(N))return N=Ds(N,j.mode,U,null),N.return=j,N;if(typeof N.then=="function")return Q(j,dc(N),U);if(N.$$typeof===C)return Q(j,Jl(j,N),U);fc(j,N)}return null}function z(j,N,U,W){var ct=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:_(j,N,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===ct?L(j,N,U,W):null;case b:return U.key===ct?H(j,N,U,W):null;case I:return ct=U._init,U=ct(U._payload),z(j,N,U,W)}if(lt(U)||rt(U))return ct!==null?null:K(j,N,U,W,null);if(typeof U.then=="function")return z(j,N,dc(U),W);if(U.$$typeof===C)return z(j,N,Jl(j,U),W);fc(j,U)}return null}function G(j,N,U,W,ct){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(U)||null,_(N,j,""+W,ct);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return j=j.get(W.key===null?U:W.key)||null,L(N,j,W,ct);case b:return j=j.get(W.key===null?U:W.key)||null,H(N,j,W,ct);case I:var _t=W._init;return W=_t(W._payload),G(j,N,U,W,ct)}if(lt(W)||rt(W))return j=j.get(U)||null,K(N,j,W,ct,null);if(typeof W.then=="function")return G(j,N,U,dc(W),ct);if(W.$$typeof===C)return G(j,N,U,Jl(N,W),ct);fc(N,W)}return null}function vt(j,N,U,W){for(var ct=null,_t=null,ht=N,gt=N=0,Re=null;ht!==null&&gt<U.length;gt++){ht.index>gt?(Re=ht,ht=null):Re=ht.sibling;var Nt=z(j,ht,U[gt],W);if(Nt===null){ht===null&&(ht=Re);break}s&&ht&&Nt.alternate===null&&r(j,ht),N=y(Nt,N,gt),_t===null?ct=Nt:_t.sibling=Nt,_t=Nt,ht=Re}if(gt===U.length)return c(j,ht),kt&&Os(j,gt),ct;if(ht===null){for(;gt<U.length;gt++)ht=Q(j,U[gt],W),ht!==null&&(N=y(ht,N,gt),_t===null?ct=ht:_t.sibling=ht,_t=ht);return kt&&Os(j,gt),ct}for(ht=d(ht);gt<U.length;gt++)Re=G(ht,j,gt,U[gt],W),Re!==null&&(s&&Re.alternate!==null&&ht.delete(Re.key===null?gt:Re.key),N=y(Re,N,gt),_t===null?ct=Re:_t.sibling=Re,_t=Re);return s&&ht.forEach(function(hs){return r(j,hs)}),kt&&Os(j,gt),ct}function mt(j,N,U,W){if(U==null)throw Error(n(151));for(var ct=null,_t=null,ht=N,gt=N=0,Re=null,Nt=U.next();ht!==null&&!Nt.done;gt++,Nt=U.next()){ht.index>gt?(Re=ht,ht=null):Re=ht.sibling;var hs=z(j,ht,Nt.value,W);if(hs===null){ht===null&&(ht=Re);break}s&&ht&&hs.alternate===null&&r(j,ht),N=y(hs,N,gt),_t===null?ct=hs:_t.sibling=hs,_t=hs,ht=Re}if(Nt.done)return c(j,ht),kt&&Os(j,gt),ct;if(ht===null){for(;!Nt.done;gt++,Nt=U.next())Nt=Q(j,Nt.value,W),Nt!==null&&(N=y(Nt,N,gt),_t===null?ct=Nt:_t.sibling=Nt,_t=Nt);return kt&&Os(j,gt),ct}for(ht=d(ht);!Nt.done;gt++,Nt=U.next())Nt=G(ht,j,gt,Nt.value,W),Nt!==null&&(s&&Nt.alternate!==null&&ht.delete(Nt.key===null?gt:Nt.key),N=y(Nt,N,gt),_t===null?ct=Nt:_t.sibling=Nt,_t=Nt);return s&&ht.forEach(function(vC){return r(j,vC)}),kt&&Os(j,gt),ct}function Ht(j,N,U,W){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:t:{for(var ct=U.key;N!==null;){if(N.key===ct){if(ct=U.type,ct===S){if(N.tag===7){c(j,N.sibling),W=m(N,U.props.children),W.return=j,j=W;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===I&&av(ct)===N.type){c(j,N.sibling),W=m(N,U.props),so(W,U),W.return=j,j=W;break t}c(j,N);break}else r(j,N);N=N.sibling}U.type===S?(W=Ds(U.props.children,j.mode,W,U.key),W.return=j,j=W):(W=Kl(U.type,U.key,U.props,null,j.mode,W),so(W,U),W.return=j,j=W)}return x(j);case b:t:{for(ct=U.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){c(j,N.sibling),W=m(N,U.children||[]),W.return=j,j=W;break t}else{c(j,N);break}else r(j,N);N=N.sibling}W=jh(U,j.mode,W),W.return=j,j=W}return x(j);case I:return ct=U._init,U=ct(U._payload),Ht(j,N,U,W)}if(lt(U))return vt(j,N,U,W);if(rt(U)){if(ct=rt(U),typeof ct!="function")throw Error(n(150));return U=ct.call(U),mt(j,N,U,W)}if(typeof U.then=="function")return Ht(j,N,dc(U),W);if(U.$$typeof===C)return Ht(j,N,Jl(j,U),W);fc(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(c(j,N.sibling),W=m(N,U),W.return=j,j=W):(c(j,N),W=Ih(U,j.mode,W),W.return=j,j=W),x(j)):c(j,N)}return function(j,N,U,W){try{io=0;var ct=Ht(j,N,U,W);return Ia=null,ct}catch(ht){if(ht===Yr||ht===ec)throw ht;var _t=hn(29,ht,null,j.mode);return _t.lanes=W,_t.return=j,_t}finally{}}}var ja=rv(!0),ov=rv(!1),_n=Y(null),qn=null;function Wi(s){var r=s.alternate;q(xe,xe.current&1),q(_n,s),qn===null&&(r===null||Na.current!==null||r.memoizedState!==null)&&(qn=s)}function lv(s){if(s.tag===22){if(q(xe,xe.current),q(_n,s),qn===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(qn=s)}}else Qi()}function Qi(){q(xe,xe.current),q(_n,_n.current)}function Si(s){tt(_n),qn===s&&(qn=null),tt(xe)}var xe=Y(0);function pc(s){for(var r=s;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||lf(c)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function vd(s,r,c,d){r=s.memoizedState,c=c(d,r),c=c==null?r:p({},r,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var bd={enqueueSetState:function(s,r,c){s=s._reactInternals;var d=mn(),m=Xi(d);m.payload=r,c!=null&&(m.callback=c),r=Yi(s,m,d),r!==null&&(gn(r,s,d),Wr(r,s,d))},enqueueReplaceState:function(s,r,c){s=s._reactInternals;var d=mn(),m=Xi(d);m.tag=1,m.payload=r,c!=null&&(m.callback=c),r=Yi(s,m,d),r!==null&&(gn(r,s,d),Wr(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var c=mn(),d=Xi(c);d.tag=2,r!=null&&(d.callback=r),r=Yi(s,d,c),r!==null&&(gn(r,s,c),Wr(r,s,c))}};function cv(s,r,c,d,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,x):r.prototype&&r.prototype.isPureReactComponent?!Ur(c,d)||!Ur(m,y):!0}function uv(s,r,c,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,d),r.state!==s&&bd.enqueueReplaceState(r,r.state,null)}function js(s,r){var c=r;if("ref"in r){c={};for(var d in r)d!=="ref"&&(c[d]=r[d])}if(s=s.defaultProps){c===r&&(c=p({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var mc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function hv(s){mc(s)}function dv(s){console.error(s)}function fv(s){mc(s)}function gc(s,r){try{var c=s.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function pv(s,r,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ad(s,r,c){return c=Xi(c),c.tag=3,c.payload={element:null},c.callback=function(){gc(s,r)},c}function mv(s){return s=Xi(s),s.tag=3,s}function gv(s,r,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){pv(r,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){pv(r,c,d),typeof m!="function"&&(is===null?is=new Set([this]):is.add(this));var _=d.stack;this.componentDidCatch(d.value,{componentStack:_!==null?_:""})})}function vT(s,r,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=c.alternate,r!==null&&$r(r,c,m,!0),c=_n.current,c!==null){switch(c.tag){case 13:return qn===null?Gd():c.alternate===null&&ue===0&&(ue=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===Kh?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([d]):r.add(d),qd(s,d,m)),!1;case 22:return c.flags|=65536,d===Kh?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([d]):c.add(d)),qd(s,d,m)),!1}throw Error(n(435,c.tag))}return qd(s,d,m),Gd(),!1}if(kt)return r=_n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,d!==Hh&&(s=Error(n(422),{cause:d}),Gr(En(s,c)))):(d!==Hh&&(r=Error(n(423),{cause:d}),Gr(En(r,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=En(d,c),m=Ad(s.stateNode,d,m),Zh(s,m),ue!==4&&(ue=2)),!1;var y=Error(n(520),{cause:d});if(y=En(y,c),ho===null?ho=[y]:ho.push(y),ue!==4&&(ue=2),r===null)return!0;d=En(d,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Ad(c.stateNode,d,s),Zh(c,s),!1;case 1:if(r=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(is===null||!is.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=mv(m),gv(m,s,c,d),Zh(c,m),!1}c=c.return}while(c!==null);return!1}var yv=Error(n(461)),Ce=!1;function Pe(s,r,c,d){r.child=s===null?ov(r,null,c,d):ja(r,s.child,c,d)}function vv(s,r,c,d,m){c=c.render;var y=r.ref;if("ref"in d){var x={};for(var _ in d)_!=="ref"&&(x[_]=d[_])}else x=d;return Bs(r),d=id(s,r,c,x,y,m),_=sd(),s!==null&&!Ce?(ad(s,r,m),wi(s,r,m)):(kt&&_&&Uh(r),r.flags|=1,Pe(s,r,d,m),r.child)}function bv(s,r,c,d,m){if(s===null){var y=c.type;return typeof y=="function"&&!Fh(y)&&y.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=y,Av(s,r,y,d,m)):(s=Kl(c.type,null,d,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Rd(s,m)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ur,c(x,d)&&s.ref===r.ref)return wi(s,r,m)}return r.flags|=1,s=mi(y,d),s.ref=r.ref,s.return=r,r.child=s}function Av(s,r,c,d,m){if(s!==null){var y=s.memoizedProps;if(Ur(y,d)&&s.ref===r.ref)if(Ce=!1,r.pendingProps=d=y,Rd(s,m))(s.flags&131072)!==0&&(Ce=!0);else return r.lanes=s.lanes,wi(s,r,m)}return Sd(s,r,c,d,m)}function Sv(s,r,c){var d=r.pendingProps,m=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=y!==null?y.baseLanes|c:c,s!==null){for(m=r.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;r.childLanes=y&~d}else r.childLanes=0,r.child=null;return wv(s,r,d,c)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&tc(r,y!==null?y.cachePool:null),y!==null?Ay(r,y):td(),lv(r);else return r.lanes=r.childLanes=536870912,wv(s,r,y!==null?y.baseLanes|c:c,c)}else y!==null?(tc(r,y.cachePool),Ay(r,y),Qi(),r.memoizedState=null):(s!==null&&tc(r,null),td(),Qi());return Pe(s,r,m,c),r.child}function wv(s,r,c,d){var m=Yh();return m=m===null?null:{parent:Ee._currentValue,pool:m},r.memoizedState={baseLanes:c,cachePool:m},s!==null&&tc(r,null),td(),lv(r),s!==null&&$r(s,r,d,!0),null}function yc(s,r){var c=r.ref;if(c===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(r.flags|=4194816)}}function Sd(s,r,c,d,m){return Bs(r),c=id(s,r,c,d,void 0,m),d=sd(),s!==null&&!Ce?(ad(s,r,m),wi(s,r,m)):(kt&&d&&Uh(r),r.flags|=1,Pe(s,r,c,m),r.child)}function Ev(s,r,c,d,m,y){return Bs(r),r.updateQueue=null,c=wy(r,d,c,m),Sy(s),d=sd(),s!==null&&!Ce?(ad(s,r,y),wi(s,r,y)):(kt&&d&&Uh(r),r.flags|=1,Pe(s,r,c,y),r.child)}function xv(s,r,c,d,m){if(Bs(r),r.stateNode===null){var y=Ma,x=c.contextType;typeof x=="object"&&x!==null&&(y=Ue(x)),y=new c(d,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bd,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=d,y.state=r.memoizedState,y.refs={},Wh(r),x=c.contextType,y.context=typeof x=="object"&&x!==null?Ue(x):Ma,y.state=r.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(vd(r,c,x,d),y.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&bd.enqueueReplaceState(y,y.state,null),Zr(r,d,y,m),Qr(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){y=r.stateNode;var _=r.memoizedProps,L=js(c,_);y.props=L;var H=y.context,K=c.contextType;x=Ma,typeof K=="object"&&K!==null&&(x=Ue(K));var Q=c.getDerivedStateFromProps;K=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||H!==x)&&uv(r,y,d,x),qi=!1;var z=r.memoizedState;y.state=z,Zr(r,d,y,m),Qr(),H=r.memoizedState,_||z!==H||qi?(typeof Q=="function"&&(vd(r,c,Q,d),H=r.memoizedState),(L=qi||cv(r,c,L,d,z,H,x))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=H),y.props=d,y.state=H,y.context=x,d=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{y=r.stateNode,Qh(s,r),x=r.memoizedProps,K=js(c,x),y.props=K,Q=r.pendingProps,z=y.context,H=c.contextType,L=Ma,typeof H=="object"&&H!==null&&(L=Ue(H)),_=c.getDerivedStateFromProps,(H=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Q||z!==L)&&uv(r,y,d,L),qi=!1,z=r.memoizedState,y.state=z,Zr(r,d,y,m),Qr();var G=r.memoizedState;x!==Q||z!==G||qi||s!==null&&s.dependencies!==null&&Zl(s.dependencies)?(typeof _=="function"&&(vd(r,c,_,d),G=r.memoizedState),(K=qi||cv(r,c,K,d,z,G,L)||s!==null&&s.dependencies!==null&&Zl(s.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,G,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,G,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=G),y.props=d,y.state=G,y.context=L,d=K):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),d=!1)}return y=d,yc(s,r),d=(r.flags&128)!==0,y||d?(y=r.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&d?(r.child=ja(r,s.child,null,m),r.child=ja(r,null,c,m)):Pe(s,r,c,m),r.memoizedState=y.state,s=r.child):s=wi(s,r,m),s}function Tv(s,r,c,d){return zr(),r.flags|=256,Pe(s,r,c,d),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(s){return{baseLanes:s,cachePool:dy()}}function xd(s,r,c){return s=s!==null?s.childLanes&~c:0,r&&(s|=Rn),s}function Cv(s,r,c){var d=r.pendingProps,m=!1,y=(r.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),x&&(m=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if(kt){if(m?Wi(r):Qi(),kt){var _=ce,L;if(L=_){t:{for(L=_,_=$n;L.nodeType!==8;){if(!_){_=null;break t}if(L=Un(L.nextSibling),L===null){_=null;break t}}_=L}_!==null?(r.memoizedState={dehydrated:_,treeContext:Ls!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},L=hn(18,null,null,0),L.stateNode=_,L.return=r,r.child=L,qe=r,ce=null,L=!0):L=!1}L||Ns(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return lf(_)?r.lanes=32:r.lanes=536870912,null;Si(r)}return _=d.children,d=d.fallback,m?(Qi(),m=r.mode,_=vc({mode:"hidden",children:_},m),d=Ds(d,m,c,null),_.return=r,d.return=r,_.sibling=d,r.child=_,m=r.child,m.memoizedState=Ed(c),m.childLanes=xd(s,x,c),r.memoizedState=wd,d):(Wi(r),Td(r,_))}if(L=s.memoizedState,L!==null&&(_=L.dehydrated,_!==null)){if(y)r.flags&256?(Wi(r),r.flags&=-257,r=Cd(s,r,c)):r.memoizedState!==null?(Qi(),r.child=s.child,r.flags|=128,r=null):(Qi(),m=d.fallback,_=r.mode,d=vc({mode:"visible",children:d.children},_),m=Ds(m,_,c,null),m.flags|=2,d.return=r,m.return=r,d.sibling=m,r.child=d,ja(r,s.child,null,c),d=r.child,d.memoizedState=Ed(c),d.childLanes=xd(s,x,c),r.memoizedState=wd,r=m);else if(Wi(r),lf(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var H=x.dgst;x=H,d=Error(n(419)),d.stack="",d.digest=x,Gr({value:d,source:null,stack:null}),r=Cd(s,r,c)}else if(Ce||$r(s,r,c,!1),x=(c&s.childLanes)!==0,Ce||x){if(x=Kt,x!==null&&(d=c&-c,d=(d&42)!==0?1:lh(d),d=(d&(x.suspendedLanes|c))!==0?0:d,d!==0&&d!==L.retryLane))throw L.retryLane=d,Ra(s,d),gn(x,s,d),yv;_.data==="$?"||Gd(),r=Cd(s,r,c)}else _.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,ce=Un(_.nextSibling),qe=r,kt=!0,Ps=null,$n=!1,s!==null&&(Tn[Cn++]=gi,Tn[Cn++]=yi,Tn[Cn++]=Ls,gi=s.id,yi=s.overflow,Ls=r),r=Td(r,d.children),r.flags|=4096);return r}return m?(Qi(),m=d.fallback,_=r.mode,L=s.child,H=L.sibling,d=mi(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&65011712,H!==null?m=mi(H,m):(m=Ds(m,_,c,null),m.flags|=2),m.return=r,d.return=r,d.sibling=m,r.child=d,d=m,m=r.child,_=s.child.memoizedState,_===null?_=Ed(c):(L=_.cachePool,L!==null?(H=Ee._currentValue,L=L.parent!==H?{parent:H,pool:H}:L):L=dy(),_={baseLanes:_.baseLanes|c,cachePool:L}),m.memoizedState=_,m.childLanes=xd(s,x,c),r.memoizedState=wd,d):(Wi(r),c=s.child,s=c.sibling,c=mi(c,{mode:"visible",children:d.children}),c.return=r,c.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=c,r.memoizedState=null,c)}function Td(s,r){return r=vc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function vc(s,r){return s=hn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Cd(s,r,c){return ja(r,s.child,null,c),s=Td(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function _v(s,r,c){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),Gh(s.return,r,c)}function _d(s,r,c,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function Rv(s,r,c){var d=r.pendingProps,m=d.revealOrder,y=d.tail;if(Pe(s,r,d.children,c),d=xe.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_v(s,c,r);else if(s.tag===19)_v(s,c,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(q(xe,d),m){case"forwards":for(c=r.child,m=null;c!==null;)s=c.alternate,s!==null&&pc(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=r.child,r.child=null):(m=c.sibling,c.sibling=null),_d(r,!1,m,c,y);break;case"backwards":for(c=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&pc(s)===null){r.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}_d(r,!0,c,null,y);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function wi(s,r,c){if(s!==null&&(r.dependencies=s.dependencies),ns|=r.lanes,(c&r.childLanes)===0)if(s!==null){if($r(s,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(n(153));if(r.child!==null){for(s=r.child,c=mi(s,s.pendingProps),r.child=c,c.return=r;s.sibling!==null;)s=s.sibling,c=c.sibling=mi(s,s.pendingProps),c.return=r;c.sibling=null}return r.child}function Rd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Zl(s)))}function bT(s,r,c){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),$i(r,Ee,s.memoizedState.cache),zr();break;case 27:case 5:Gt(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:$i(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Wi(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Cv(s,r,c):(Wi(r),s=wi(s,r,c),s!==null?s.sibling:null);Wi(r);break;case 19:var m=(s.flags&128)!==0;if(d=(c&r.childLanes)!==0,d||($r(s,r,c,!1),d=(c&r.childLanes)!==0),m){if(d)return Rv(s,r,c);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),q(xe,xe.current),d)break;return null;case 22:case 23:return r.lanes=0,Sv(s,r,c);case 24:$i(r,Ee,s.memoizedState.cache)}return wi(s,r,c)}function Mv(s,r,c){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ce=!0;else{if(!Rd(s,c)&&(r.flags&128)===0)return Ce=!1,bT(s,r,c);Ce=(s.flags&131072)!==0}else Ce=!1,kt&&(r.flags&1048576)!==0&&ay(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var d=r.elementType,m=d._init;if(d=m(d._payload),r.type=d,typeof d=="function")Fh(d)?(s=js(d,s),r.tag=1,r=xv(null,r,d,s,c)):(r.tag=0,r=Sd(null,r,d,s,c));else{if(d!=null){if(m=d.$$typeof,m===D){r.tag=11,r=vv(null,r,d,s,c);break t}else if(m===k){r.tag=14,r=bv(null,r,d,s,c);break t}}throw r=nt(d)||d,Error(n(306,r,""))}}return r;case 0:return Sd(s,r,r.type,r.pendingProps,c);case 1:return d=r.type,m=js(d,r.pendingProps),xv(s,r,d,m,c);case 3:t:{if(Tt(r,r.stateNode.containerInfo),s===null)throw Error(n(387));d=r.pendingProps;var y=r.memoizedState;m=y.element,Qh(s,r),Zr(r,d,null,c);var x=r.memoizedState;if(d=x.cache,$i(r,Ee,d),d!==y.cache&&$h(r,[Ee],c,!0),Qr(),d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Tv(s,r,d,c);break t}else if(d!==m){m=En(Error(n(424)),r),Gr(m),r=Tv(s,r,d,c);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ce=Un(s.firstChild),qe=r,kt=!0,Ps=null,$n=!0,c=ov(r,null,d,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(zr(),d===m){r=wi(s,r,c);break t}Pe(s,r,d,c)}r=r.child}return r;case 26:return yc(s,r),s===null?(c=P0(r.type,null,r.pendingProps,null))?r.memoizedState=c:kt||(c=r.type,s=r.pendingProps,d=Oc(ut.current).createElement(c),d[je]=r,d[Qe]=s,ke(d,c,s),Te(d),r.stateNode=d):r.memoizedState=P0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Gt(r),s===null&&kt&&(d=r.stateNode=D0(r.type,r.pendingProps,ut.current),qe=r,$n=!0,m=ce,rs(r.type)?(cf=m,ce=Un(d.firstChild)):ce=m),Pe(s,r,r.pendingProps.children,c),yc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&kt&&((m=d=ce)&&(d=XT(d,r.type,r.pendingProps,$n),d!==null?(r.stateNode=d,qe=r,ce=Un(d.firstChild),$n=!1,m=!0):m=!1),m||Ns(r)),Gt(r),m=r.type,y=r.pendingProps,x=s!==null?s.memoizedProps:null,d=y.children,af(m,y)?d=null:x!==null&&af(m,x)&&(r.flags|=32),r.memoizedState!==null&&(m=id(s,r,hT,null,null,c),So._currentValue=m),yc(s,r),Pe(s,r,d,c),r.child;case 6:return s===null&&kt&&((s=c=ce)&&(c=YT(c,r.pendingProps,$n),c!==null?(r.stateNode=c,qe=r,ce=null,s=!0):s=!1),s||Ns(r)),null;case 13:return Cv(s,r,c);case 4:return Tt(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=ja(r,null,d,c):Pe(s,r,d,c),r.child;case 11:return vv(s,r,r.type,r.pendingProps,c);case 7:return Pe(s,r,r.pendingProps,c),r.child;case 8:return Pe(s,r,r.pendingProps.children,c),r.child;case 12:return Pe(s,r,r.pendingProps.children,c),r.child;case 10:return d=r.pendingProps,$i(r,r.type,d.value),Pe(s,r,d.children,c),r.child;case 9:return m=r.type._context,d=r.pendingProps.children,Bs(r),m=Ue(m),d=d(m),r.flags|=1,Pe(s,r,d,c),r.child;case 14:return bv(s,r,r.type,r.pendingProps,c);case 15:return Av(s,r,r.type,r.pendingProps,c);case 19:return Rv(s,r,c);case 31:return d=r.pendingProps,c=r.mode,d={mode:d.mode,children:d.children},s===null?(c=vc(d,c),c.ref=r.ref,r.child=c,c.return=r,r=c):(c=mi(s.child,d),c.ref=r.ref,r.child=c,c.return=r,r=c),r;case 22:return Sv(s,r,c);case 24:return Bs(r),d=Ue(Ee),s===null?(m=Yh(),m===null&&(m=Kt,y=qh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),r.memoizedState={parent:d,cache:m},Wh(r),$i(r,Ee,m)):((s.lanes&c)!==0&&(Qh(s,r),Zr(r,null,null,c),Qr()),m=s.memoizedState,y=r.memoizedState,m.parent!==d?(m={parent:d,cache:d},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),$i(r,Ee,d)):(d=y.cache,$i(r,Ee,d),d!==m.cache&&$h(r,[Ee],c,!0))),Pe(s,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function Ei(s){s.flags|=4}function Dv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!I0(r)){if(r=_n.current,r!==null&&((Pt&4194048)===Pt?qn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||r!==qn))throw Kr=Kh,fy;s.flags|=8192}}function bc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?lg():536870912,s.lanes|=r,za|=r)}function ao(s,r){if(!kt)switch(s.tailMode){case"hidden":r=s.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ee(s){var r=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(r)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,r}function AT(s,r,c){var d=r.pendingProps;switch(Vh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(r),null;case 1:return ee(r),null;case 3:return c=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),bi(Ee),Bt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Hr(r)?Ei(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ly())),ee(r),null;case 26:return c=r.memoizedState,s===null?(Ei(r),c!==null?(ee(r),Dv(r,c)):(ee(r),r.flags&=-16777217)):c?c!==s.memoizedState?(Ei(r),ee(r),Dv(r,c)):(ee(r),r.flags&=-16777217):(s.memoizedProps!==d&&Ei(r),ee(r),r.flags&=-16777217),null;case 27:We(r),c=ut.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Ei(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return ee(r),null}s=et.current,Hr(r)?ry(r):(s=D0(m,d,c),r.stateNode=s,Ei(r))}return ee(r),null;case 5:if(We(r),c=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Ei(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return ee(r),null}if(s=et.current,Hr(r))ry(r);else{switch(m=Oc(ut.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}s[je]=r,s[Qe]=d;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;t:switch(ke(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ei(r)}}return ee(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&Ei(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(n(166));if(s=ut.current,Hr(r)){if(s=r.stateNode,c=r.memoizedProps,d=null,m=qe,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[je]=r,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||E0(s.nodeValue,c)),s||Ns(r)}else s=Oc(s).createTextNode(d),s[je]=r,r.stateNode=s}return ee(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Hr(r),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[je]=r}else zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ee(r),m=!1}else m=ly(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Si(r),r):(Si(r),null)}if(Si(r),(r.flags&128)!==0)return r.lanes=c,r;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=r.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==s&&c&&(r.child.flags|=8192),bc(r,r.updateQueue),ee(r),null;case 4:return Bt(),s===null&&Jd(r.stateNode.containerInfo),ee(r),null;case 10:return bi(r.type),ee(r),null;case 19:if(tt(xe),m=r.memoizedState,m===null)return ee(r),null;if(d=(r.flags&128)!==0,y=m.rendering,y===null)if(d)ao(m,!1);else{if(ue!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=pc(s),y!==null){for(r.flags|=128,ao(m,!1),s=y.updateQueue,r.updateQueue=s,bc(r,s),r.subtreeFlags=0,s=c,c=r.child;c!==null;)sy(c,s),c=c.sibling;return q(xe,xe.current&1|2),r.child}s=s.sibling}m.tail!==null&&Oe()>wc&&(r.flags|=128,d=!0,ao(m,!1),r.lanes=4194304)}else{if(!d)if(s=pc(y),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,bc(r,s),ao(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!kt)return ee(r),null}else 2*Oe()-m.renderingStartTime>wc&&c!==536870912&&(r.flags|=128,d=!0,ao(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(s=m.last,s!==null?s.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Oe(),r.sibling=null,s=xe.current,q(xe,d?s&1|2:s&1),r):(ee(r),null);case 22:case 23:return Si(r),ed(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(c&536870912)!==0&&(r.flags&128)===0&&(ee(r),r.subtreeFlags&6&&(r.flags|=8192)):ee(r),c=r.updateQueue,c!==null&&bc(r,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048),s!==null&&tt(Fs),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),bi(Ee),ee(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function ST(s,r){switch(Vh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return bi(Ee),Bt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return We(r),null;case 13:if(Si(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(n(340));zr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return tt(xe),null;case 4:return Bt(),null;case 10:return bi(r.type),null;case 22:case 23:return Si(r),ed(),s!==null&&tt(Fs),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return bi(Ee),null;case 25:return null;default:return null}}function Lv(s,r){switch(Vh(r),r.tag){case 3:bi(Ee),Bt();break;case 26:case 27:case 5:We(r);break;case 4:Bt();break;case 13:Si(r);break;case 19:tt(xe);break;case 10:bi(r.type);break;case 22:case 23:Si(r),ed(),s!==null&&tt(Fs);break;case 24:bi(Ee)}}function ro(s,r){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var y=c.create,x=c.inst;d=y(),x.destroy=d}c=c.next}while(c!==m)}}catch(_){$t(r,r.return,_)}}function Zi(s,r,c){try{var d=r.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var x=d.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,m=r;var L=c,H=_;try{H()}catch(K){$t(m,L,K)}}}d=d.next}while(d!==y)}}catch(K){$t(r,r.return,K)}}function Ov(s){var r=s.updateQueue;if(r!==null){var c=s.stateNode;try{by(r,c)}catch(d){$t(s,s.return,d)}}}function Pv(s,r,c){c.props=js(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){$t(s,r,d)}}function oo(s,r){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(m){$t(s,r,m)}}function Xn(s,r){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){$t(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){$t(s,r,m)}else c.current=null}function Nv(s){var r=s.type,c=s.memoizedProps,d=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){$t(s,s.return,m)}}function Md(s,r,c){try{var d=s.stateNode;HT(d,s.type,c,r),d[Qe]=r}catch(m){$t(s,s.return,m)}}function kv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&rs(s.type)||s.tag===4}function Dd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||kv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&rs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ld(s,r,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(s),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Lc));else if(d!==4&&(d===27&&rs(s.type)&&(c=s.stateNode,r=null),s=s.child,s!==null))for(Ld(s,r,c),s=s.sibling;s!==null;)Ld(s,r,c),s=s.sibling}function Ac(s,r,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?c.insertBefore(s,r):c.appendChild(s);else if(d!==4&&(d===27&&rs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Ac(s,r,c),s=s.sibling;s!==null;)Ac(s,r,c),s=s.sibling}function Bv(s){var r=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ke(r,d,c),r[je]=s,r[Qe]=c}catch(y){$t(s,s.return,y)}}var xi=!1,pe=!1,Od=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function wT(s,r){if(s=s.containerInfo,nf=Ic,s=Yg(s),Dh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var x=0,_=-1,L=-1,H=0,K=0,Q=s,z=null;e:for(;;){for(var G;Q!==c||m!==0&&Q.nodeType!==3||(_=x+m),Q!==y||d!==0&&Q.nodeType!==3||(L=x+d),Q.nodeType===3&&(x+=Q.nodeValue.length),(G=Q.firstChild)!==null;)z=Q,Q=G;for(;;){if(Q===s)break e;if(z===c&&++H===m&&(_=x),z===y&&++K===d&&(L=x),(G=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=G}c=_===-1||L===-1?null:{start:_,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(sf={focusedElem:s,selectionRange:c},Ic=!1,_e=r;_e!==null;)if(r=_e,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,_e=s;else for(;_e!==null;){switch(r=_e,y=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=r,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var vt=js(c.type,m,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(vt,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(mt){$t(c,c.return,mt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,c=s.nodeType,c===9)of(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":of(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=r.sibling,s!==null){s.return=r.return,_e=s;break}_e=r.return}}function Iv(s,r,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ji(s,c),d&4&&ro(5,c);break;case 1:if(Ji(s,c),d&4)if(s=c.stateNode,r===null)try{s.componentDidMount()}catch(x){$t(c,c.return,x)}else{var m=js(c.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){$t(c,c.return,x)}}d&64&&Ov(c),d&512&&oo(c,c.return);break;case 3:if(Ji(s,c),d&64&&(s=c.updateQueue,s!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{by(s,r)}catch(x){$t(c,c.return,x)}}break;case 27:r===null&&d&4&&Bv(c);case 26:case 5:Ji(s,c),r===null&&d&4&&Nv(c),d&512&&oo(c,c.return);break;case 12:Ji(s,c);break;case 13:Ji(s,c),d&4&&Vv(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=LT.bind(null,c),KT(s,c))));break;case 22:if(d=c.memoizedState!==null||xi,!d){r=r!==null&&r.memoizedState!==null||pe,m=xi;var y=pe;xi=d,(pe=r)&&!y?ts(s,c,(c.subtreeFlags&8772)!==0):Ji(s,c),xi=m,pe=y}break;case 30:break;default:Ji(s,c)}}function jv(s){var r=s.alternate;r!==null&&(s.alternate=null,jv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&hh(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Wt=null,tn=!1;function Ti(s,r,c){for(c=c.child;c!==null;)Uv(s,r,c),c=c.sibling}function Uv(s,r,c){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(xs,c)}catch{}switch(c.tag){case 26:pe||Xn(c,r),Ti(s,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:pe||Xn(c,r);var d=Wt,m=tn;rs(c.type)&&(Wt=c.stateNode,tn=!1),Ti(s,r,c),yo(c.stateNode),Wt=d,tn=m;break;case 5:pe||Xn(c,r);case 6:if(d=Wt,m=tn,Wt=null,Ti(s,r,c),Wt=d,tn=m,Wt!==null)if(tn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(c.stateNode)}catch(y){$t(c,r,y)}else try{Wt.removeChild(c.stateNode)}catch(y){$t(c,r,y)}break;case 18:Wt!==null&&(tn?(s=Wt,R0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),To(s)):R0(Wt,c.stateNode));break;case 4:d=Wt,m=tn,Wt=c.stateNode.containerInfo,tn=!0,Ti(s,r,c),Wt=d,tn=m;break;case 0:case 11:case 14:case 15:pe||Zi(2,c,r),pe||Zi(4,c,r),Ti(s,r,c);break;case 1:pe||(Xn(c,r),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Pv(c,r,d)),Ti(s,r,c);break;case 21:Ti(s,r,c);break;case 22:pe=(d=pe)||c.memoizedState!==null,Ti(s,r,c),pe=d;break;default:Ti(s,r,c)}}function Vv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{To(s)}catch(c){$t(r,r.return,c)}}function ET(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Fv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Fv),r;default:throw Error(n(435,s.tag))}}function Pd(s,r){var c=ET(s);r.forEach(function(d){var m=OT.bind(null,s,d);c.has(d)||(c.add(d),d.then(m,m))})}function dn(s,r){var c=r.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=s,x=r,_=x;t:for(;_!==null;){switch(_.tag){case 27:if(rs(_.type)){Wt=_.stateNode,tn=!1;break t}break;case 5:Wt=_.stateNode,tn=!1;break t;case 3:case 4:Wt=_.stateNode.containerInfo,tn=!0;break t}_=_.return}if(Wt===null)throw Error(n(160));Uv(y,x,m),Wt=null,tn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Hv(r,s),r=r.sibling}var jn=null;function Hv(s,r){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:dn(r,s),fn(s),d&4&&(Zi(3,s,s.return),ro(3,s),Zi(5,s,s.return));break;case 1:dn(r,s),fn(s),d&512&&(pe||c===null||Xn(c,c.return)),d&64&&xi&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=jn;if(dn(r,s),fn(s),d&512&&(pe||c===null||Xn(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){t:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Lr]||y[je]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),ke(y,d,c),y[je]=s,Te(y),d=y;break t;case"link":var x=B0("link","href",m).get(d+(c.href||""));if(x){for(var _=0;_<x.length;_++)if(y=x[_],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(_,1);break e}}y=m.createElement(d),ke(y,d,c),m.head.appendChild(y);break;case"meta":if(x=B0("meta","content",m).get(d+(c.content||""))){for(_=0;_<x.length;_++)if(y=x[_],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(_,1);break e}}y=m.createElement(d),ke(y,d,c),m.head.appendChild(y);break;default:throw Error(n(468,d))}y[je]=s,Te(y),d=y}s.stateNode=d}else F0(m,s.type,s.stateNode);else s.stateNode=k0(m,d,s.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?F0(m,s.type,s.stateNode):k0(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Md(s,s.memoizedProps,c.memoizedProps)}break;case 27:dn(r,s),fn(s),d&512&&(pe||c===null||Xn(c,c.return)),c!==null&&d&4&&Md(s,s.memoizedProps,c.memoizedProps);break;case 5:if(dn(r,s),fn(s),d&512&&(pe||c===null||Xn(c,c.return)),s.flags&32){m=s.stateNode;try{Sa(m,"")}catch(G){$t(s,s.return,G)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,Md(s,m,c!==null?c.memoizedProps:m)),d&1024&&(Od=!0);break;case 6:if(dn(r,s),fn(s),d&4){if(s.stateNode===null)throw Error(n(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(G){$t(s,s.return,G)}}break;case 3:if(kc=null,m=jn,jn=Pc(r.containerInfo),dn(r,s),jn=m,fn(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(G){$t(s,s.return,G)}Od&&(Od=!1,zv(s));break;case 4:d=jn,jn=Pc(s.stateNode.containerInfo),dn(r,s),fn(s),jn=d;break;case 12:dn(r,s),fn(s);break;case 13:dn(r,s),fn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jd=Oe()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Pd(s,d)));break;case 22:m=s.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,H=xi,K=pe;if(xi=H||m,pe=K||L,dn(r,s),pe=K,xi=H,fn(s),d&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(c===null||L||xi||pe||Us(s)),c=null,r=s;;){if(r.tag===5||r.tag===26){if(c===null){L=c=r;try{if(y=L.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=L.stateNode;var Q=L.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(G){$t(L,L.return,G)}}}else if(r.tag===6){if(c===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(G){$t(L,L.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Pd(s,c))));break;case 19:dn(r,s),fn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Pd(s,d)));break;case 30:break;case 21:break;default:dn(r,s),fn(s)}}function fn(s){var r=s.flags;if(r&2){try{for(var c,d=s.return;d!==null;){if(kv(d)){c=d;break}d=d.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var m=c.stateNode,y=Dd(s);Ac(s,y,m);break;case 5:var x=c.stateNode;c.flags&32&&(Sa(x,""),c.flags&=-33);var _=Dd(s);Ac(s,_,x);break;case 3:case 4:var L=c.stateNode.containerInfo,H=Dd(s);Ld(s,H,L);break;default:throw Error(n(161))}}catch(K){$t(s,s.return,K)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function zv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;zv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ji(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iv(s,r.alternate,r),r=r.sibling}function Us(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Zi(4,r,r.return),Us(r);break;case 1:Xn(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&Pv(r,r.return,c),Us(r);break;case 27:yo(r.stateNode);case 26:case 5:Xn(r,r.return),Us(r);break;case 22:r.memoizedState===null&&Us(r);break;case 30:Us(r);break;default:Us(r)}s=s.sibling}}function ts(s,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,m=s,y=r,x=y.flags;switch(y.tag){case 0:case 11:case 15:ts(m,y,c),ro(4,y);break;case 1:if(ts(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){$t(d,d.return,H)}if(d=y,m=d.updateQueue,m!==null){var _=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)vy(L[m],_)}catch(H){$t(d,d.return,H)}}c&&x&64&&Ov(y),oo(y,y.return);break;case 27:Bv(y);case 26:case 5:ts(m,y,c),c&&d===null&&x&4&&Nv(y),oo(y,y.return);break;case 12:ts(m,y,c);break;case 13:ts(m,y,c),c&&x&4&&Vv(m,y);break;case 22:y.memoizedState===null&&ts(m,y,c),oo(y,y.return);break;case 30:break;default:ts(m,y,c)}r=r.sibling}}function Nd(s,r){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&qr(c))}function kd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&qr(s))}function Yn(s,r,c,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gv(s,r,c,d),r=r.sibling}function Gv(s,r,c,d){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Yn(s,r,c,d),m&2048&&ro(9,r);break;case 1:Yn(s,r,c,d);break;case 3:Yn(s,r,c,d),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&qr(s)));break;case 12:if(m&2048){Yn(s,r,c,d),s=r.stateNode;try{var y=r.memoizedProps,x=y.id,_=y.onPostCommit;typeof _=="function"&&_(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){$t(r,r.return,L)}}else Yn(s,r,c,d);break;case 13:Yn(s,r,c,d);break;case 23:break;case 22:y=r.stateNode,x=r.alternate,r.memoizedState!==null?y._visibility&2?Yn(s,r,c,d):lo(s,r):y._visibility&2?Yn(s,r,c,d):(y._visibility|=2,Ua(s,r,c,d,(r.subtreeFlags&10256)!==0)),m&2048&&Nd(x,r);break;case 24:Yn(s,r,c,d),m&2048&&kd(r.alternate,r);break;default:Yn(s,r,c,d)}}function Ua(s,r,c,d,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=s,x=r,_=c,L=d,H=x.flags;switch(x.tag){case 0:case 11:case 15:Ua(y,x,_,L,m),ro(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?Ua(y,x,_,L,m):lo(y,x):(K._visibility|=2,Ua(y,x,_,L,m)),m&&H&2048&&Nd(x.alternate,x);break;case 24:Ua(y,x,_,L,m),m&&H&2048&&kd(x.alternate,x);break;default:Ua(y,x,_,L,m)}r=r.sibling}}function lo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=s,d=r,m=d.flags;switch(d.tag){case 22:lo(c,d),m&2048&&Nd(d.alternate,d);break;case 24:lo(c,d),m&2048&&kd(d.alternate,d);break;default:lo(c,d)}r=r.sibling}}var co=8192;function Va(s){if(s.subtreeFlags&co)for(s=s.child;s!==null;)$v(s),s=s.sibling}function $v(s){switch(s.tag){case 26:Va(s),s.flags&co&&s.memoizedState!==null&&lC(jn,s.memoizedState,s.memoizedProps);break;case 5:Va(s);break;case 3:case 4:var r=jn;jn=Pc(s.stateNode.containerInfo),Va(s),jn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=co,co=16777216,Va(s),co=r):Va(s));break;default:Va(s)}}function qv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function uo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];_e=d,Yv(d,s)}qv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(s),s=s.sibling}function Xv(s){switch(s.tag){case 0:case 11:case 15:uo(s),s.flags&2048&&Zi(9,s,s.return);break;case 3:uo(s);break;case 12:uo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Sc(s)):uo(s);break;default:uo(s)}}function Sc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];_e=d,Yv(d,s)}qv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Zi(8,r,r.return),Sc(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,Sc(r));break;default:Sc(r)}s=s.sibling}}function Yv(s,r){for(;_e!==null;){var c=_e;switch(c.tag){case 0:case 11:case 15:Zi(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:qr(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,_e=d;else t:for(c=s;_e!==null;){d=_e;var m=d.sibling,y=d.return;if(jv(d),d===c){_e=null;break t}if(m!==null){m.return=y,_e=m;break t}_e=y}}}var xT={getCacheForType:function(s){var r=Ue(Ee),c=r.data.get(s);return c===void 0&&(c=s(),r.data.set(s,c)),c}},TT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Kt=null,Rt=null,Pt=0,It=0,pn=null,es=!1,Ha=!1,Bd=!1,Ci=0,ue=0,ns=0,Vs=0,Fd=0,Rn=0,za=0,ho=null,en=null,Id=!1,jd=0,wc=1/0,Ec=null,is=null,Ne=0,ss=null,Ga=null,$a=0,Ud=0,Vd=null,Kv=null,fo=0,Hd=null;function mn(){if((Ft&2)!==0&&Pt!==0)return Pt&-Pt;if(B.T!==null){var s=Oa;return s!==0?s:Kd()}return hg()}function Wv(){Rn===0&&(Rn=(Pt&536870912)===0||kt?og():536870912);var s=_n.current;return s!==null&&(s.flags|=32),Rn}function gn(s,r,c){(s===Kt&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(qa(s,0),as(s,Pt,Rn,!1)),Dr(s,c),((Ft&2)===0||s!==Kt)&&(s===Kt&&((Ft&2)===0&&(Vs|=c),ue===4&&as(s,Pt,Rn,!1)),Kn(s))}function Qv(s,r,c){if((Ft&6)!==0)throw Error(n(327));var d=!c&&(r&124)===0&&(r&s.expiredLanes)===0||Mr(s,r),m=d?RT(s,r):$d(s,r,!0),y=d;do{if(m===0){Ha&&!d&&as(s,r,0,!1);break}else{if(c=s.current.alternate,y&&!CT(c)){m=$d(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;t:{var _=s;m=ho;var L=_.current.memoizedState.isDehydrated;if(L&&(qa(_,x).flags|=256),x=$d(_,x,!1),x!==2){if(Bd&&!L){_.errorRecoveryDisabledLanes|=y,Vs|=y,m=4;break t}y=en,en=m,y!==null&&(en===null?en=y:en.push.apply(en,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){qa(s,0),as(s,r,0,!0);break}t:{switch(d=s,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:as(d,r,Rn,!es);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(m=jd+300-Oe(),10<m)){if(as(d,r,Rn,!es),Nl(d,0,!0)!==0)break t;d.timeoutHandle=C0(Zv.bind(null,d,c,en,Ec,Id,r,Rn,Vs,za,es,y,2,-0,0),m);break t}Zv(d,c,en,Ec,Id,r,Rn,Vs,za,es,y,0,-0,0)}}break}while(!0);Kn(s)}function Zv(s,r,c,d,m,y,x,_,L,H,K,Q,z,G){if(s.timeoutHandle=-1,Q=r.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ao={stylesheets:null,count:0,unsuspend:oC},$v(r),Q=cC(),Q!==null)){s.cancelPendingCommit=Q(a0.bind(null,s,r,y,c,d,m,x,_,L,K,1,z,G)),as(s,y,x,!H);return}a0(s,r,y,c,d,m,x,_,L)}function CT(s){for(var r=s;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!un(y(),m))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function as(s,r,c,d){r&=~Fd,r&=~Vs,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var m=r;0<m;){var y=31-le(m),x=1<<y;d[y]=-1,m&=~x}c!==0&&cg(s,c,r)}function xc(){return(Ft&6)===0?(po(0),!1):!0}function zd(){if(Rt!==null){if(It===0)var s=Rt.return;else s=Rt,vi=ks=null,rd(s),Ia=null,io=0,s=Rt;for(;s!==null;)Lv(s.alternate,s),s=s.return;Rt=null}}function qa(s,r){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,GT(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),zd(),Kt=s,Rt=c=mi(s.current,null),Pt=r,It=0,pn=null,es=!1,Ha=Mr(s,r),Bd=!1,za=Rn=Fd=Vs=ns=ue=0,en=ho=null,Id=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var m=31-le(d),y=1<<m;r|=s[m],d&=~y}return Ci=r,ql(),c}function Jv(s,r){Ct=null,B.H=hc,r===Yr||r===ec?(r=gy(),It=3):r===fy?(r=gy(),It=4):It=r===yv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Rt===null&&(ue=1,gc(s,En(r,s.current)))}function t0(){var s=B.H;return B.H=hc,s===null?hc:s}function e0(){var s=B.A;return B.A=xT,s}function Gd(){ue=4,es||(Pt&4194048)!==Pt&&_n.current!==null||(Ha=!0),(ns&134217727)===0&&(Vs&134217727)===0||Kt===null||as(Kt,Pt,Rn,!1)}function $d(s,r,c){var d=Ft;Ft|=2;var m=t0(),y=e0();(Kt!==s||Pt!==r)&&(Ec=null,qa(s,r)),r=!1;var x=ue;t:do try{if(It!==0&&Rt!==null){var _=Rt,L=pn;switch(It){case 8:zd(),x=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(r=!0);var H=It;if(It=0,pn=null,Xa(s,_,L,H),c&&Ha){x=0;break t}break;default:H=It,It=0,pn=null,Xa(s,_,L,H)}}_T(),x=ue;break}catch(K){Jv(s,K)}while(!0);return r&&s.shellSuspendCounter++,vi=ks=null,Ft=d,B.H=m,B.A=y,Rt===null&&(Kt=null,Pt=0,ql()),x}function _T(){for(;Rt!==null;)n0(Rt)}function RT(s,r){var c=Ft;Ft|=2;var d=t0(),m=e0();Kt!==s||Pt!==r?(Ec=null,wc=Oe()+500,qa(s,r)):Ha=Mr(s,r);t:do try{if(It!==0&&Rt!==null){r=Rt;var y=pn;e:switch(It){case 1:It=0,pn=null,Xa(s,r,y,1);break;case 2:case 9:if(py(y)){It=0,pn=null,i0(r);break}r=function(){It!==2&&It!==9||Kt!==s||(It=7),Kn(s)},y.then(r,r);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:py(y)?(It=0,pn=null,i0(r)):(It=0,pn=null,Xa(s,r,y,7));break;case 5:var x=null;switch(Rt.tag){case 26:x=Rt.memoizedState;case 5:case 27:var _=Rt;if(!x||I0(x)){It=0,pn=null;var L=_.sibling;if(L!==null)Rt=L;else{var H=_.return;H!==null?(Rt=H,Tc(H)):Rt=null}break e}}It=0,pn=null,Xa(s,r,y,5);break;case 6:It=0,pn=null,Xa(s,r,y,6);break;case 8:zd(),ue=6;break t;default:throw Error(n(462))}}MT();break}catch(K){Jv(s,K)}while(!0);return vi=ks=null,B.H=d,B.A=m,Ft=c,Rt!==null?0:(Kt=null,Pt=0,ql(),ue)}function MT(){for(;Rt!==null&&!de();)n0(Rt)}function n0(s){var r=Mv(s.alternate,s,Ci);s.memoizedProps=s.pendingProps,r===null?Tc(s):Rt=r}function i0(s){var r=s,c=r.alternate;switch(r.tag){case 15:case 0:r=Ev(c,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=Ev(c,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:rd(r);default:Lv(c,r),r=Rt=sy(r,Ci),r=Mv(c,r,Ci)}s.memoizedProps=s.pendingProps,r===null?Tc(s):Rt=r}function Xa(s,r,c,d){vi=ks=null,rd(r),Ia=null,io=0;var m=r.return;try{if(vT(s,m,r,c,Pt)){ue=1,gc(s,En(c,s.current)),Rt=null;return}}catch(y){if(m!==null)throw Rt=m,y;ue=1,gc(s,En(c,s.current)),Rt=null;return}r.flags&32768?(kt||d===1?s=!0:Ha||(Pt&536870912)!==0?s=!1:(es=s=!0,(d===2||d===9||d===3||d===6)&&(d=_n.current,d!==null&&d.tag===13&&(d.flags|=16384))),s0(r,s)):Tc(r)}function Tc(s){var r=s;do{if((r.flags&32768)!==0){s0(r,es);return}s=r.return;var c=AT(r.alternate,r,Ci);if(c!==null){Rt=c;return}if(r=r.sibling,r!==null){Rt=r;return}Rt=r=s}while(r!==null);ue===0&&(ue=5)}function s0(s,r){do{var c=ST(s.alternate,s);if(c!==null){c.flags&=32767,Rt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(s=s.sibling,s!==null)){Rt=s;return}Rt=s=c}while(s!==null);ue=6,Rt=null}function a0(s,r,c,d,m,y,x,_,L){s.cancelPendingCommit=null;do Cc();while(Ne!==0);if((Ft&6)!==0)throw Error(n(327));if(r!==null){if(r===s.current)throw Error(n(177));if(y=r.lanes|r.childLanes,y|=kh,ox(s,c,y,x,_,L),s===Kt&&(Rt=Kt=null,Pt=0),Ga=r,ss=s,$a=c,Ud=y,Vd=m,Kv=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,PT(di,function(){return u0(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,m=V.p,V.p=2,x=Ft,Ft|=4;try{wT(s,r,c)}finally{Ft=x,V.p=m,B.T=d}}Ne=1,r0(),o0(),l0()}}function r0(){if(Ne===1){Ne=0;var s=ss,r=Ga,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var d=V.p;V.p=2;var m=Ft;Ft|=4;try{Hv(r,s);var y=sf,x=Yg(s.containerInfo),_=y.focusedElem,L=y.selectionRange;if(x!==_&&_&&_.ownerDocument&&Xg(_.ownerDocument.documentElement,_)){if(L!==null&&Dh(_)){var H=L.start,K=L.end;if(K===void 0&&(K=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(K,_.value.length);else{var Q=_.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var G=z.getSelection(),vt=_.textContent.length,mt=Math.min(L.start,vt),Ht=L.end===void 0?mt:Math.min(L.end,vt);!G.extend&&mt>Ht&&(x=Ht,Ht=mt,mt=x);var j=qg(_,mt),N=qg(_,Ht);if(j&&N&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(j.node,j.offset),G.removeAllRanges(),mt>Ht?(G.addRange(U),G.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),G.addRange(U))}}}}for(Q=[],G=_;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Q.length;_++){var W=Q[_];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ic=!!nf,sf=nf=null}finally{Ft=m,V.p=d,B.T=c}}s.current=r,Ne=2}}function o0(){if(Ne===2){Ne=0;var s=ss,r=Ga,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var d=V.p;V.p=2;var m=Ft;Ft|=4;try{Iv(s,r.alternate,r)}finally{Ft=m,V.p=d,B.T=c}}Ne=3}}function l0(){if(Ne===4||Ne===3){Ne=0,ve();var s=ss,r=Ga,c=$a,d=Kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ne=5:(Ne=0,Ga=ss=null,c0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(is=null),ch(c),r=r.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(xs,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=B.T,m=V.p,V.p=2,B.T=null;try{for(var y=s.onRecoverableError,x=0;x<d.length;x++){var _=d[x];y(_.value,{componentStack:_.stack})}}finally{B.T=r,V.p=m}}($a&3)!==0&&Cc(),Kn(s),m=s.pendingLanes,(c&4194090)!==0&&(m&42)!==0?s===Hd?fo++:(fo=0,Hd=s):fo=0,po(0)}}function c0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,qr(r)))}function Cc(s){return r0(),o0(),l0(),u0()}function u0(){if(Ne!==5)return!1;var s=ss,r=Ud;Ud=0;var c=ch($a),d=B.T,m=V.p;try{V.p=32>c?32:c,B.T=null,c=Vd,Vd=null;var y=ss,x=$a;if(Ne=0,Ga=ss=null,$a=0,(Ft&6)!==0)throw Error(n(331));var _=Ft;if(Ft|=4,Xv(y.current),Gv(y,y.current,x,c),Ft=_,po(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(xs,y)}catch{}return!0}finally{V.p=m,B.T=d,c0(s,r)}}function h0(s,r,c){r=En(c,r),r=Ad(s.stateNode,r,2),s=Yi(s,r,2),s!==null&&(Dr(s,2),Kn(s))}function $t(s,r,c){if(s.tag===3)h0(s,s,c);else for(;r!==null;){if(r.tag===3){h0(r,s,c);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))){s=En(c,s),c=mv(2),d=Yi(r,c,2),d!==null&&(gv(c,d,r,s),Dr(d,2),Kn(d));break}}r=r.return}}function qd(s,r,c){var d=s.pingCache;if(d===null){d=s.pingCache=new TT;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(c)||(Bd=!0,m.add(c),s=DT.bind(null,s,r,c),r.then(s,s))}function DT(s,r,c){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Kt===s&&(Pt&c)===c&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>Oe()-jd?(Ft&2)===0&&qa(s,0):Fd|=c,za===Pt&&(za=0)),Kn(s)}function d0(s,r){r===0&&(r=lg()),s=Ra(s,r),s!==null&&(Dr(s,r),Kn(s))}function LT(s){var r=s.memoizedState,c=0;r!==null&&(c=r.retryLane),d0(s,c)}function OT(s,r){var c=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(r),d0(s,c)}function PT(s,r){return Lt(s,r)}var _c=null,Ya=null,Xd=!1,Rc=!1,Yd=!1,Hs=0;function Kn(s){s!==Ya&&s.next===null&&(Ya===null?_c=Ya=s:Ya=Ya.next=s),Rc=!0,Xd||(Xd=!0,kT())}function po(s,r){if(!Yd&&Rc){Yd=!0;do for(var c=!1,d=_c;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var x=d.suspendedLanes,_=d.pingedLanes;y=(1<<31-le(42|s)+1)-1,y&=m&~(x&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,g0(d,y))}else y=Pt,y=Nl(d,d===Kt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Mr(d,y)||(c=!0,g0(d,y));d=d.next}while(c);Yd=!1}}function NT(){f0()}function f0(){Rc=Xd=!1;var s=0;Hs!==0&&(zT()&&(s=Hs),Hs=0);for(var r=Oe(),c=null,d=_c;d!==null;){var m=d.next,y=p0(d,r);y===0?(d.next=null,c===null?_c=m:c.next=m,m===null&&(Ya=c)):(c=d,(s!==0||(y&3)!==0)&&(Rc=!0)),d=m}po(s)}function p0(s,r){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-le(y),_=1<<x,L=m[x];L===-1?((_&c)===0||(_&d)!==0)&&(m[x]=rx(_,r)):L<=r&&(s.expiredLanes|=_),y&=~_}if(r=Kt,c=Pt,c=Nl(s,s===r?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===r&&(It===2||It===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&jt(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Mr(s,c)){if(r=c&-c,r===s.callbackPriority)return r;switch(d!==null&&jt(d),ch(c)){case 2:case 8:c=Dl;break;case 32:c=di;break;case 268435456:c=Ll;break;default:c=di}return d=m0.bind(null,s),c=Lt(c,d),s.callbackPriority=r,s.callbackNode=c,r}return d!==null&&d!==null&&jt(d),s.callbackPriority=2,s.callbackNode=null,2}function m0(s,r){if(Ne!==0&&Ne!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Cc()&&s.callbackNode!==c)return null;var d=Pt;return d=Nl(s,s===Kt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Qv(s,d,r),p0(s,Oe()),s.callbackNode!=null&&s.callbackNode===c?m0.bind(null,s):null)}function g0(s,r){if(Cc())return null;Qv(s,r,!0)}function kT(){$T(function(){(Ft&6)!==0?Lt(fa,NT):f0()})}function Kd(){return Hs===0&&(Hs=og()),Hs}function y0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:jl(""+s)}function v0(s,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,s.id&&c.setAttribute("form",s.id),r.parentNode.insertBefore(c,r),s=new FormData(s),c.parentNode.removeChild(c),s}function BT(s,r,c,d,m){if(r==="submit"&&c&&c.stateNode===m){var y=y0((m[Qe]||null).action),x=d.submitter;x&&(r=(r=x[Qe]||null)?y0(r.formAction):x.getAttribute("formAction"),r!==null&&(y=r,x=null));var _=new zl("action","action",null,d,m);s.push({event:_,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Hs!==0){var L=x?v0(m,x):new FormData(m);md(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(_.preventDefault(),L=x?v0(m,x):new FormData(m),md(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Wd=0;Wd<Nh.length;Wd++){var Qd=Nh[Wd],FT=Qd.toLowerCase(),IT=Qd[0].toUpperCase()+Qd.slice(1);In(FT,"on"+IT)}In(Qg,"onAnimationEnd"),In(Zg,"onAnimationIteration"),In(Jg,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(eT,"onTransitionRun"),In(nT,"onTransitionStart"),In(iT,"onTransitionCancel"),In(ty,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function b0(s,r){r=(r&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;t:{var y=void 0;if(r)for(var x=d.length-1;0<=x;x--){var _=d[x],L=_.instance,H=_.currentTarget;if(_=_.listener,L!==y&&m.isPropagationStopped())break t;y=_,m.currentTarget=H;try{y(m)}catch(K){mc(K)}m.currentTarget=null,y=L}else for(x=0;x<d.length;x++){if(_=d[x],L=_.instance,H=_.currentTarget,_=_.listener,L!==y&&m.isPropagationStopped())break t;y=_,m.currentTarget=H;try{y(m)}catch(K){mc(K)}m.currentTarget=null,y=L}}}}function Mt(s,r){var c=r[uh];c===void 0&&(c=r[uh]=new Set);var d=s+"__bubble";c.has(d)||(A0(r,s,2,!1),c.add(d))}function Zd(s,r,c){var d=0;r&&(d|=4),A0(c,s,d,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Jd(s){if(!s[Mc]){s[Mc]=!0,fg.forEach(function(c){c!=="selectionchange"&&(jT.has(c)||Zd(c,!1,s),Zd(c,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Zd("selectionchange",!1,r))}}function A0(s,r,c,d){switch(G0(r)){case 2:var m=dC;break;case 8:m=fC;break;default:m=pf}c=m.bind(null,r,c,s),m=void 0,!Sh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(r,c,{capture:!0,passive:m}):s.addEventListener(r,c,!0):m!==void 0?s.addEventListener(r,c,{passive:m}):s.addEventListener(r,c,!1)}function tf(s,r,c,d,m){var y=d;if((r&1)===0&&(r&2)===0&&d!==null)t:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var _=d.stateNode.containerInfo;if(_===m)break;if(x===4)for(x=d.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;_!==null;){if(x=ma(_),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){d=y=x;continue t}_=_.parentNode}}d=d.return}_g(function(){var H=y,K=bh(c),Q=[];t:{var z=ey.get(s);if(z!==void 0){var G=zl,vt=s;switch(s){case"keypress":if(Vl(c)===0)break t;case"keydown":case"keyup":G=Px;break;case"focusin":vt="focus",G=Th;break;case"focusout":vt="blur",G=Th;break;case"beforeblur":case"afterblur":G=Th;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Bx;break;case Qg:case Zg:case Jg:G=xx;break;case ty:G=Ix;break;case"scroll":case"scrollend":G=bx;break;case"wheel":G=Ux;break;case"copy":case"cut":case"paste":G=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Og;break;case"toggle":case"beforetoggle":G=Hx}var mt=(r&4)!==0,Ht=!mt&&(s==="scroll"||s==="scrollend"),j=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=H,U;N!==null;){var W=N;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||j===null||(W=Pr(N,j),W!=null&&mt.push(go(N,W,U))),Ht)break;N=N.return}0<mt.length&&(z=new G(z,vt,null,c,K),Q.push({event:z,listeners:mt}))}}if((r&7)===0){t:{if(z=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",z&&c!==vh&&(vt=c.relatedTarget||c.fromElement)&&(ma(vt)||vt[pa]))break t;if((G||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,G?(vt=c.relatedTarget||c.toElement,G=H,vt=vt?ma(vt):null,vt!==null&&(Ht=o(vt),mt=vt.tag,vt!==Ht||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(G=null,vt=H),G!==vt)){if(mt=Dg,W="onMouseLeave",j="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(mt=Og,W="onPointerLeave",j="onPointerEnter",N="pointer"),Ht=G==null?z:Or(G),U=vt==null?z:Or(vt),z=new mt(W,N+"leave",G,c,K),z.target=Ht,z.relatedTarget=U,W=null,ma(K)===H&&(mt=new mt(j,N+"enter",vt,c,K),mt.target=U,mt.relatedTarget=Ht,W=mt),Ht=W,G&&vt)e:{for(mt=G,j=vt,N=0,U=mt;U;U=Ka(U))N++;for(U=0,W=j;W;W=Ka(W))U++;for(;0<N-U;)mt=Ka(mt),N--;for(;0<U-N;)j=Ka(j),U--;for(;N--;){if(mt===j||j!==null&&mt===j.alternate)break e;mt=Ka(mt),j=Ka(j)}mt=null}else mt=null;G!==null&&S0(Q,z,G,mt,!1),vt!==null&&Ht!==null&&S0(Q,Ht,vt,mt,!0)}}t:{if(z=H?Or(H):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var ct=Ug;else if(Ig(z))if(Vg)ct=Zx;else{ct=Wx;var _t=Kx}else G=z.nodeName,!G||G.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?H&&yh(H.elementType)&&(ct=Ug):ct=Qx;if(ct&&(ct=ct(s,H))){jg(Q,ct,c,K);break t}_t&&_t(s,z,H),s==="focusout"&&H&&z.type==="number"&&H.memoizedProps.value!=null&&gh(z,"number",z.value)}switch(_t=H?Or(H):window,s){case"focusin":(Ig(_t)||_t.contentEditable==="true")&&(Ta=_t,Lh=H,Vr=null);break;case"focusout":Vr=Lh=Ta=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Kg(Q,c,K);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":Kg(Q,c,K)}var ht;if(_h)t:{switch(s){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else xa?Bg(s,c)&&(gt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&(Pg&&c.locale!=="ko"&&(xa||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&xa&&(ht=Rg()):(Gi=K,wh="value"in Gi?Gi.value:Gi.textContent,xa=!0)),_t=Dc(H,gt),0<_t.length&&(gt=new Lg(gt,s,null,c,K),Q.push({event:gt,listeners:_t}),ht?gt.data=ht:(ht=Fg(c),ht!==null&&(gt.data=ht)))),(ht=Gx?$x(s,c):qx(s,c))&&(gt=Dc(H,"onBeforeInput"),0<gt.length&&(_t=new Lg("onBeforeInput","beforeinput",null,c,K),Q.push({event:_t,listeners:gt}),_t.data=ht)),BT(Q,s,H,c,K)}b0(Q,r)})}function go(s,r,c){return{instance:s,listener:r,currentTarget:c}}function Dc(s,r){for(var c=r+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Pr(s,c),m!=null&&d.unshift(go(s,m,y)),m=Pr(s,r),m!=null&&d.push(go(s,m,y))),s.tag===3)return d;s=s.return}return[]}function Ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function S0(s,r,c,d,m){for(var y=r._reactName,x=[];c!==null&&c!==d;){var _=c,L=_.alternate,H=_.stateNode;if(_=_.tag,L!==null&&L===d)break;_!==5&&_!==26&&_!==27||H===null||(L=H,m?(H=Pr(c,y),H!=null&&x.unshift(go(c,H,L))):m||(H=Pr(c,y),H!=null&&x.push(go(c,H,L)))),c=c.return}x.length!==0&&s.push({event:r,listeners:x})}var UT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function w0(s){return(typeof s=="string"?s:""+s).replace(UT,`
`).replace(VT,"")}function E0(s,r){return r=w0(r),w0(s)===r}function Lc(){}function Vt(s,r,c,d,m,y){switch(c){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Sa(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Sa(s,""+d);break;case"className":Bl(s,"class",d);break;case"tabIndex":Bl(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(s,c,d);break;case"style":Tg(s,d,y);break;case"data":if(r!=="object"){Bl(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=jl(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(r!=="input"&&Vt(s,r,"name",m.name,m,null),Vt(s,r,"formEncType",m.formEncType,m,null),Vt(s,r,"formMethod",m.formMethod,m,null),Vt(s,r,"formTarget",m.formTarget,m,null)):(Vt(s,r,"encType",m.encType,m,null),Vt(s,r,"method",m.method,m,null),Vt(s,r,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=jl(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Lc);break;case"onScroll":d!=null&&Mt("scroll",s);break;case"onScrollEnd":d!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=jl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),kl(s,"popover",d);break;case"xlinkActuate":fi(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":fi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":fi(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":fi(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":fi(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":fi(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":fi(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":fi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":fi(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":kl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=yx.get(c)||c,kl(s,c,d))}}function ef(s,r,c,d,m,y){switch(c){case"style":Tg(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof d=="string"?Sa(s,d):(typeof d=="number"||typeof d=="bigint")&&Sa(s,""+d);break;case"onScroll":d!=null&&Mt("scroll",s);break;case"onScrollEnd":d!=null&&Mt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pg.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),r=c.slice(2,m?c.length-7:void 0),y=s[Qe]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(r,d,m);break t}c in s?s[c]=d:d===!0?s.setAttribute(c,""):kl(s,c,d)}}}function ke(s,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Vt(s,r,y,x,c,null)}}m&&Vt(s,r,"srcSet",c.srcSet,c,null),d&&Vt(s,r,"src",c.src,c,null);return;case"input":Mt("invalid",s);var _=y=x=m=null,L=null,H=null;for(d in c)if(c.hasOwnProperty(d)){var K=c[d];if(K!=null)switch(d){case"name":m=K;break;case"type":x=K;break;case"checked":L=K;break;case"defaultChecked":H=K;break;case"value":y=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,r));break;default:Vt(s,r,d,K,c,null)}}Sg(s,y,_,L,H,x,m,!1),Fl(s);return;case"select":Mt("invalid",s),d=x=y=null;for(m in c)if(c.hasOwnProperty(m)&&(_=c[m],_!=null))switch(m){case"value":y=_;break;case"defaultValue":x=_;break;case"multiple":d=_;default:Vt(s,r,m,_,c,null)}r=y,c=x,s.multiple=!!d,r!=null?Aa(s,!!d,r,!1):c!=null&&Aa(s,!!d,c,!0);return;case"textarea":Mt("invalid",s),y=m=d=null;for(x in c)if(c.hasOwnProperty(x)&&(_=c[x],_!=null))switch(x){case"value":d=_;break;case"defaultValue":m=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:Vt(s,r,x,_,c,null)}Eg(s,d,m,y),Fl(s);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(s,r,L,d,c,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(d=0;d<mo.length;d++)Mt(mo[d],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Vt(s,r,H,d,c,null)}return;default:if(yh(r)){for(K in c)c.hasOwnProperty(K)&&(d=c[K],d!==void 0&&ef(s,r,K,d,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(d=c[_],d!=null&&Vt(s,r,_,d,c,null))}function HT(s,r,c,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,_=null,L=null,H=null,K=null;for(G in c){var Q=c[G];if(c.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":L=Q;default:d.hasOwnProperty(G)||Vt(s,r,G,null,d,Q)}}for(var z in d){var G=d[z];if(Q=c[z],d.hasOwnProperty(z)&&(G!=null||Q!=null))switch(z){case"type":y=G;break;case"name":m=G;break;case"checked":H=G;break;case"defaultChecked":K=G;break;case"value":x=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,r));break;default:G!==Q&&Vt(s,r,z,G,d,Q)}}mh(s,x,_,L,H,K,y,m);return;case"select":G=x=_=z=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":G=L;default:d.hasOwnProperty(y)||Vt(s,r,y,null,d,L)}for(m in d)if(y=d[m],L=c[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":z=y;break;case"defaultValue":_=y;break;case"multiple":x=y;default:y!==L&&Vt(s,r,m,y,d,L)}r=_,c=x,d=G,z!=null?Aa(s,!!c,z,!1):!!d!=!!c&&(r!=null?Aa(s,!!c,r,!0):Aa(s,!!c,c?[]:"",!1));return;case"textarea":G=z=null;for(_ in c)if(m=c[_],c.hasOwnProperty(_)&&m!=null&&!d.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Vt(s,r,_,null,d,m)}for(x in d)if(m=d[x],y=c[x],d.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":z=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&Vt(s,r,x,m,d,y)}wg(s,z,G);return;case"option":for(var vt in c)if(z=c[vt],c.hasOwnProperty(vt)&&z!=null&&!d.hasOwnProperty(vt))switch(vt){case"selected":s.selected=!1;break;default:Vt(s,r,vt,null,d,z)}for(L in d)if(z=d[L],G=c[L],d.hasOwnProperty(L)&&z!==G&&(z!=null||G!=null))switch(L){case"selected":s.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Vt(s,r,L,z,d,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in c)z=c[mt],c.hasOwnProperty(mt)&&z!=null&&!d.hasOwnProperty(mt)&&Vt(s,r,mt,null,d,z);for(H in d)if(z=d[H],G=c[H],d.hasOwnProperty(H)&&z!==G&&(z!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(137,r));break;default:Vt(s,r,H,z,d,G)}return;default:if(yh(r)){for(var Ht in c)z=c[Ht],c.hasOwnProperty(Ht)&&z!==void 0&&!d.hasOwnProperty(Ht)&&ef(s,r,Ht,void 0,d,z);for(K in d)z=d[K],G=c[K],!d.hasOwnProperty(K)||z===G||z===void 0&&G===void 0||ef(s,r,K,z,d,G);return}}for(var j in c)z=c[j],c.hasOwnProperty(j)&&z!=null&&!d.hasOwnProperty(j)&&Vt(s,r,j,null,d,z);for(Q in d)z=d[Q],G=c[Q],!d.hasOwnProperty(Q)||z===G||z==null&&G==null||Vt(s,r,Q,z,d,G)}var nf=null,sf=null;function Oc(s){return s.nodeType===9?s:s.ownerDocument}function x0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function af(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rf=null;function zT(){var s=window.event;return s&&s.type==="popstate"?s===rf?!1:(rf=s,!0):(rf=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(s){return _0.resolve(null).then(s).catch(qT)}:C0;function qT(s){setTimeout(function(){throw s})}function rs(s){return s==="head"}function R0(s,r){var c=r,d=0,m=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<d&&8>d){c=d;var x=s.ownerDocument;if(c&1&&yo(x.documentElement),c&2&&yo(x.body),c&4)for(c=x.head,yo(c),x=c.firstChild;x;){var _=x.nextSibling,L=x.nodeName;x[Lr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=_}}if(m===0){s.removeChild(y),To(r);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:d=c.charCodeAt(0)-48;else d=0;c=y}while(c);To(r)}function of(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":of(c),hh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function XT(s,r,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Lr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Un(s.nextSibling),s===null)break}return null}function YT(s,r,c){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Un(s.nextSibling),s===null))return null;return s}function lf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function KT(s,r){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")r();else{var d=function(){r(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Un(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var cf=null;function M0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(r===0)return s;r--}else c==="/$"&&r++}s=s.previousSibling}return null}function D0(s,r,c){switch(r=Oc(c),s){case"html":if(s=r.documentElement,!s)throw Error(n(452));return s;case"head":if(s=r.head,!s)throw Error(n(453));return s;case"body":if(s=r.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function yo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);hh(s)}var Mn=new Map,L0=new Set;function Pc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _i=V.d;V.d={f:WT,r:QT,D:ZT,C:JT,L:tC,m:eC,X:iC,S:nC,M:sC};function WT(){var s=_i.f(),r=xc();return s||r}function QT(s){var r=ga(s);r!==null&&r.tag===5&&r.type==="form"?Qy(r):_i.r(s)}var Wa=typeof document>"u"?null:document;function O0(s,r,c){var d=Wa;if(d&&typeof r=="string"&&r){var m=wn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),L0.has(m)||(L0.add(m),s={rel:s,crossOrigin:c,href:r},d.querySelector(m)===null&&(r=d.createElement("link"),ke(r,"link",s),Te(r),d.head.appendChild(r)))}}function ZT(s){_i.D(s),O0("dns-prefetch",s,null)}function JT(s,r){_i.C(s,r),O0("preconnect",s,r)}function tC(s,r,c){_i.L(s,r,c);var d=Wa;if(d&&s&&r){var m='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+wn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+wn(c.imageSizes)+'"]')):m+='[href="'+wn(s)+'"]';var y=m;switch(r){case"style":y=Qa(s);break;case"script":y=Za(s)}Mn.has(y)||(s=p({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:s,as:r},c),Mn.set(y,s),d.querySelector(m)!==null||r==="style"&&d.querySelector(vo(y))||r==="script"&&d.querySelector(bo(y))||(r=d.createElement("link"),ke(r,"link",s),Te(r),d.head.appendChild(r)))}}function eC(s,r){_i.m(s,r);var c=Wa;if(c&&s){var d=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+wn(d)+'"][href="'+wn(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Za(s)}if(!Mn.has(y)&&(s=p({rel:"modulepreload",href:s},r),Mn.set(y,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bo(y)))return}d=c.createElement("link"),ke(d,"link",s),Te(d),c.head.appendChild(d)}}}function nC(s,r,c){_i.S(s,r,c);var d=Wa;if(d&&s){var m=ya(d).hoistableStyles,y=Qa(s);r=r||"default";var x=m.get(y);if(!x){var _={loading:0,preload:null};if(x=d.querySelector(vo(y)))_.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":r},c),(c=Mn.get(y))&&uf(s,c);var L=x=d.createElement("link");Te(L),ke(L,"link",s),L._p=new Promise(function(H,K){L.onload=H,L.onerror=K}),L.addEventListener("load",function(){_.loading|=1}),L.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Nc(x,r,d)}x={type:"stylesheet",instance:x,count:1,state:_},m.set(y,x)}}}function iC(s,r){_i.X(s,r);var c=Wa;if(c&&s){var d=ya(c).hoistableScripts,m=Za(s),y=d.get(m);y||(y=c.querySelector(bo(m)),y||(s=p({src:s,async:!0},r),(r=Mn.get(m))&&hf(s,r),y=c.createElement("script"),Te(y),ke(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function sC(s,r){_i.M(s,r);var c=Wa;if(c&&s){var d=ya(c).hoistableScripts,m=Za(s),y=d.get(m);y||(y=c.querySelector(bo(m)),y||(s=p({src:s,async:!0,type:"module"},r),(r=Mn.get(m))&&hf(s,r),y=c.createElement("script"),Te(y),ke(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function P0(s,r,c,d){var m=(m=ut.current)?Pc(m):null;if(!m)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Qa(c.href),c=ya(m).hoistableStyles,d=c.get(r),d||(d={type:"style",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Qa(c.href);var y=ya(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(vo(s)))&&!y._p&&(x.instance=y,x.state.loading=5),Mn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Mn.set(s,c),y||aC(m,s,c,x.state))),r&&d===null)throw Error(n(528,""));return x}if(r&&d!==null)throw Error(n(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Za(c),c=ya(m).hoistableScripts,d=c.get(r),d||(d={type:"script",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Qa(s){return'href="'+wn(s)+'"'}function vo(s){return'link[rel="stylesheet"]['+s+"]"}function N0(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function aC(s,r,c,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),ke(r,"link",c),Te(r),s.head.appendChild(r))}function Za(s){return'[src="'+wn(s)+'"]'}function bo(s){return"script[async]"+s}function k0(s,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+wn(c.href)+'"]');if(d)return r.instance=d,Te(d),d;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Te(d),ke(d,"style",m),Nc(d,c.precedence,s),r.instance=d;case"stylesheet":m=Qa(c.href);var y=s.querySelector(vo(m));if(y)return r.state.loading|=4,r.instance=y,Te(y),y;d=N0(c),(m=Mn.get(m))&&uf(d,m),y=(s.ownerDocument||s).createElement("link"),Te(y);var x=y;return x._p=new Promise(function(_,L){x.onload=_,x.onerror=L}),ke(y,"link",d),r.state.loading|=4,Nc(y,c.precedence,s),r.instance=y;case"script":return y=Za(c.src),(m=s.querySelector(bo(y)))?(r.instance=m,Te(m),m):(d=c,(m=Mn.get(y))&&(d=p({},c),hf(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),Te(m),ke(m,"link",d),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Nc(d,c.precedence,s));return r.instance}function Nc(s,r,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,x=0;x<d.length;x++){var _=d[x];if(_.dataset.precedence===r)y=_;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(s,r.firstChild))}function uf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function hf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var kc=null;function B0(s,r,c){if(kc===null){var d=new Map,m=kc=new Map;m.set(c,d)}else m=kc,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[Lr]||y[je]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(r)||"";x=s+x;var _=d.get(x);_?_.push(y):d.set(x,[y])}}return d}function F0(s,r,c){s=s.ownerDocument||s,s.head.insertBefore(c,r==="title"?s.querySelector("head > title"):null)}function rC(s,r,c){if(c===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function I0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ao=null;function oC(){}function lC(s,r,c){if(Ao===null)throw Error(n(475));var d=Ao;if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Qa(c.href),y=s.querySelector(vo(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Bc.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=y,Te(y);return}y=s.ownerDocument||s,c=N0(c),(m=Mn.get(m))&&uf(c,m),y=y.createElement("link"),Te(y);var x=y;x._p=new Promise(function(_,L){x.onload=_,x.onerror=L}),ke(y,"link",c),r.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=Bc.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function cC(){if(Ao===null)throw Error(n(475));var s=Ao;return s.stylesheets&&s.count===0&&df(s,s.stylesheets),0<s.count?function(r){var c=setTimeout(function(){if(s.stylesheets&&df(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Fc=null;function df(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Fc=new Map,r.forEach(uC,s),Fc=null,Bc.call(s))}function uC(s,r){if(!(r.state.loading&4)){var c=Fc.get(s);if(c)var d=c.get(null);else{c=new Map,Fc.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}m=r.instance,x=m.getAttribute("data-precedence"),y=c.get(x)||d,y===d&&c.set(null,m),c.set(x,m),this.count++,d=Bc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var So={$$typeof:C,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function hC(s,r,c,d,m,y,x,_){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.hiddenUpdates=oh(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function j0(s,r,c,d,m,y,x,_,L,H,K,Q){return s=new hC(s,r,c,x,_,L,H,Q),r=1,y===!0&&(r|=24),y=hn(3,null,null,r),s.current=y,y.stateNode=s,r=qh(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:r},Wh(y),s}function U0(s){return s?(s=Ma,s):Ma}function V0(s,r,c,d,m,y){m=U0(m),d.context===null?d.context=m:d.pendingContext=m,d=Xi(r),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Yi(s,d,r),c!==null&&(gn(c,s,r),Wr(c,s,r))}function H0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<r?c:r}}function ff(s,r){H0(s,r),(s=s.alternate)&&H0(s,r)}function z0(s){if(s.tag===13){var r=Ra(s,67108864);r!==null&&gn(r,s,67108864),ff(s,67108864)}}var Ic=!0;function dC(s,r,c,d){var m=B.T;B.T=null;var y=V.p;try{V.p=2,pf(s,r,c,d)}finally{V.p=y,B.T=m}}function fC(s,r,c,d){var m=B.T;B.T=null;var y=V.p;try{V.p=8,pf(s,r,c,d)}finally{V.p=y,B.T=m}}function pf(s,r,c,d){if(Ic){var m=mf(d);if(m===null)tf(s,r,d,jc,c),$0(s,d);else if(mC(m,s,r,c,d))d.stopPropagation();else if($0(s,d),r&4&&-1<pC.indexOf(s)){for(;m!==null;){var y=ga(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Ts(y.pendingLanes);if(x!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var L=1<<31-le(x);_.entanglements[1]|=L,x&=~L}Kn(y),(Ft&6)===0&&(wc=Oe()+500,po(0))}}break;case 13:_=Ra(y,2),_!==null&&gn(_,y,2),xc(),ff(y,2)}if(y=mf(d),y===null&&tf(s,r,d,jc,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else tf(s,r,d,null,c)}}function mf(s){return s=bh(s),gf(s)}var jc=null;function gf(s){if(jc=null,s=ma(s),s!==null){var r=o(s);if(r===null)s=null;else{var c=r.tag;if(c===13){if(s=l(r),s!==null)return s;s=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return jc=s,null}function G0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case fa:return 2;case Dl:return 8;case di:case sh:return 32;case Ll:return 268435456;default:return 32}default:return 32}}var yf=!1,os=null,ls=null,cs=null,wo=new Map,Eo=new Map,us=[],pC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(s,r){switch(s){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":wo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(r.pointerId)}}function xo(s,r,c,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ga(r),r!==null&&z0(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function mC(s,r,c,d,m){switch(r){case"focusin":return os=xo(os,s,r,c,d,m),!0;case"dragenter":return ls=xo(ls,s,r,c,d,m),!0;case"mouseover":return cs=xo(cs,s,r,c,d,m),!0;case"pointerover":var y=m.pointerId;return wo.set(y,xo(wo.get(y)||null,s,r,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Eo.set(y,xo(Eo.get(y)||null,s,r,c,d,m)),!0}return!1}function q0(s){var r=ma(s.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){s.blockedOn=r,lx(s.priority,function(){if(c.tag===13){var d=mn();d=lh(d);var m=Ra(c,d);m!==null&&gn(m,c,d),ff(c,d)}});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var c=mf(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);vh=d,c.target.dispatchEvent(d),vh=null}else return r=ga(c),r!==null&&z0(r),s.blockedOn=c,!1;r.shift()}return!0}function X0(s,r,c){Uc(s)&&c.delete(r)}function gC(){yf=!1,os!==null&&Uc(os)&&(os=null),ls!==null&&Uc(ls)&&(ls=null),cs!==null&&Uc(cs)&&(cs=null),wo.forEach(X0),Eo.forEach(X0)}function Vc(s,r){s.blockedOn===r&&(s.blockedOn=null,yf||(yf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gC)))}var Hc=null;function Y0(s){Hc!==s&&(Hc=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===s&&(Hc=null);for(var r=0;r<s.length;r+=3){var c=s[r],d=s[r+1],m=s[r+2];if(typeof d!="function"){if(gf(d||c)===null)continue;break}var y=ga(c);y!==null&&(s.splice(r,3),r-=3,md(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function To(s){function r(L){return Vc(L,s)}os!==null&&Vc(os,s),ls!==null&&Vc(ls,s),cs!==null&&Vc(cs,s),wo.forEach(r),Eo.forEach(r);for(var c=0;c<us.length;c++){var d=us[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<us.length&&(c=us[0],c.blockedOn===null);)q0(c),c.blockedOn===null&&us.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],x=m[Qe]||null;if(typeof y=="function")x||Y0(c);else if(x){var _=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[Qe]||null)_=x.formAction;else if(gf(m)!==null)continue}else _=x.action;typeof _=="function"?c[d+1]=_:(c.splice(d,3),d-=3),Y0(c)}}}function vf(s){this._internalRoot=s}zc.prototype.render=vf.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(n(409));var c=r.current,d=mn();V0(c,d,s,r,null,null)},zc.prototype.unmount=vf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;V0(s.current,2,null,s,null,null),xc(),r[pa]=null}};function zc(s){this._internalRoot=s}zc.prototype.unstable_scheduleHydration=function(s){if(s){var r=hg();s={blockedOn:null,target:s,priority:r};for(var c=0;c<us.length&&r!==0&&r<us[c].priority;c++);us.splice(c,0,s),c===0&&q0(s)}};var K0=t.version;if(K0!=="19.1.1")throw Error(n(527,K0,"19.1.1"));V.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(r),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var yC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{xs=Gc.inject(yC),oe=Gc}catch{}}return _o.createRoot=function(s,r){if(!a(s))throw Error(n(299));var c=!1,d="",m=hv,y=dv,x=fv,_=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=j0(s,1,!1,null,null,c,d,m,y,x,_,null),s[pa]=r.current,Jd(s),new vf(r)},_o.hydrateRoot=function(s,r,c){if(!a(s))throw Error(n(299));var d=!1,m="",y=hv,x=dv,_=fv,L=null,H=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(H=c.formState)),r=j0(s,1,!0,r,c??null,d,m,y,x,_,L,H),r.context=U0(null),c=r.current,d=mn(),d=lh(d),m=Xi(d),m.callback=null,Yi(c,m,d),c=d,r.current.lanes=c,Dr(r,c),Kn(r),s[pa]=r.current,Jd(s),new zc(r)},_o.version="19.1.1",_o}var lb;function _C(){if(lb)return wf.exports;lb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wf.exports=CC(),wf.exports}var RC=_C();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cb="popstate";function MC(i={}){function t(n,a){let{pathname:o,search:l,hash:u}=n.location;return ap("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(n,a){return typeof a=="string"?a:Qo(a)}return LC(t,e,null,i)}function ae(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function ci(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DC(){return Math.random().toString(36).substring(2,10)}function ub(i,t){return{usr:i.state,key:i.key,idx:t}}function ap(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Sr(t):t,state:e,key:t&&t.key||n||DC()}}function Qo({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Sr(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function LC(i,t,e,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),w=E==null?null:E-f;f=E,h&&h({action:u,location:A.location,delta:w})}function v(E,w){u="PUSH";let T=ap(A.location,E,w);f=p()+1;let C=ub(T,f),D=A.createHref(T);try{l.pushState(C,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(D)}o&&h&&h({action:u,location:A.location,delta:1})}function b(E,w){u="REPLACE";let T=ap(A.location,E,w);f=p();let C=ub(T,f),D=A.createHref(T);l.replaceState(C,"",D),o&&h&&h({action:u,location:A.location,delta:0})}function S(E){return OC(E)}let A={get action(){return u},get location(){return i(a,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(cb,g),h=E,()=>{a.removeEventListener(cb,g),h=null}},createHref(E){return t(a,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:b,go(E){return l.go(E)}};return A}function OC(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ae(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:Qo(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function LS(i,t,e="/"){return PC(i,t,e,!1)}function PC(i,t,e,n){let a=typeof t=="string"?Sr(t):t,o=Pi(a.pathname||"/",e);if(o==null)return null;let l=OS(i);NC(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=$C(o);u=zC(l[h],f,n)}return u}function OS(i,t=[],e=[],n="",a=!1){let o=(l,u,h=a,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&h)return;ae(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Li([n,p.relativePath]),v=e.concat(p);l.children&&l.children.length>0&&(ae(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),OS(l.children,t,v,g,h)),!(l.path==null&&!l.index)&&t.push({path:g,score:VC(g,l.index),routesMeta:v})};return i.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let h of PS(l.path))o(l,u,!0,h)}),t}function PS(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=PS(n.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...l),u.map(h=>i.startsWith("/")&&h===""?"/":h)}function NC(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:HC(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var kC=/^:[\w-]+$/,BC=3,FC=2,IC=1,jC=10,UC=-2,hb=i=>i==="*";function VC(i,t){let e=i.split("/"),n=e.length;return e.some(hb)&&(n+=UC),t&&(n+=FC),e.filter(a=>!hb(a)).reduce((a,o)=>a+(kC.test(o)?BC:o===""?IC:jC),n)}function HC(i,t){return i.length===t.length&&i.slice(0,-1).every((n,a)=>n===t[a])?i[i.length-1]-t[t.length-1]:0}function zC(i,t,e=!1){let{routesMeta:n}=i,a={},o="/",l=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=gu({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!g&&f&&e&&!n[n.length-1].route.index&&(g=gu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Li([o,g.pathname]),pathnameBase:KC(Li([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=Li([o,g.pathnameBase]))}return l}function gu(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=GC(i.path,i.caseSensitive,i.end),a=t.match(e);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[v];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:i}}function GC(i,t=!1,e=!0){ci(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function $C(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Pi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function qC(i,t="/"){let{pathname:e,search:n="",hash:a=""}=typeof i=="string"?Sr(i):i;return{pathname:e?e.startsWith("/")?e:XC(e,t):t,search:WC(n),hash:QC(a)}}function XC(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Cf(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YC(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function NS(i){let t=YC(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function kS(i,t,e,n=!1){let a;typeof i=="string"?a=Sr(i):(a={...i},ae(!a.pathname||!a.pathname.includes("?"),Cf("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),Cf("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),Cf("#","search","hash",a)));let o=i===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=e;else{let g=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}u=g>=0?t[g]:"/"}let h=qC(a,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Li=i=>i.join("/").replace(/\/\/+/g,"/"),KC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,QC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var BS=["POST","PUT","PATCH","DELETE"];new Set(BS);var JC=["GET",...BS];new Set(JC);var wr=R.createContext(null);wr.displayName="DataRouter";var Pu=R.createContext(null);Pu.displayName="DataRouterState";R.createContext(!1);var FS=R.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var t_=R.createContext(new Map);t_.displayName="Fetchers";var e_=R.createContext(null);e_.displayName="Await";var ui=R.createContext(null);ui.displayName="Navigation";var hl=R.createContext(null);hl.displayName="Location";var ji=R.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Wp=R.createContext(null);Wp.displayName="RouteError";function n_(i,{relative:t}={}){ae(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=R.useContext(ui),{hash:a,pathname:o,search:l}=fl(i,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Li([e,o])),n.createHref({pathname:u,search:l,hash:a})}function dl(){return R.useContext(hl)!=null}function ca(){return ae(dl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(hl).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(i){R.useContext(ui).static||R.useLayoutEffect(i)}function i_(){let{isDataRoute:i}=R.useContext(ji);return i?g_():s_()}function s_(){ae(dl(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(wr),{basename:t,navigator:e}=R.useContext(ui),{matches:n}=R.useContext(ji),{pathname:a}=ca(),o=JSON.stringify(NS(n)),l=R.useRef(!1);return jS(()=>{l.current=!0}),R.useCallback((h,f={})=>{if(ci(l.current,IS),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=kS(h,JSON.parse(o),a,f.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Li([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,a,i])}R.createContext(null);function fl(i,{relative:t}={}){let{matches:e}=R.useContext(ji),{pathname:n}=ca(),a=JSON.stringify(NS(e));return R.useMemo(()=>kS(i,JSON.parse(a),n,t==="path"),[i,a,n,t])}function a_(i,t){return US(i,t)}function US(i,t,e,n,a){ae(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(ui),{matches:l}=R.useContext(ji),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let T=g&&g.path||"";VS(f,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=ca(),b;if(t){let T=typeof t=="string"?Sr(t):t;ae(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let S=b.pathname||"/",A=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=LS(i,{pathname:A});ci(g||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ci(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=u_(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Li([p,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Li([p,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,e,n,a);return t&&w?R.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function r_(){let i=m_(),t=ZC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),e?R.createElement("pre",{style:a},e):null,l)}var o_=R.createElement(r_,null),l_=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?R.createElement(ji.Provider,{value:this.props.routeContext},R.createElement(Wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c_({routeContext:i,match:t,children:e}){let n=R.useContext(wr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(ji.Provider,{value:i},e)}function u_(i,t=[],e=null,n=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let o=i,l=e?.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);ae(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:v}=e,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,b=!1,S=null,A=null;e&&(v=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||o_,u&&(h<0&&g===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===g&&(b=!0,A=p.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,g+1)),w=()=>{let T;return v?T=S:b?T=A:p.route.Component?T=R.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,R.createElement(c_,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(l_,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):w()},null)}function Qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(i){let t=R.useContext(wr);return ae(t,Qp(i)),t}function d_(i){let t=R.useContext(Pu);return ae(t,Qp(i)),t}function f_(i){let t=R.useContext(ji);return ae(t,Qp(i)),t}function Zp(i){let t=f_(i),e=t.matches[t.matches.length-1];return ae(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function p_(){return Zp("useRouteId")}function m_(){let i=R.useContext(Wp),t=d_("useRouteError"),e=Zp("useRouteError");return i!==void 0?i:t.errors?.[e]}function g_(){let{router:i}=h_("useNavigate"),t=Zp("useNavigate"),e=R.useRef(!1);return jS(()=>{e.current=!0}),R.useCallback(async(a,o={})=>{ci(e.current,IS),e.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:t,...o}))},[i,t])}var db={};function VS(i,t,e){!t&&!db[i]&&(db[i]=!0,ci(!1,e))}R.memo(y_);function y_({routes:i,future:t,state:e,unstable_onError:n}){return US(i,void 0,e,n,t)}function rp(i){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v_({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:a,static:o=!1}){ae(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof e=="string"&&(e=Sr(e));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=e,b=R.useMemo(()=>{let S=Pi(h,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:v},navigationType:n}},[l,h,f,p,g,v,n]);return ci(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:R.createElement(ui.Provider,{value:u},R.createElement(hl.Provider,{children:t,value:b}))}function b_({children:i,location:t}){return a_(op(i),t)}function op(i,t=[]){let e=[];return R.Children.forEach(i,(n,a)=>{if(!R.isValidElement(n))return;let o=[...t,a];if(n.type===R.Fragment){e.push.apply(e,op(n.props.children,o));return}ae(n.type===rp,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=op(n.props.children,o)),e.push(l)}),e}var lu="get",cu="application/x-www-form-urlencoded";function Nu(i){return i!=null&&typeof i.tagName=="string"}function A_(i){return Nu(i)&&i.tagName.toLowerCase()==="button"}function S_(i){return Nu(i)&&i.tagName.toLowerCase()==="form"}function w_(i){return Nu(i)&&i.tagName.toLowerCase()==="input"}function E_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function x_(i,t){return i.button===0&&(!t||t==="_self")&&!E_(i)}var $c=null;function T_(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var C_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _f(i){return i!=null&&!C_.has(i)?(ci(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cu}"`),null):i}function __(i,t){let e,n,a,o,l;if(S_(i)){let u=i.getAttribute("action");n=u?Pi(u,t):null,e=i.getAttribute("method")||lu,a=_f(i.getAttribute("enctype"))||cu,o=new FormData(i)}else if(A_(i)||w_(i)&&(i.type==="submit"||i.type==="image")){let u=i.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||u.getAttribute("action");if(n=h?Pi(h,t):null,e=i.getAttribute("formmethod")||u.getAttribute("method")||lu,a=_f(i.getAttribute("formenctype"))||_f(u.getAttribute("enctype"))||cu,o=new FormData(u,i),!T_()){let{name:f,type:p,value:g}=i;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(Nu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=lu,n=null,a=cu,l=i}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function R_(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Pi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function M_(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function L_(i,t,e){let n=await Promise.all(i.map(async a=>{let o=t.routes[a.route.id];if(o){let l=await M_(o,e);return l.links?l.links():[]}return[]}));return k_(n.flat(1).filter(D_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fb(i,t,e,n,a,o){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?t.filter((h,f)=>{let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function O_(i,t,{includeHydrateFallback:e}={}){return P_(i.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function P_(i){return[...new Set(i)]}function N_(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function k_(i,t){let e=new Set;return new Set(t),i.reduce((n,a)=>{let o=JSON.stringify(N_(a));return e.has(o)||(e.add(o),n.push({key:o,link:a})),n},[])}function HS(){let i=R.useContext(wr);return Jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function B_(){let i=R.useContext(Pu);return Jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var tm=R.createContext(void 0);tm.displayName="FrameworkContext";function zS(){let i=R.useContext(tm);return Jp(i,"You must render this element inside a <HydratedRouter> element"),i}function F_(i,t){let e=R.useContext(tm),[n,a]=R.useState(!1),[o,l]=R.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=R.useRef(null);R.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let A=w=>{w.forEach(T=>{l(T.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[i]),R.useEffect(()=>{if(n){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[n]);let b=()=>{a(!0)},S=()=>{a(!1),l(!1)};return e?i!=="intent"?[o,v,{}]:[o,v,{onFocus:Ro(u,b),onBlur:Ro(h,S),onMouseEnter:Ro(f,b),onMouseLeave:Ro(p,S),onTouchStart:Ro(g,b)}]:[!1,v,{}]}function Ro(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function I_({page:i,...t}){let{router:e}=HS(),n=R.useMemo(()=>LS(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?R.createElement(U_,{page:i,matches:n,...t}):null}function j_(i){let{manifest:t,routeModules:e}=zS(),[n,a]=R.useState([]);return R.useEffect(()=>{let o=!1;return L_(i,t,e).then(l=>{o||a(l)}),()=>{o=!0}},[i,t,e]),n}function U_({page:i,matches:t,...e}){let n=ca(),{manifest:a,routeModules:o}=zS(),{basename:l}=HS(),{loaderData:u,matches:h}=B_(),f=R.useMemo(()=>fb(i,t,h,a,n,"data"),[i,t,h,a,n]),p=R.useMemo(()=>fb(i,t,h,a,n,"assets"),[i,t,h,a,n]),g=R.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let S=new Set,A=!1;if(t.forEach(w=>{let T=a.routes[w.route.id];!T||!T.hasLoader||(!f.some(C=>C.route.id===w.route.id)&&w.route.id in u&&o[w.route.id]?.shouldRevalidate||T.hasClientLoader?A=!0:S.add(w.route.id))}),S.size===0)return[];let E=R_(i,l,"data");return A&&S.size>0&&E.searchParams.set("_routes",t.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[l,u,n,a,f,t,i,o]),v=R.useMemo(()=>O_(p,a),[p,a]),b=j_(p);return R.createElement(R.Fragment,null,g.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),v.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),b.map(({key:S,link:A})=>R.createElement("link",{key:S,nonce:e.nonce,...A})))}function V_(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.9.1")}catch{}function H_({basename:i,children:t,window:e}){let n=R.useRef();n.current==null&&(n.current=MC({window:e,v5Compat:!0}));let a=n.current,[o,l]=R.useState({action:a.action,location:a.location}),u=R.useCallback(h=>{R.startTransition(()=>l(h))},[l]);return R.useLayoutEffect(()=>a.listen(u),[a,u]),R.createElement(v_,{basename:i,children:t,location:o.location,navigationType:o.action,navigator:a})}var $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qS=R.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g,...v},b){let{basename:S}=R.useContext(ui),A=typeof f=="string"&&$S.test(f),E,w=!1;if(typeof f=="string"&&A&&(E=f,GS))try{let $=new URL(window.location.href),X=f.startsWith("//")?new URL($.protocol+f):new URL(f),J=Pi(X.pathname,S);X.origin===$.origin&&J!=null?f=J+X.search+X.hash:w=!0}catch{ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=n_(f,{relative:a}),[C,D,M]=F_(n,v),P=q_(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:a,viewTransition:g});function k($){t&&t($),$.defaultPrevented||P($)}let I=R.createElement("a",{...v,...M,href:E||T,onClick:w||o?t:k,ref:V_(b,D),target:h,"data-discover":!A&&e==="render"?"true":void 0});return C&&!A?R.createElement(R.Fragment,null,I,R.createElement(I_,{page:T})):I});qS.displayName="Link";var z_=R.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:u,children:h,...f},p){let g=fl(l,{relative:f.relative}),v=ca(),b=R.useContext(Pu),{navigator:S,basename:A}=R.useContext(ui),E=b!=null&&Q_(g)&&u===!0,w=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,T=v.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(T=T.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&A&&(C=Pi(C,A)||C);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=T===w||!a&&T.startsWith(w)&&T.charAt(D)==="/",P=C!=null&&(C===w||!a&&C.startsWith(w)&&C.charAt(w.length)==="/"),k={isActive:M,isPending:P,isTransitioning:E},I=M?t:void 0,$;typeof n=="function"?$=n(k):$=[n,M?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(k):o;return R.createElement(qS,{...f,"aria-current":I,className:$,ref:p,style:X,to:l,viewTransition:u},typeof h=="function"?h(k):h)});z_.displayName="NavLink";var G_=R.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:a,state:o,method:l=lu,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...v},b)=>{let S=K_(),A=W_(u,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&$S.test(u),T=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,M=D?.getAttribute("formmethod")||l;S(D||C.currentTarget,{fetcherKey:t,method:M,navigate:e,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:b,method:E,action:A,onSubmit:n?h:T,...v,"data-discover":!w&&i==="render"?"true":void 0})});G_.displayName="Form";function $_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(i){let t=R.useContext(wr);return ae(t,$_(i)),t}function q_(i,{target:t,replace:e,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=i_(),h=ca(),f=fl(i,{relative:o});return R.useCallback(p=>{if(x_(p,t)){p.preventDefault();let g=e!==void 0?e:Qo(h)===Qo(f);u(i,{replace:g,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[h,u,f,e,n,t,i,a,o,l])}var X_=0,Y_=()=>`__${String(++X_)}__`;function K_(){let{router:i}=XS("useSubmit"),{basename:t}=R.useContext(ui),e=p_();return R.useCallback(async(n,a={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=__(n,t);if(a.navigate===!1){let p=a.fetcherKey||Y_();await i.fetch(p,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,t,e])}function W_(i,{relative:t}={}){let{basename:e}=R.useContext(ui),n=R.useContext(ji);ae(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...fl(i||".",{relative:t})},l=ca();if(i==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!i||i===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Li([e,o.pathname])),Qo(o)}function Q_(i,{relative:t}={}){let e=R.useContext(FS);ae(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=XS("useViewTransitionState"),a=fl(i,{relative:t});if(!e.isTransitioning)return!1;let o=Pi(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Pi(e.nextLocation.pathname,n)||e.nextLocation.pathname;return gu(a.pathname,l)!=null||gu(a.pathname,o)!=null}var Z_=DS();const pb=i=>{let t;const e=new Set,n=(f,p)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const v=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(b=>b(t,v))}},a=()=>t,u={setState:n,getState:a,getInitialState:()=>h,subscribe:f=>(e.add(f),()=>e.delete(f))},h=t=i(n,a,u);return u},J_=(i=>i?pb(i):pb),t2=i=>i;function e2(i,t=t2){const e=dt.useSyncExternalStore(i.subscribe,dt.useCallback(()=>t(i.getState()),[i,t]),dt.useCallback(()=>t(i.getInitialState()),[i,t]));return dt.useDebugValue(e),e}const n2=i=>{const t=J_(i),e=n=>e2(t,n);return Object.assign(e,t),e},em=(i=>n2),mb={BASE_URL:"/landing-page/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Zo=new Map,qc=i=>{const t=Zo.get(i);return t?Object.fromEntries(Object.entries(t.stores).map(([e,n])=>[e,n.getState()])):{}},i2=(i,t,e)=>{if(i===void 0)return{type:"untracked",connection:t.connect(e)};const n=Zo.get(e.name);if(n)return{type:"tracked",store:i,...n};const a={connection:t.connect(e),stores:{}};return Zo.set(e.name,a),{type:"tracked",store:i,...a}},s2=(i,t)=>{if(t===void 0)return;const e=Zo.get(i);e&&(delete e.stores[t],Object.keys(e.stores).length===0&&Zo.delete(i))},a2=i=>{var t,e;if(!i)return;const n=i.split(`
`),a=n.findIndex(l=>l.includes("api.setState"));if(a<0)return;const o=((t=n[a+1])==null?void 0:t.trim())||"";return(e=/.+ (.+) .+/.exec(o))==null?void 0:e[1]},r2=(i,t={})=>(e,n,a)=>{const{enabled:o,anonymousActionType:l,store:u,...h}=t;let f;try{f=(o??(mb?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return i(e,n,a);const{connection:p,...g}=i2(u,f,h);let v=!0;a.setState=((A,E,w)=>{const T=e(A,E);if(!v)return T;const C=w===void 0?{type:l||a2(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return u===void 0?(p?.send(C,n()),T):(p?.send({...C,type:`${u}/${C.type}`},{...qc(h.name),[u]:a.getState()}),T)}),a.devtools={cleanup:()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe(),s2(h.name,u)}};const b=(...A)=>{const E=v;v=!1,e(...A),v=E},S=i(a.setState,n,a);if(g.type==="untracked"?p?.init(S):(g.stores[g.store]=a,p?.init(Object.fromEntries(Object.entries(g.stores).map(([A,E])=>[A,A===g.store?S:E.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let A=!1;const E=a.dispatch;a.dispatch=(...w)=>{(mb?"production":void 0)!=="production"&&w[0].type==="__setState"&&!A&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),E(...w)}}return p.subscribe(A=>{var E;switch(A.type){case"ACTION":if(typeof A.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Rf(A.payload,w=>{if(w.type==="__setState"){if(u===void 0){b(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=w.state[u];if(T==null)return;JSON.stringify(a.getState())!==JSON.stringify(T)&&b(T);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(w)});case"DISPATCH":switch(A.payload.type){case"RESET":return b(S),u===void 0?p?.init(a.getState()):p?.init(qc(h.name));case"COMMIT":if(u===void 0){p?.init(a.getState());return}return p?.init(qc(h.name));case"ROLLBACK":return Rf(A.state,w=>{if(u===void 0){b(w),p?.init(a.getState());return}b(w[u]),p?.init(qc(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Rf(A.state,w=>{if(u===void 0){b(w);return}JSON.stringify(a.getState())!==JSON.stringify(w[u])&&b(w[u])});case"IMPORT_STATE":{const{nextLiftedState:w}=A.payload,T=(E=w.computedStates.slice(-1)[0])==null?void 0:E.state;if(!T)return;b(u===void 0?T:T[u]),p?.send(null,w);return}case"PAUSE_RECORDING":return v=!v}return}}),S},YS=r2,Rf=(i,t)=>{let e;try{e=JSON.parse(i)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}e!==void 0&&t(e)};function o2(i,t){let e;try{e=i()}catch{return}return{getItem:a=>{var o;const l=h=>h===null?null:JSON.parse(h,void 0),u=(o=e.getItem(a))!=null?o:null;return u instanceof Promise?u.then(l):l(u)},setItem:(a,o)=>e.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>e.removeItem(a)}}const lp=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(n){return lp(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return lp(n)(e)}}}},l2=(i,t)=>(e,n,a)=>{let o={storage:o2(()=>localStorage),partialize:A=>A,version:0,merge:(A,E)=>({...E,...A}),...t},l=!1;const u=new Set,h=new Set;let f=o.storage;if(!f)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...A)},n,a);const p=()=>{const A=o.partialize({...n()});return f.setItem(o.name,{state:A,version:o.version})},g=a.setState;a.setState=(A,E)=>(g(A,E),p());const v=i((...A)=>(e(...A),p()),n,a);a.getInitialState=()=>v;let b;const S=()=>{var A,E;if(!f)return;l=!1,u.forEach(T=>{var C;return T((C=n())!=null?C:v)});const w=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(A=n())!=null?A:v))||void 0;return lp(f.getItem.bind(f))(o.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==o.version){if(o.migrate){const C=o.migrate(T.state,T.version);return C instanceof Promise?C.then(D=>[!0,D]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[D,M]=T;if(b=o.merge(M,(C=n())!=null?C:v),e(b,!0),D)return p()}).then(()=>{w?.(b,void 0),b=n(),l=!0,h.forEach(T=>T(b))}).catch(T=>{w?.(void 0,T)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(f=A.storage)},clearStorage:()=>{f?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:A=>(u.add(A),()=>{u.delete(A)}),onFinishHydration:A=>(h.add(A),()=>{h.delete(A)})},o.skipHydration||S(),b||v},c2=l2,Ui=em()(YS(i=>({tabState:0,toggleTabState:t=>i({tabState:t})}),{name:"tabStates"})),sa=em()(YS(i=>({modalState:!1,indexState:!1,modalData:null,indexModalData:null,toggleModalState:t=>i({modalState:!t}),toggleIndexState:t=>i({indexState:!t})}),{name:"modalStates"})),KS=em()(c2(i=>({themeState:!1,toggleThemeState:t=>i({themeState:!t})}),{name:"themeState"}));var WS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gb=dt.createContext&&dt.createContext(WS),u2=["attr","size","title"];function h2(i,t){if(i==null)return{};var e=d2(i,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}function d2(i,t){if(i==null)return{};var e={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function yu(){return yu=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},yu.apply(this,arguments)}function yb(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),e.push.apply(e,n)}return e}function vu(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(e),!0).forEach(function(n){f2(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):yb(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function f2(i,t,e){return t=p2(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function p2(i){var t=m2(i,"string");return typeof t=="symbol"?t:t+""}function m2(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function QS(i){return i&&i.map((t,e)=>dt.createElement(t.tag,vu({key:e},t.attr),QS(t.child)))}function Vi(i){return t=>dt.createElement(g2,yu({attr:vu({},i.attr)},t),QS(i.child))}function g2(i){var t=e=>{var{attr:n,size:a,title:o}=i,l=h2(i,u2),u=a||e.size||"1em",h;return e.className&&(h=e.className),i.className&&(h=(h?h+" ":"")+i.className),dt.createElement("svg",yu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:h,style:vu(vu({color:i.color||e.color},e.style),i.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&dt.createElement("title",null,o),i.children)};return gb!==void 0?dt.createElement(gb.Consumer,null,e=>t(e)):t(WS)}function y2(i){return Vi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(i)}function vb(i){return Vi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(i)}function cp(i){return Vi({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64Zm127.978 274.82-.034.006c-.023.007-.042.018-.083.059L512 466.745l-127.86-127.86c-.042-.041-.06-.052-.084-.059a.118.118 0 0 0-.07 0c-.022.007-.041.018-.082.059l-45.02 45.019c-.04.04-.05.06-.058.083a.118.118 0 0 0 0 .07l.01.022a.268.268 0 0 0 .049.06L466.745 512l-127.86 127.862c-.041.04-.052.06-.059.083a.118.118 0 0 0 0 .07c.007.022.018.041.059.082l45.019 45.02c.04.04.06.05.083.058a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059L512 557.254l127.862 127.861c.04.041.06.052.083.059a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059l45.02-45.019c.04-.04.05-.06.058-.083a.118.118 0 0 0 0-.07l-.01-.022a.268.268 0 0 0-.049-.06L557.254 512l127.861-127.86c.041-.042.052-.06.059-.084a.118.118 0 0 0 0-.07c-.007-.022-.018-.041-.059-.082l-45.019-45.02c-.04-.04-.06-.05-.083-.058a.118.118 0 0 0-.07 0Z"},child:[]}]})(i)}function bb(i){return Vi({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M548 818v126c0 8.837-7.163 16-16 16h-40c-8.837 0-16-7.163-16-16V818c15.845 1.643 27.845 2.464 36 2.464 8.155 0 20.155-.821 36-2.464m205.251-115.66 89.096 89.095c6.248 6.248 6.248 16.38 0 22.627l-28.285 28.285c-6.248 6.248-16.379 6.248-22.627 0L702.34 753.25c12.365-10.043 21.431-17.947 27.198-23.713 5.766-5.767 13.67-14.833 23.713-27.198m-482.502 0c10.043 12.365 17.947 21.431 23.713 27.198 5.767 5.766 14.833 13.67 27.198 23.713l-89.095 89.096c-6.248 6.248-16.38 6.248-22.627 0l-28.285-28.285c-6.248-6.248-6.248-16.379 0-22.627zM512 278c129.235 0 234 104.765 234 234S641.235 746 512 746 278 641.235 278 512s104.765-234 234-234M206 476c-1.643 15.845-2.464 27.845-2.464 36 0 8.155.821 20.155 2.464 36H80c-8.837 0-16-7.163-16-16v-40c0-8.837 7.163-16 16-16zm738 0c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H818c1.643-15.845 2.464-27.845 2.464-36 0-8.155-.821-20.155-2.464-36ZM814.062 180.653l28.285 28.285c6.248 6.248 6.248 16.379 0 22.627L753.25 320.66c-10.043-12.365-17.947-21.431-23.713-27.198-5.767-5.766-14.833-13.67-27.198-23.713l89.095-89.096c6.248-6.248 16.38-6.248 22.627 0m-581.497 0 89.095 89.096c-12.365 10.043-21.431 17.947-27.198 23.713-5.766 5.767-13.67 14.833-23.713 27.198l-89.096-89.095c-6.248-6.248-6.248-16.38 0-22.627l28.285-28.285c6.248-6.248 16.379-6.248 22.627 0M532 64c8.837 0 16 7.163 16 16v126c-15.845-1.643-27.845-2.464-36-2.464-8.155 0-20.155.821-36 2.464V80c0-8.837 7.163-16 16-16z"},child:[]}]})(i)}function v2(i){return Vi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(i)}function ZS(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(t=0;t<a;t++)i[t]&&(e=ZS(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function ku(){for(var i,t,e=0,n="",a=arguments.length;e<a;e++)(i=arguments[e])&&(t=ZS(i))&&(n&&(n+=" "),n+=t);return n}var b2=Object.defineProperty,A2=(i,t,e)=>t in i?b2(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Mf=(i,t,e)=>(A2(i,typeof t!="symbol"?t+"":t,e),e);let S2=class{constructor(){Mf(this,"current",this.detect()),Mf(this,"handoffState","pending"),Mf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ai=new S2;function pl(i){var t;return ai.isServer?null:i==null?document:(t=i?.ownerDocument)!=null?t:document}function up(i){var t,e;return ai.isServer?null:i==null?document:(e=(t=i?.getRootNode)==null?void 0:t.call(i))!=null?e:document}function JS(i){var t,e;return(e=(t=up(i))==null?void 0:t.activeElement)!=null?e:null}function w2(i){return JS(i)===i}function Bu(i){typeof queueMicrotask=="function"?queueMicrotask(i):Promise.resolve().then(i).catch(t=>setTimeout(()=>{throw t}))}function Hi(){let i=[],t={addEventListener(e,n,a,o){return e.addEventListener(n,a,o),t.add(()=>e.removeEventListener(n,a,o))},requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...e){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...e))},setTimeout(...e){let n=setTimeout(...e);return t.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return Bu(()=>{n.current&&e[0]()}),t.add(()=>{n.current=!1})},style(e,n,a){let o=e.style.getPropertyValue(n);return Object.assign(e.style,{[n]:a}),this.add(()=>{Object.assign(e.style,{[n]:o})})},group(e){let n=Hi();return e(n),this.add(()=>n.dispose())},add(e){return i.includes(e)||i.push(e),()=>{let n=i.indexOf(e);if(n>=0)for(let a of i.splice(n,1))a()}},dispose(){for(let e of i.splice(0))e()}};return t}function Fu(){let[i]=R.useState(Hi);return R.useEffect(()=>()=>i.dispose(),[i]),i}let on=(i,t)=>{ai.isServer?R.useEffect(i,t):R.useLayoutEffect(i,t)};function ua(i){let t=R.useRef(i);return on(()=>{t.current=i},[i]),t}let Xt=function(i){let t=ua(i);return dt.useCallback((...e)=>t.current(...e),[t])};function ml(i){return R.useMemo(()=>i,Object.values(i))}let E2=R.createContext(void 0);function x2(){return R.useContext(E2)}function hp(...i){return Array.from(new Set(i.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ni(i,t,...e){if(i in t){let a=t[i];return typeof a=="function"?a(...e):a}let n=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ni),n}var bu=(i=>(i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i))(bu||{}),ms=(i=>(i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i))(ms||{});function Fn(){let i=C2();return R.useCallback(t=>T2({mergeRefs:i,...t}),[i])}function T2({ourProps:i,theirProps:t,slot:e,defaultTag:n,features:a,visible:o=!0,name:l,mergeRefs:u}){u=u??_2;let h=t1(t,i);if(o)return Xc(h,e,n,l,u);let f=a??0;if(f&2){let{static:p=!1,...g}=h;if(p)return Xc(g,e,n,l,u)}if(f&1){let{unmount:p=!0,...g}=h;return Ni(p?0:1,{0(){return null},1(){return Xc({...g,hidden:!0,style:{display:"none"}},e,n,l,u)}})}return Xc(h,e,n,l,u)}function Xc(i,t={},e,n,a){let{as:o=e,children:l,refName:u="ref",...h}=Df(i,["unmount","static"]),f=i.ref!==void 0?{[u]:i.ref}:{},p=typeof l=="function"?l(t):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(t)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let g={};if(t){let v=!1,b=[];for(let[S,A]of Object.entries(t))typeof A=="boolean"&&(v=!0),A===!0&&b.push(S.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){g["data-headlessui-state"]=b.join(" ");for(let S of b)g[`data-${S}`]=""}}if(Vo(o)&&(Object.keys($s(h)).length>0||Object.keys($s(g)).length>0))if(!R.isValidElement(p)||Array.isArray(p)&&p.length>1||M2(p)){if(Object.keys($s(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys($s(h)).concat(Object.keys($s(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=p.props,b=v?.className,S=typeof b=="function"?(...w)=>hp(b(...w),h.className):hp(b,h.className),A=S?{className:S}:{},E=t1(p.props,$s(Df(h,["ref"])));for(let w in g)w in E&&delete g[w];return R.cloneElement(p,Object.assign({},E,g,f,{ref:a(R2(p),f.ref)},A))}return R.createElement(o,Object.assign({},Df(h,["ref"]),!Vo(o)&&f,!Vo(o)&&g),p)}function C2(){let i=R.useRef([]),t=R.useCallback(e=>{for(let n of i.current)n!=null&&(typeof n=="function"?n(e):n.current=e)},[]);return(...e)=>{if(!e.every(n=>n==null))return i.current=e,t}}function _2(...i){return i.every(t=>t==null)?void 0:t=>{for(let e of i)e!=null&&(typeof e=="function"?e(t):e.current=t)}}function t1(...i){if(i.length===0)return{};if(i.length===1)return i[0];let t={},e={};for(let n of i)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(e[a]!=null||(e[a]=[]),e[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(e[n]=[a=>{var o;return(o=a?.preventDefault)==null?void 0:o.call(a)}]);for(let n in e)Object.assign(t,{[n](a,...o){let l=e[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...o)}}});return t}function ln(i){var t;return Object.assign(R.forwardRef(i),{displayName:(t=i.displayName)!=null?t:i.name})}function $s(i){let t=Object.assign({},i);for(let e in t)t[e]===void 0&&delete t[e];return t}function Df(i,t=[]){let e=Object.assign({},i);for(let n of t)n in e&&delete e[n];return e}function R2(i){return dt.version.split(".")[0]>="19"?i.props.ref:i.ref}function Vo(i){return i===R.Fragment||i===Symbol.for("react.fragment")}function M2(i){return Vo(i.type)}let D2="span";var Au=(i=>(i[i.None=1]="None",i[i.Focusable=2]="Focusable",i[i.Hidden=4]="Hidden",i))(Au||{});function L2(i,t){var e;let{features:n=1,...a}=i,o={ref:t,"aria-hidden":(n&2)===2?!0:(e=a["aria-hidden"])!=null?e:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Fn()({ourProps:o,theirProps:a,slot:{},defaultTag:D2,name:"Hidden"})}let dp=ln(L2);function O2(i){return typeof i!="object"||i===null?!1:"nodeType"in i}function ys(i){return O2(i)&&"tagName"in i}function aa(i){return ys(i)&&"accessKey"in i}function gs(i){return ys(i)&&"tabIndex"in i}function P2(i){return ys(i)&&"style"in i}function N2(i){return aa(i)&&i.nodeName==="IFRAME"}function k2(i){return aa(i)&&i.nodeName==="INPUT"}let e1=Symbol();function B2(i,t=!0){return Object.assign(i,{[e1]:t})}function hi(...i){let t=R.useRef(i);R.useEffect(()=>{t.current=i},[i]);let e=Xt(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return i.every(n=>n==null||n?.[e1])?void 0:e}let nm=R.createContext(null);nm.displayName="DescriptionContext";function n1(){let i=R.useContext(nm);if(i===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,n1),t}return i}function F2(){let[i,t]=R.useState([]);return[i.length>0?i.join(" "):void 0,R.useMemo(()=>function(e){let n=Xt(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),h=u.indexOf(o);return h!==-1&&u.splice(h,1),u}))),a=R.useMemo(()=>({register:n,slot:e.slot,name:e.name,props:e.props,value:e.value}),[n,e.slot,e.name,e.props,e.value]);return dt.createElement(nm.Provider,{value:a},e.children)},[t])]}let I2="p";function j2(i,t){let e=R.useId(),n=x2(),{id:a=`headlessui-description-${e}`,...o}=i,l=n1(),u=hi(t);on(()=>l.register(a),[a,l.register]);let h=ml({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return Fn()({ourProps:f,theirProps:o,slot:h,defaultTag:I2,name:l.name||"Description"})}let U2=ln(j2),V2=Object.assign(U2,{});var i1=(i=>(i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.Delete="Delete",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab",i))(i1||{});let H2=R.createContext(()=>{});function z2({value:i,children:t}){return dt.createElement(H2.Provider,{value:i},t)}let s1=class extends Map{constructor(t){super(),this.factory=t}get(t){let e=super.get(t);return e===void 0&&(e=this.factory(t),this.set(t,e)),e}};var G2=Object.defineProperty,$2=(i,t,e)=>t in i?G2(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,q2=(i,t,e)=>($2(i,t+"",e),e),a1=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)},Dn=(i,t,e)=>(a1(i,t,"read from private field"),e?e.call(i):t.get(i)),Lf=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},Ab=(i,t,e,n)=>(a1(i,t,"write to private field"),t.set(i,e),e),ti,No,ko;let X2=class{constructor(t){Lf(this,ti,{}),Lf(this,No,new s1(()=>new Set)),Lf(this,ko,new Set),q2(this,"disposables",Hi()),Ab(this,ti,t),ai.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Dn(this,ti)}subscribe(t,e){if(ai.isServer)return()=>{};let n={selector:t,callback:e,current:t(Dn(this,ti))};return Dn(this,ko).add(n),this.disposables.add(()=>{Dn(this,ko).delete(n)})}on(t,e){return ai.isServer?()=>{}:(Dn(this,No).get(t).add(e),this.disposables.add(()=>{Dn(this,No).get(t).delete(e)}))}send(t){let e=this.reduce(Dn(this,ti),t);if(e!==Dn(this,ti)){Ab(this,ti,e);for(let n of Dn(this,ko)){let a=n.selector(Dn(this,ti));r1(n.current,a)||(n.current=a,n.callback(a))}for(let n of Dn(this,No).get(t.type))n(Dn(this,ti),t)}}};ti=new WeakMap,No=new WeakMap,ko=new WeakMap;function r1(i,t){return Object.is(i,t)?!0:typeof i!="object"||i===null||typeof t!="object"||t===null?!1:Array.isArray(i)&&Array.isArray(t)?i.length!==t.length?!1:Of(i[Symbol.iterator](),t[Symbol.iterator]()):i instanceof Map&&t instanceof Map||i instanceof Set&&t instanceof Set?i.size!==t.size?!1:Of(i.entries(),t.entries()):Sb(i)&&Sb(t)?Of(Object.entries(i)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Of(i,t){do{let e=i.next(),n=t.next();if(e.done&&n.done)return!0;if(e.done||n.done||!Object.is(e.value,n.value))return!1}while(!0)}function Sb(i){if(Object.prototype.toString.call(i)!=="[object Object]")return!1;let t=Object.getPrototypeOf(i);return t===null||Object.getPrototypeOf(t)===null}var Y2=Object.defineProperty,K2=(i,t,e)=>t in i?Y2(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,wb=(i,t,e)=>(K2(i,typeof t!="symbol"?t+"":t,e),e),W2=(i=>(i[i.Push=0]="Push",i[i.Pop=1]="Pop",i))(W2||{});let Q2={0(i,t){let e=t.id,n=i.stack,a=i.stack.indexOf(e);if(a!==-1){let o=i.stack.slice();return o.splice(a,1),o.push(e),n=o,{...i,stack:n}}return{...i,stack:[...i.stack,e]}},1(i,t){let e=t.id,n=i.stack.indexOf(e);if(n===-1)return i;let a=i.stack.slice();return a.splice(n,1),{...i,stack:a}}},Z2=class o1 extends X2{constructor(){super(...arguments),wb(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),wb(this,"selectors",{isTop:(t,e)=>t.stack[t.stack.length-1]===e,inStack:(t,e)=>t.stack.includes(e)})}static new(){return new o1({stack:[]})}reduce(t,e){return Ni(e.type,Q2,t,e)}};const l1=new s1(()=>Z2.new());var Pf={exports:{}},Nf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function J2(){if(Eb)return Nf;Eb=1;var i=Ou();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var e=typeof Object.is=="function"?Object.is:t,n=i.useSyncExternalStore,a=i.useRef,o=i.useEffect,l=i.useMemo,u=i.useDebugValue;return Nf.useSyncExternalStoreWithSelector=function(h,f,p,g,v){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function E(M){if(!w){if(w=!0,T=M,M=g(M),v!==void 0&&S.hasValue){var P=S.value;if(v(P,M))return C=P}return C=M}if(P=C,e(T,M))return P;var k=g(M);return v!==void 0&&v(P,k)?(T=M,P):(T=M,C=k)}var w=!1,T,C,D=p===void 0?null:p;return[function(){return E(f())},D===null?void 0:function(){return E(D())}]},[f,p,g,v]);var A=n(h,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},Nf}var xb;function tR(){return xb||(xb=1,Pf.exports=J2()),Pf.exports}var eR=tR();function c1(i,t,e=r1){return eR.useSyncExternalStoreWithSelector(Xt(n=>i.subscribe(nR,n)),Xt(()=>i.state),Xt(()=>i.state),Xt(t),e)}function nR(i){return i}function gl(i,t){let e=R.useId(),n=l1.get(t),[a,o]=c1(n,R.useCallback(l=>[n.selectors.isTop(l,e),n.selectors.inStack(l,e)],[n,e]));return on(()=>{if(i)return n.actions.push(e),()=>n.actions.pop(e)},[n,i,e]),i?o?a:!0:!1}let fp=new Map,Ho=new Map;function Tb(i){var t;let e=(t=Ho.get(i))!=null?t:0;return Ho.set(i,e+1),e!==0?()=>Cb(i):(fp.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0,()=>Cb(i))}function Cb(i){var t;let e=(t=Ho.get(i))!=null?t:1;if(e===1?Ho.delete(i):Ho.set(i,e-1),e!==1)return;let n=fp.get(i);n&&(n["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",n["aria-hidden"]),i.inert=n.inert,fp.delete(i))}function iR(i,{allowed:t,disallowed:e}={}){let n=gl(i,"inert-others");on(()=>{var a,o;if(!n)return;let l=Hi();for(let h of(a=e?.())!=null?a:[])h&&l.add(Tb(h));let u=(o=t?.())!=null?o:[];for(let h of u){if(!h)continue;let f=pl(h);if(!f)continue;let p=h.parentElement;for(;p&&p!==f.body;){for(let g of p.children)u.some(v=>g.contains(v))||l.add(Tb(g));p=p.parentElement}}return l.dispose},[n,t,e])}function sR(i,t,e){let n=ua(a=>{let o=a.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&e()});R.useEffect(()=>{if(!i)return;let a=t===null?null:aa(t)?t:t.current;if(!a)return;let o=Hi();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,n,i])}let Su=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(i=>`${i}:not([tabindex='-1'])`).join(","),aR=["[data-autofocus]"].map(i=>`${i}:not([tabindex='-1'])`).join(",");var Di=(i=>(i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll",i[i.AutoFocus=64]="AutoFocus",i))(Di||{}),pp=(i=>(i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i))(pp||{}),rR=(i=>(i[i.Previous=-1]="Previous",i[i.Next=1]="Next",i))(rR||{});function oR(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(Su)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}function lR(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(aR)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}var u1=(i=>(i[i.Strict=0]="Strict",i[i.Loose=1]="Loose",i))(u1||{});function cR(i,t=0){var e;return i===((e=pl(i))==null?void 0:e.body)?!1:Ni(t,{0(){return i.matches(Su)},1(){let n=i;for(;n!==null;){if(n.matches(Su))return!0;n=n.parentElement}return!1}})}var uR=(i=>(i[i.Keyboard=0]="Keyboard",i[i.Mouse=1]="Mouse",i))(uR||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",i=>{i.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:i.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Oi(i){i?.focus({preventScroll:!0})}let hR=["textarea","input"].join(",");function dR(i){var t,e;return(e=(t=i?.matches)==null?void 0:t.call(i,hR))!=null?e:!1}function fR(i,t=e=>e){return i.slice().sort((e,n)=>{let a=t(e),o=t(n);if(a===null||o===null)return 0;let l=a.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zo(i,t,{sorted:e=!0,relativeTo:n=null,skipElements:a=[]}={}){let o=Array.isArray(i)?i.length>0?up(i[0]):document:up(i),l=Array.isArray(i)?e?fR(i):i:t&64?lR(i):oR(i);a.length>0&&l.length>1&&(l=l.filter(b=>!a.some(S=>S!=null&&"current"in S?S?.current===b:S===b))),n=n??o?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,g=l.length,v;do{if(p>=g||p+g<=0)return 0;let b=h+p;if(t&16)b=(b+g)%g;else{if(b<0)return 3;if(b>=g)return 1}v=l[b],v?.focus(f),p+=u}while(v!==JS(v));return t&6&&dR(v)&&v.select(),2}function h1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pR(){return/Android/gi.test(window.navigator.userAgent)}function _b(){return h1()||pR()}function Yc(i,t,e,n){let a=ua(e);R.useEffect(()=>{if(!i)return;function o(l){a.current(l)}return document.addEventListener(t,o,n),()=>document.removeEventListener(t,o,n)},[i,t,n])}function d1(i,t,e,n){let a=ua(e);R.useEffect(()=>{if(!i)return;function o(l){a.current(l)}return window.addEventListener(t,o,n),()=>window.removeEventListener(t,o,n)},[i,t,n])}const Rb=30;function mR(i,t,e){let n=ua(e),a=R.useCallback(function(u,h){if(u.defaultPrevented)return;let f=h(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of p)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!cR(f,u1.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),o=R.useRef(null);Yc(i,"pointerdown",u=>{var h,f;_b()||(o.current=((f=(h=u.composedPath)==null?void 0:h.call(u))==null?void 0:f[0])||u.target)},!0),Yc(i,"pointerup",u=>{if(_b()||!o.current)return;let h=o.current;return o.current=null,a(u,()=>h)},!0);let l=R.useRef({x:0,y:0});Yc(i,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Yc(i,"touchend",u=>{let h={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(h.x-l.current.x)>=Rb||Math.abs(h.y-l.current.y)>=Rb))return a(u,()=>gs(u.target)?u.target:null)},!0),d1(i,"blur",u=>a(u,()=>N2(window.document.activeElement)?window.document.activeElement:null),!0)}function im(...i){return R.useMemo(()=>pl(...i),[...i])}function f1(i,t,e,n){let a=ua(e);R.useEffect(()=>{i=i??window;function o(l){a.current(l)}return i.addEventListener(t,o,n),()=>i.removeEventListener(t,o,n)},[i,t,n])}function gR(i){return R.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot)}function yR(i,t){let e=i(),n=new Set;return{getSnapshot(){return e},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...o){let l=t[a].call(e,...o);l&&(e=l,n.forEach(u=>u()))}}}function vR(){let i;return{before({doc:t}){var e;let n=t.documentElement,a=(e=t.defaultView)!=null?e:window;i=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:e}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),o=Math.max(0,i-a);e.style(n,"paddingRight",`${o}px`)}}}function bR(){return h1()?{before({doc:i,d:t,meta:e}){function n(a){for(let o of e().containers)for(let l of o())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(i.documentElement).scrollBehavior!=="auto"){let u=Hi();u.style(i.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(i,"click",u=>{if(gs(u.target))try{let h=u.target.closest("a");if(!h)return;let{hash:f}=new URL(h.href),p=i.querySelector(f);gs(p)&&!n(p)&&(l=p)}catch{}},!0),t.group(u=>{t.addEventListener(i,"touchstart",h=>{if(u.dispose(),gs(h.target)&&P2(h.target))if(n(h.target)){let f=h.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(h.target,"touchAction","none")})}),t.addEventListener(i,"touchmove",u=>{if(gs(u.target)){if(k2(u.target))return;if(n(u.target)){let h=u.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let h=(u=window.scrollY)!=null?u:window.pageYOffset;o!==h&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function AR(){return{before({doc:i,d:t}){t.style(i.documentElement,"overflow","hidden")}}}function Mb(i){let t={};for(let e of i)Object.assign(t,e(t));return t}let Ks=yR(()=>new Map,{PUSH(i,t){var e;let n=(e=this.get(i))!=null?e:{doc:i,count:0,d:Hi(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Mb(n.meta),this.set(i,n),this},POP(i,t){let e=this.get(i);return e&&(e.count--,e.meta.delete(t),e.computedMeta=Mb(e.meta)),this},SCROLL_PREVENT(i){let t={doc:i.doc,d:i.d,meta(){return i.computedMeta}},e=[bR(),vR(),AR()];e.forEach(({before:n})=>n?.(t)),e.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:i}){i.dispose()},TEARDOWN({doc:i}){this.delete(i)}});Ks.subscribe(()=>{let i=Ks.getSnapshot(),t=new Map;for(let[e]of i)t.set(e,e.documentElement.style.overflow);for(let e of i.values()){let n=t.get(e.doc)==="hidden",a=e.count!==0;(a&&!n||!a&&n)&&Ks.dispatch(e.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",e),e.count===0&&Ks.dispatch("TEARDOWN",e)}});function SR(i,t,e=()=>({containers:[]})){let n=gR(Ks),a=t?n.get(t):void 0,o=a?a.count>0:!1;return on(()=>{if(!(!t||!i))return Ks.dispatch("PUSH",t,e),()=>Ks.dispatch("POP",t,e)},[i,t]),o}function wR(i,t,e=()=>[document.body]){let n=gl(i,"scroll-lock");SR(n,t,a=>{var o;return{containers:[...(o=a.containers)!=null?o:[],e]}})}function ER(i=0){let[t,e]=R.useState(i),n=R.useCallback(h=>e(h),[]),a=R.useCallback(h=>e(f=>f|h),[]),o=R.useCallback(h=>(t&h)===h,[t]),l=R.useCallback(h=>e(f=>f&~h),[]),u=R.useCallback(h=>e(f=>f^h),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:o,removeFlag:l,toggleFlag:u}}var xR={},Db,Lb;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Db=process==null?void 0:xR)==null?void 0:Db.NODE_ENV)==="test"&&typeof((Lb=Element?.prototype)==null?void 0:Lb.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var TR=(i=>(i[i.None=0]="None",i[i.Closed=1]="Closed",i[i.Enter=2]="Enter",i[i.Leave=4]="Leave",i))(TR||{});function CR(i){let t={};for(let e in i)i[e]===!0&&(t[`data-${e}`]="");return t}function _R(i,t,e,n){let[a,o]=R.useState(e),{hasFlag:l,addFlag:u,removeFlag:h}=ER(i&&a?3:0),f=R.useRef(!1),p=R.useRef(!1),g=Fu();return on(()=>{var v;if(i){if(e&&o(!0),!t){e&&u(3);return}return(v=n?.start)==null||v.call(n,e),RR(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(e?(u(3),h(4)):(u(4),h(2)))},run(){p.current?e?(h(3),u(4)):(h(4),u(3)):e?h(1):u(1)},done(){var b;p.current&&LR(t)||(f.current=!1,h(7),e||o(!1),(b=n?.end)==null||b.call(n,e))}})}},[i,e,t,g]),i?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function RR(i,{prepare:t,run:e,done:n,inFlight:a}){let o=Hi();return DR(i,{prepare:t,inFlight:a}),o.nextFrame(()=>{e(),o.requestAnimationFrame(()=>{o.add(MR(i,n))})}),o.dispose}function MR(i,t){var e,n;let a=Hi();if(!i)return a.dispose;let o=!1;a.add(()=>{o=!0});let l=(n=(e=i.getAnimations)==null?void 0:e.call(i).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||t()}),a.dispose)}function DR(i,{inFlight:t,prepare:e}){if(t!=null&&t.current){e();return}let n=i.style.transition;i.style.transition="none",e(),i.offsetHeight,i.style.transition=n}function LR(i){var t,e;return((e=(t=i.getAnimations)==null?void 0:t.call(i))!=null?e:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function sm(i,t){let e=R.useRef([]),n=Xt(i);R.useEffect(()=>{let a=[...e.current];for(let[o,l]of t.entries())if(e.current[o]!==l){let u=n(t,a);return e.current=t,u}},[n,...t])}let Iu=R.createContext(null);Iu.displayName="OpenClosedContext";var zn=(i=>(i[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i))(zn||{});function ju(){return R.useContext(Iu)}function OR({value:i,children:t}){return dt.createElement(Iu.Provider,{value:i},t)}function PR({children:i}){return dt.createElement(Iu.Provider,{value:null},i)}function NR(i){function t(){document.readyState!=="loading"&&(i(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let fs=[];NR(()=>{function i(t){if(!gs(t.target)||t.target===document.body||fs[0]===t.target)return;let e=t.target;e=e.closest(Su),fs.unshift(e??t.target),fs=fs.filter(n=>n!=null&&n.isConnected),fs.splice(10)}window.addEventListener("click",i,{capture:!0}),window.addEventListener("mousedown",i,{capture:!0}),window.addEventListener("focus",i,{capture:!0}),document.body.addEventListener("click",i,{capture:!0}),document.body.addEventListener("mousedown",i,{capture:!0}),document.body.addEventListener("focus",i,{capture:!0})});function p1(i){let t=Xt(i),e=R.useRef(!1);R.useEffect(()=>(e.current=!1,()=>{e.current=!0,Bu(()=>{e.current&&t()})}),[t])}let m1=R.createContext(!1);function kR(){return R.useContext(m1)}function Ob(i){return dt.createElement(m1.Provider,{value:i.force},i.children)}function BR(i){let t=kR(),e=R.useContext(y1),[n,a]=R.useState(()=>{var o;if(!t&&e!==null)return(o=e.current)!=null?o:null;if(ai.isServer)return null;let l=i?.getElementById("headlessui-portal-root");if(l)return l;if(i===null)return null;let u=i.createElement("div");return u.setAttribute("id","headlessui-portal-root"),i.body.appendChild(u)});return R.useEffect(()=>{n!==null&&(i!=null&&i.body.contains(n)||i==null||i.body.appendChild(n))},[n,i]),R.useEffect(()=>{t||e!==null&&a(e.current)},[e,a,t]),n}let g1=R.Fragment,FR=ln(function(i,t){let{ownerDocument:e=null,...n}=i,a=R.useRef(null),o=hi(B2(v=>{a.current=v}),t),l=im(a.current),u=e??l,h=BR(u),f=R.useContext(mp),p=Fu(),g=Fn();return p1(()=>{var v;h&&h.childNodes.length<=0&&((v=h.parentElement)==null||v.removeChild(h))}),h?Z_.createPortal(dt.createElement("div",{"data-headlessui-portal":"",ref:v=>{p.dispose(),f&&v&&p.add(f.register(v))}},g({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:g1,name:"Portal"})),h):null});function IR(i,t){let e=hi(t),{enabled:n=!0,ownerDocument:a,...o}=i,l=Fn();return n?dt.createElement(FR,{...o,ownerDocument:a,ref:e}):l({ourProps:{ref:e},theirProps:o,slot:{},defaultTag:g1,name:"Portal"})}let jR=R.Fragment,y1=R.createContext(null);function UR(i,t){let{target:e,...n}=i,a={ref:hi(t)},o=Fn();return dt.createElement(y1.Provider,{value:e},o({ourProps:a,theirProps:n,defaultTag:jR,name:"Popover.Group"}))}let mp=R.createContext(null);function VR(){let i=R.useContext(mp),t=R.useRef([]),e=Xt(o=>(t.current.push(o),i&&i.register(o),()=>n(o))),n=Xt(o=>{let l=t.current.indexOf(o);l!==-1&&t.current.splice(l,1),i&&i.unregister(o)}),a=R.useMemo(()=>({register:e,unregister:n,portals:t}),[e,n,t]);return[t,R.useMemo(()=>function({children:o}){return dt.createElement(mp.Provider,{value:a},o)},[a])]}let HR=ln(IR),v1=ln(UR),zR=Object.assign(HR,{Group:v1});function GR(i,t=typeof document<"u"?document.defaultView:null,e){let n=gl(i,"escape");f1(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===i1.Escape&&e(a))})}function $R(){var i;let[t]=R.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[e,n]=R.useState((i=t?.matches)!=null?i:!1);return on(()=>{if(!t)return;function a(o){n(o.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),e}function qR({defaultContainers:i=[],portals:t,mainTreeNode:e}={}){let n=Xt(()=>{var a,o;let l=pl(e),u=[];for(let h of i)h!==null&&(ys(h)?u.push(h):"current"in h&&ys(h.current)&&u.push(h.current));if(t!=null&&t.current)for(let h of t.current)u.push(h);for(let h of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])h!==document.body&&h!==document.head&&ys(h)&&h.id!=="headlessui-portal-root"&&(e&&(h.contains(e)||h.contains((o=e?.getRootNode())==null?void 0:o.host))||u.some(f=>h.contains(f))||u.push(h));return u});return{resolveContainers:n,contains:Xt(a=>n().some(o=>o.contains(a)))}}let b1=R.createContext(null);function Pb({children:i,node:t}){let[e,n]=R.useState(null),a=A1(t??e);return dt.createElement(b1.Provider,{value:a},i,a===null&&dt.createElement(dp,{features:Au.Hidden,ref:o=>{var l,u;if(o){for(let h of(u=(l=pl(o))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(h!==document.body&&h!==document.head&&ys(h)&&h!=null&&h.contains(o)){n(h);break}}}}))}function A1(i=null){var t;return(t=R.useContext(b1))!=null?t:i}function XR(){let i=typeof document>"u";return"useSyncExternalStore"in nb?(t=>t.useSyncExternalStore)(nb)(()=>()=>{},()=>!1,()=>!i):!1}function Uu(){let i=XR(),[t,e]=R.useState(ai.isHandoffComplete);return t&&ai.isHandoffComplete===!1&&e(!1),R.useEffect(()=>{t!==!0&&e(!0)},[t]),R.useEffect(()=>ai.handoff(),[]),i?!1:t}function am(){let i=R.useRef(!1);return on(()=>(i.current=!0,()=>{i.current=!1}),[]),i}var Bo=(i=>(i[i.Forwards=0]="Forwards",i[i.Backwards=1]="Backwards",i))(Bo||{});function YR(){let i=R.useRef(0);return d1(!0,"keydown",t=>{t.key==="Tab"&&(i.current=t.shiftKey?1:0)},!0),i}function S1(i){if(!i)return new Set;if(typeof i=="function")return new Set(i());let t=new Set;for(let e of i.current)ys(e.current)&&t.add(e.current);return t}let KR="div";var Xs=(i=>(i[i.None=0]="None",i[i.InitialFocus=1]="InitialFocus",i[i.TabLock=2]="TabLock",i[i.FocusLock=4]="FocusLock",i[i.RestoreFocus=8]="RestoreFocus",i[i.AutoFocus=16]="AutoFocus",i))(Xs||{});function WR(i,t){let e=R.useRef(null),n=hi(e,t),{initialFocus:a,initialFocusFallback:o,containers:l,features:u=15,...h}=i;Uu()||(u=0);let f=im(e.current);tM(u,{ownerDocument:f});let p=eM(u,{ownerDocument:f,container:e,initialFocus:a,initialFocusFallback:o});nM(u,{ownerDocument:f,container:e,containers:l,previousActiveElement:p});let g=YR(),v=Xt(T=>{if(!aa(e.current))return;let C=e.current;(D=>D())(()=>{Ni(g.current,{[Bo.Forwards]:()=>{zo(C,Di.First,{skipElements:[T.relatedTarget,o]})},[Bo.Backwards]:()=>{zo(C,Di.Last,{skipElements:[T.relatedTarget,o]})}})})}),b=gl(!!(u&2),"focus-trap#tab-lock"),S=Fu(),A=R.useRef(!1),E={ref:n,onKeyDown(T){T.key=="Tab"&&(A.current=!0,S.requestAnimationFrame(()=>{A.current=!1}))},onBlur(T){if(!(u&4))return;let C=S1(l);aa(e.current)&&C.add(e.current);let D=T.relatedTarget;gs(D)&&D.dataset.headlessuiFocusGuard!=="true"&&(w1(C,D)||(A.current?zo(e.current,Ni(g.current,{[Bo.Forwards]:()=>Di.Next,[Bo.Backwards]:()=>Di.Previous})|Di.WrapAround,{relativeTo:T.target}):gs(T.target)&&Oi(T.target)))}},w=Fn();return dt.createElement(dt.Fragment,null,b&&dt.createElement(dp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Au.Focusable}),w({ourProps:E,theirProps:h,defaultTag:KR,name:"FocusTrap"}),b&&dt.createElement(dp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Au.Focusable}))}let QR=ln(WR),ZR=Object.assign(QR,{features:Xs});function JR(i=!0){let t=R.useRef(fs.slice());return sm(([e],[n])=>{n===!0&&e===!1&&Bu(()=>{t.current.splice(0)}),n===!1&&e===!0&&(t.current=fs.slice())},[i,fs,t]),Xt(()=>{var e;return(e=t.current.find(n=>n!=null&&n.isConnected))!=null?e:null})}function tM(i,{ownerDocument:t}){let e=!!(i&8),n=JR(e);sm(()=>{e||w2(t?.body)&&Oi(n())},[e]),p1(()=>{e&&Oi(n())})}function eM(i,{ownerDocument:t,container:e,initialFocus:n,initialFocusFallback:a}){let o=R.useRef(null),l=gl(!!(i&1),"focus-trap#initial-focus"),u=am();return sm(()=>{if(i===0)return;if(!l){a!=null&&a.current&&Oi(a.current);return}let h=e.current;h&&Bu(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){o.current=f;return}}else if(h.contains(f)){o.current=f;return}if(n!=null&&n.current)Oi(n.current);else{if(i&16){if(zo(h,Di.First|Di.AutoFocus)!==pp.Error)return}else if(zo(h,Di.First)!==pp.Error)return;if(a!=null&&a.current&&(Oi(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[a,l,i]),o}function nM(i,{ownerDocument:t,container:e,containers:n,previousActiveElement:a}){let o=am(),l=!!(i&4);f1(t?.defaultView,"focus",u=>{if(!l||!o.current)return;let h=S1(n);aa(e.current)&&h.add(e.current);let f=a.current;if(!f)return;let p=u.target;aa(p)?w1(h,p)?(a.current=p,Oi(p)):(u.preventDefault(),u.stopPropagation(),Oi(f)):Oi(a.current)},!0)}function w1(i,t){for(let e of i)if(e.contains(t))return!0;return!1}function E1(i){var t;return!!(i.enter||i.enterFrom||i.enterTo||i.leave||i.leaveFrom||i.leaveTo)||!Vo((t=i.as)!=null?t:T1)||dt.Children.count(i.children)===1}let Vu=R.createContext(null);Vu.displayName="TransitionContext";var iM=(i=>(i.Visible="visible",i.Hidden="hidden",i))(iM||{});function sM(){let i=R.useContext(Vu);if(i===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return i}function aM(){let i=R.useContext(Hu);if(i===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return i}let Hu=R.createContext(null);Hu.displayName="NestingContext";function zu(i){return"children"in i?zu(i.children):i.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function x1(i,t){let e=ua(i),n=R.useRef([]),a=am(),o=Fu(),l=Xt((b,S=ms.Hidden)=>{let A=n.current.findIndex(({el:E})=>E===b);A!==-1&&(Ni(S,{[ms.Unmount](){n.current.splice(A,1)},[ms.Hidden](){n.current[A].state="hidden"}}),o.microTask(()=>{var E;!zu(n)&&a.current&&((E=e.current)==null||E.call(e))}))}),u=Xt(b=>{let S=n.current.find(({el:A})=>A===b);return S?S.state!=="visible"&&(S.state="visible"):n.current.push({el:b,state:"visible"}),()=>l(b,ms.Unmount)}),h=R.useRef([]),f=R.useRef(Promise.resolve()),p=R.useRef({enter:[],leave:[]}),g=Xt((b,S,A)=>{h.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([E])=>E!==b)),t?.chains.current[S].push([b,new Promise(E=>{h.current.push(E)})]),t?.chains.current[S].push([b,new Promise(E=>{Promise.all(p.current[S].map(([w,T])=>T)).then(()=>E())})]),S==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>A(S)):A(S)}),v=Xt((b,S,A)=>{Promise.all(p.current[S].splice(0).map(([E,w])=>w)).then(()=>{var E;(E=h.current.shift())==null||E()}).then(()=>A(S))});return R.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:v,wait:f,chains:p}),[u,l,n,g,v,p,f])}let T1=R.Fragment,C1=bu.RenderStrategy;function rM(i,t){var e,n;let{transition:a=!0,beforeEnter:o,afterEnter:l,beforeLeave:u,afterLeave:h,enter:f,enterFrom:p,enterTo:g,entered:v,leave:b,leaveFrom:S,leaveTo:A,...E}=i,[w,T]=R.useState(null),C=R.useRef(null),D=E1(i),M=hi(...D?[C,t,T]:t===null?[]:[t]),P=(e=E.unmount)==null||e?ms.Unmount:ms.Hidden,{show:k,appear:I,initial:$}=sM(),[X,J]=R.useState(k?"visible":"hidden"),rt=aM(),{register:ot,unregister:nt}=rt;on(()=>ot(C),[ot,C]),on(()=>{if(P===ms.Hidden&&C.current){if(k&&X!=="visible"){J("visible");return}return Ni(X,{hidden:()=>nt(C),visible:()=>ot(C)})}},[X,C,ot,nt,k,P]);let lt=Uu();on(()=>{if(D&&lt&&X==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,X,lt,D]);let B=$&&!I,V=I&&k&&$,Z=R.useRef(!1),it=x1(()=>{Z.current||(J("hidden"),nt(C))},rt),O=Xt(At=>{Z.current=!0;let Tt=At?"enter":"leave";it.onStart(C,Tt,Bt=>{Bt==="enter"?o?.():Bt==="leave"&&u?.()})}),Y=Xt(At=>{let Tt=At?"enter":"leave";Z.current=!1,it.onStop(C,Tt,Bt=>{Bt==="enter"?l?.():Bt==="leave"&&h?.()}),Tt==="leave"&&!zu(it)&&(J("hidden"),nt(C))});R.useEffect(()=>{D&&a||(O(k),Y(k))},[k,D,a]);let tt=!(!a||!D||!lt||B),[,q]=_R(tt,w,k,{start:O,end:Y}),et=$s({ref:M,className:((n=hp(E.className,V&&f,V&&p,q.enter&&f,q.enter&&q.closed&&p,q.enter&&!q.closed&&g,q.leave&&b,q.leave&&!q.closed&&S,q.leave&&q.closed&&A,!q.transition&&k&&v))==null?void 0:n.trim())||void 0,...CR(q)}),pt=0;X==="visible"&&(pt|=zn.Open),X==="hidden"&&(pt|=zn.Closed),k&&X==="hidden"&&(pt|=zn.Opening),!k&&X==="visible"&&(pt|=zn.Closing);let ut=Fn();return dt.createElement(Hu.Provider,{value:it},dt.createElement(OR,{value:pt},ut({ourProps:et,theirProps:E,defaultTag:T1,features:C1,visible:X==="visible",name:"Transition.Child"})))}function oM(i,t){let{show:e,appear:n=!1,unmount:a=!0,...o}=i,l=R.useRef(null),u=E1(i),h=hi(...u?[l,t]:t===null?[]:[t]);Uu();let f=ju();if(e===void 0&&f!==null&&(e=(f&zn.Open)===zn.Open),e===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=R.useState(e?"visible":"hidden"),v=x1(()=>{e||g("hidden")}),[b,S]=R.useState(!0),A=R.useRef([e]);on(()=>{b!==!1&&A.current[A.current.length-1]!==e&&(A.current.push(e),S(!1))},[A,e]);let E=R.useMemo(()=>({show:e,appear:n,initial:b}),[e,n,b]);on(()=>{e?g("visible"):!zu(v)&&l.current!==null&&g("hidden")},[e,v]);let w={unmount:a},T=Xt(()=>{var M;b&&S(!1),(M=i.beforeEnter)==null||M.call(i)}),C=Xt(()=>{var M;b&&S(!1),(M=i.beforeLeave)==null||M.call(i)}),D=Fn();return dt.createElement(Hu.Provider,{value:v},dt.createElement(Vu.Provider,{value:E},D({ourProps:{...w,as:R.Fragment,children:dt.createElement(_1,{ref:h,...w,...o,beforeEnter:T,beforeLeave:C})},theirProps:{},defaultTag:R.Fragment,features:C1,visible:p==="visible",name:"Transition"})))}function lM(i,t){let e=R.useContext(Vu)!==null,n=ju()!==null;return dt.createElement(dt.Fragment,null,!e&&n?dt.createElement(gp,{ref:t,...i}):dt.createElement(_1,{ref:t,...i}))}let gp=ln(oM),_1=ln(rM),Gu=ln(lM),cM=Object.assign(gp,{Child:Gu,Root:gp});var uM=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(uM||{}),hM=(i=>(i[i.SetTitleId=0]="SetTitleId",i))(hM||{});let dM={0(i,t){return i.titleId===t.id?i:{...i,titleId:t.id}}},rm=R.createContext(null);rm.displayName="DialogContext";function $u(i){let t=R.useContext(rm);if(t===null){let e=new Error(`<${i} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,$u),e}return t}function fM(i,t){return Ni(t.type,dM,i,t)}let Nb=ln(function(i,t){let e=R.useId(),{id:n=`headlessui-dialog-${e}`,open:a,onClose:o,initialFocus:l,role:u="dialog",autoFocus:h=!0,__demoMode:f=!1,unmount:p=!1,...g}=i,v=R.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let b=ju();a===void 0&&b!==null&&(a=(b&zn.Open)===zn.Open);let S=R.useRef(null),A=hi(S,t),E=im(S.current),w=a?0:1,[T,C]=R.useReducer(fM,{titleId:null,descriptionId:null,panelRef:R.createRef()}),D=Xt(()=>o(!1)),M=Xt(q=>C({type:0,id:q})),P=Uu()?w===0:!1,[k,I]=VR(),$={get current(){var q;return(q=T.panelRef.current)!=null?q:S.current}},X=A1(),{resolveContainers:J}=qR({mainTreeNode:X,portals:k,defaultContainers:[$]}),rt=b!==null?(b&zn.Closing)===zn.Closing:!1;iR(f||rt?!1:P,{allowed:Xt(()=>{var q,et;return[(et=(q=S.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?et:null]}),disallowed:Xt(()=>{var q;return[(q=X?.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let ot=l1.get(null);on(()=>{if(P)return ot.actions.push(n),()=>ot.actions.pop(n)},[ot,n,P]);let nt=c1(ot,R.useCallback(q=>ot.selectors.isTop(q,n),[ot,n]));mR(nt,J,q=>{q.preventDefault(),D()}),GR(nt,E?.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),D()}),wR(f||rt?!1:P,E,J),sR(P,S,D);let[lt,B]=F2(),V=R.useMemo(()=>[{dialogState:w,close:D,setTitleId:M,unmount:p},T],[w,D,M,p,T]),Z=ml({open:w===0}),it={ref:A,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:w===0?!0:void 0,"aria-labelledby":T.titleId,"aria-describedby":lt,unmount:p},O=!$R(),Y=Xs.None;P&&!f&&(Y|=Xs.RestoreFocus,Y|=Xs.TabLock,h&&(Y|=Xs.AutoFocus),O&&(Y|=Xs.InitialFocus));let tt=Fn();return dt.createElement(PR,null,dt.createElement(Ob,{force:!0},dt.createElement(zR,null,dt.createElement(rm.Provider,{value:V},dt.createElement(v1,{target:S},dt.createElement(Ob,{force:!1},dt.createElement(B,{slot:Z},dt.createElement(I,null,dt.createElement(ZR,{initialFocus:l,initialFocusFallback:S,containers:J,features:Y},dt.createElement(z2,{value:D},tt({ourProps:it,theirProps:g,slot:Z,defaultTag:pM,features:mM,visible:w===0,name:"Dialog"})))))))))))}),pM="div",mM=bu.RenderStrategy|bu.Static;function gM(i,t){let{transition:e=!1,open:n,...a}=i,o=ju(),l=i.hasOwnProperty("open")||o!==null,u=i.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof i.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i.open}`);if(typeof i.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i.onClose}`);return(n!==void 0||e)&&!a.static?dt.createElement(Pb,null,dt.createElement(cM,{show:n,transition:e,unmount:a.unmount},dt.createElement(Nb,{ref:t,...a}))):dt.createElement(Pb,null,dt.createElement(Nb,{ref:t,open:n,...a}))}let yM="div";function vM(i,t){let e=R.useId(),{id:n=`headlessui-dialog-panel-${e}`,transition:a=!1,...o}=i,[{dialogState:l,unmount:u},h]=$u("Dialog.Panel"),f=hi(t,h.panelRef),p=ml({open:l===0}),g=Xt(E=>{E.stopPropagation()}),v={ref:f,id:n,onClick:g},b=a?Gu:R.Fragment,S=a?{unmount:u}:{},A=Fn();return dt.createElement(b,{...S},A({ourProps:v,theirProps:o,slot:p,defaultTag:yM,name:"Dialog.Panel"}))}let bM="div";function AM(i,t){let{transition:e=!1,...n}=i,[{dialogState:a,unmount:o}]=$u("Dialog.Backdrop"),l=ml({open:a===0}),u={ref:t,"aria-hidden":!0},h=e?Gu:R.Fragment,f=e?{unmount:o}:{},p=Fn();return dt.createElement(h,{...f},p({ourProps:u,theirProps:n,slot:l,defaultTag:bM,name:"Dialog.Backdrop"}))}let SM="h2";function wM(i,t){let e=R.useId(),{id:n=`headlessui-dialog-title-${e}`,...a}=i,[{dialogState:o,setTitleId:l}]=$u("Dialog.Title"),u=hi(t);R.useEffect(()=>(l(n),()=>l(null)),[n,l]);let h=ml({open:o===0}),f={ref:u,id:n};return Fn()({ourProps:f,theirProps:a,slot:h,defaultTag:SM,name:"Dialog.Title"})}let EM=ln(gM),R1=ln(vM),xM=ln(AM),M1=ln(wM),TM=Object.assign(EM,{Panel:R1,Title:M1,Description:V2});function CM({title:i,titleId:t,...e},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},e),i?R.createElement("title",{id:t},i):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const _M=R.forwardRef(CM);function RM(){const{tabState:i}=Ui(),{themeState:t,toggleThemeState:e}=KS(),[n,a]=R.useState(!0),o=[{label:"Agency Details",link:"#agency-details"},{label:"Registration",link:"#registration"},{label:"License",link:"#license"},{label:"LETAS",link:"#letas"},{label:"Our Activities",link:"#our-activities"},{label:"Org Chart",link:"#org-chart"},{label:"About Us",link:"#about"}];return F.jsxs("div",{className:`bg-[#0037af] dark:bg-[#2e2929] w-screen h-[3rem] px-2 ${t&&"dark"} transition-colors duration-300`,children:[F.jsxs("div",{className:"hidden items-center h-full w-full justify-between px-[2rem] lg:flex",children:[F.jsx("div",{className:"flex items-center gap-2 cursor-pointer",children:F.jsx("a",{href:"#lto-bayombong",className:` ${i===0?"border-b-2 dark:border-amber-500 border-white":"border-b-2 border-[#fff0]"} transition-all duration-300 uppercase text-white text-[.8rem] font-semibold pb-[.15rem]`,children:"LTO Bayombong"})}),F.jsxs("div",{className:"flex items-center gap-5",children:[F.jsx("div",{className:"flex gap-4",children:o.map((l,u)=>F.jsx("a",{href:l.link,className:` ${u+1===i?"border-b-2 dark:border-amber-500 border-white":"border-b-2 border-[#fff0]"} transition-all duration-300 uppercase text-white text-[.8rem] font-semibold pb-[.15rem]`,children:l.label},u))}),F.jsxs("div",{className:"flex p-1 dark:bg-[#1f1c1c] bg-slate-200 rounded-sm gap-1",children:[F.jsx("div",{onClick:()=>e(!0),className:`dark:bg-[#2e2929] dark:hover:bg-[#352f2f] bg-white hover:bg-slate-300 p-1 rounded-sm cursor-pointer ${!t&&"!bg-slate-300"}`,children:F.jsx(bb,{className:"text-[#0037af] dark:text-white"})}),F.jsx("div",{onClick:()=>e(!1),className:`dark:bg-[#2e2929] dark:hover:bg-[#352f2f] bg-white hover:bg-slate-300 p-1 rounded-sm cursor-pointer ${t&&"!bg-[#484141]"}`,children:F.jsx(vb,{className:"text-[#0037af] dark:text-white"})})]})]})]}),F.jsxs("div",{className:"flex items-center h-full w-full lg:hidden",children:[F.jsx("span",{onClick:()=>a(!0),className:"text-white text-[1.5rem] cursor-pointer",children:F.jsx(v2,{})}),F.jsxs(TM,{open:n,onClose:a,className:"relative z-10 lg:hidden",children:[F.jsx(xM,{transition:!0,className:"fixed inset-0 bg-gray-900/50 transition-opacity duration-500 ease-in-out data-closed:opacity-0"}),F.jsx("div",{className:"fixed inset-0 overflow-hidden",children:F.jsx("div",{className:"absolute inset-0 overflow-hidden",children:F.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:F.jsxs(R1,{transition:!0,className:"pointer-events-auto relative w-screen max-w-[17rem] transform transition duration-500 ease-in-out data-closed:translate-x-full sm:duration-700",children:[F.jsx(Gu,{children:F.jsx("div",{className:"absolute top-0 left-0 -ml-8 flex pt-4 pr-2 duration-500 ease-in-out data-closed:opacity-0 sm:-ml-10 sm:pr-4",children:F.jsxs("button",{type:"button",onClick:()=>a(!1),className:"relative rounded-md text-gray-400 hover:text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:[F.jsx("span",{className:"absolute -inset-2.5"}),F.jsx("span",{className:"sr-only",children:"Close panel"}),F.jsx(_M,{"aria-hidden":"true",className:"size-6 cursor-pointer"})]})})}),F.jsxs("div",{className:`relative flex h-full flex-col overflow-y-auto bg-[#0037af] dark:bg-[#2e2929] ${t&&"dark"} py-6 shadow-xl after:absolute after:inset-y-0 after:left-0 after:w-px after:bg-white/10`,children:[F.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6",children:[F.jsx(M1,{className:"text-base font-semibold text-white",children:"Menu"}),F.jsxs("div",{className:"flex w-fit p-1 dark:bg-[#1f1c1c] bg-slate-200 rounded-sm gap-1",children:[F.jsx("div",{onClick:()=>e(!0),className:`dark:bg-[#2e2929] dark:hover:bg-[#352f2f] bg-white hover:bg-slate-300 p-1 rounded-sm cursor-pointer ${!t&&"!bg-slate-300"}`,children:F.jsx(bb,{className:"text-[#0037af] dark:text-white"})}),F.jsx("div",{onClick:()=>e(!1),className:`dark:bg-[#2e2929] dark:hover:bg-[#352f2f] bg-white hover:bg-slate-300 p-1 rounded-sm cursor-pointer ${t&&"!bg-[#484141]"}`,children:F.jsx(vb,{className:"text-[#0037af] dark:text-white"})})]})]}),F.jsx("div",{className:"flex flex-col justify-between px-4 sm:px-6 h-full",children:F.jsx("div",{className:"relative mt-6 flex-1",children:F.jsxs("div",{className:"flex flex-col gap-4",children:[F.jsx("a",{href:"#lto-bayombong",className:` ${i===0?"border-b-2 dark:border-amber-500 border-white":"border-b-2 border-[#fff0]"} transition-all duration-300 uppercase text-white text-[.8rem] font-semibold pb-[.15rem]`,children:"LTO Bayombong"}),o.map((l,u)=>F.jsx("a",{href:l.link,className:` ${u+1===i?"border-b-2 dark:border-amber-500 border-white":"border-b-2 border-[#fff0]"} transition-all duration-300 uppercase text-white text-[.8rem] font-semibold pb-[.15rem]`,children:l.label},u))]})})})]})]})})})})]})]})]})}function MM({children:i}){return F.jsxs("div",{className:"flex flex-col w-screen h-screen relative select-none overflow-hidden",children:[F.jsx(RM,{}),F.jsx("div",{className:"flex w-full h-full overflow-hidden",children:F.jsx("div",{className:"w-full relative",children:F.jsx("div",{className:"bg-[#1f1c1c] h-full overflow-auto no-scrollbar scroll-smooth snap-y snap-mandatory snap-always",children:i})})})]})}const D1=R.createContext({});function DM(i){const t=R.useRef(null);return t.current===null&&(t.current=i()),t.current}const om=typeof window<"u",LM=om?R.useLayoutEffect:R.useEffect,lm=R.createContext(null);function cm(i,t){i.indexOf(t)===-1&&i.push(t)}function um(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const ki=(i,t,e)=>e>t?t:e<i?i:e;let hm=()=>{};const Bi={},L1=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function O1(i){return typeof i=="object"&&i!==null}const P1=i=>/^0[^.\s]+$/u.test(i);function dm(i){let t;return()=>(t===void 0&&(t=i()),t)}const Bn=i=>i,OM=(i,t)=>e=>t(i(e)),yl=(...i)=>i.reduce(OM),Jo=(i,t,e)=>{const n=t-i;return n===0?1:(e-i)/n};class fm{constructor(){this.subscriptions=[]}add(t){return cm(this.subscriptions,t),()=>um(this.subscriptions,t)}notify(t,e,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,n);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=i=>i*1e3,oi=i=>i/1e3;function N1(i,t){return t?i*(1e3/t):0}const k1=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,PM=1e-7,NM=12;function kM(i,t,e,n,a){let o,l,u=0;do l=t+(e-t)/2,o=k1(l,n,a)-i,o>0?e=l:t=l;while(Math.abs(o)>PM&&++u<NM);return l}function vl(i,t,e,n){if(i===t&&e===n)return Bn;const a=o=>kM(o,0,1,i,e);return o=>o===0||o===1?o:k1(a(o),t,n)}const B1=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,F1=i=>t=>1-i(1-t),I1=vl(.33,1.53,.69,.99),pm=F1(I1),j1=B1(pm),U1=i=>(i*=2)<1?.5*pm(i):.5*(2-Math.pow(2,-10*(i-1))),mm=i=>1-Math.sin(Math.acos(i)),V1=F1(mm),H1=B1(mm),BM=vl(.42,0,1,1),FM=vl(0,0,.58,1),z1=vl(.42,0,.58,1),IM=i=>Array.isArray(i)&&typeof i[0]!="number",G1=i=>Array.isArray(i)&&typeof i[0]=="number",jM={linear:Bn,easeIn:BM,easeInOut:z1,easeOut:FM,circIn:mm,circInOut:H1,circOut:V1,backIn:pm,backInOut:j1,backOut:I1,anticipate:U1},UM=i=>typeof i=="string",kb=i=>{if(G1(i)){hm(i.length===4);const[t,e,n,a]=i;return vl(t,e,n,a)}else if(UM(i))return jM[i];return i},Kc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VM(i,t){let e=new Set,n=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(f.schedule(p),i()),p(u)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&a?e:n;return g&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(u=p,a){o=!0;return}a=!0,[e,n]=[n,e],e.forEach(h),e.clear(),a=!1,o&&(o=!1,f.process(p))}};return f}const HM=40;function $1(i,t){let e=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=Kc.reduce((C,D)=>(C[D]=VM(o),C),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:b,postRender:S}=l,A=()=>{const C=Bi.useManualTiming?a.timestamp:performance.now();e=!1,Bi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(C-a.timestamp,HM),1)),a.timestamp=C,a.isProcessing=!0,u.process(a),h.process(a),f.process(a),p.process(a),g.process(a),v.process(a),b.process(a),S.process(a),a.isProcessing=!1,e&&t&&(n=!1,i(A))},E=()=>{e=!0,n=!0,a.isProcessing||i(A)};return{schedule:Kc.reduce((C,D)=>{const M=l[D];return C[D]=(P,k=!1,I=!1)=>(e||E(),M.schedule(P,k,I)),C},{}),cancel:C=>{for(let D=0;D<Kc.length;D++)l[Kc[D]].cancel(C)},state:a,steps:l}}const{schedule:te,cancel:bs,state:Fe,steps:kf}=$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let uu;function zM(){uu=void 0}const rn={now:()=>(uu===void 0&&rn.set(Fe.isProcessing||Bi.useManualTiming?Fe.timestamp:performance.now()),uu),set:i=>{uu=i,queueMicrotask(zM)}},q1=i=>t=>typeof t=="string"&&t.startsWith(i),gm=q1("--"),GM=q1("var(--"),ym=i=>GM(i)?$M.test(i.split("/*")[0].trim()):!1,$M=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Er={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},tl={...Er,transform:i=>ki(0,1,i)},Wc={...Er,default:1},Go=i=>Math.round(i*1e5)/1e5,vm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qM(i){return i==null}const XM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bm=(i,t)=>e=>!!(typeof e=="string"&&XM.test(e)&&e.startsWith(i)||t&&!qM(e)&&Object.prototype.hasOwnProperty.call(e,t)),X1=(i,t,e)=>n=>{if(typeof n!="string")return n;const[a,o,l,u]=n.match(vm);return{[i]:parseFloat(a),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},YM=i=>ki(0,255,i),Bf={...Er,transform:i=>Math.round(YM(i))},Ws={test:bm("rgb","red"),parse:X1("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:n=1})=>"rgba("+Bf.transform(i)+", "+Bf.transform(t)+", "+Bf.transform(e)+", "+Go(tl.transform(n))+")"};function KM(i){let t="",e="",n="",a="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),n=i.substring(5,7),a=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),n=i.substring(3,4),a=i.substring(4,5),t+=t,e+=e,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const yp={test:bm("#"),parse:KM,transform:Ws.transform},bl=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),ds=bl("deg"),li=bl("%"),bt=bl("px"),WM=bl("vh"),QM=bl("vw"),Bb={...li,parse:i=>li.parse(i)/100,transform:i=>li.transform(i*100)},nr={test:bm("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(i)+", "+li.transform(Go(t))+", "+li.transform(Go(e))+", "+Go(tl.transform(n))+")"},we={test:i=>Ws.test(i)||yp.test(i)||nr.test(i),parse:i=>Ws.test(i)?Ws.parse(i):nr.test(i)?nr.parse(i):yp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Ws.transform(i):nr.transform(i),getAnimatableNone:i=>{const t=we.parse(i);return t.alpha=0,we.transform(t)}},ZM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JM(i){return isNaN(i)&&typeof i=="string"&&(i.match(vm)?.length||0)+(i.match(ZM)?.length||0)>0}const Y1="number",K1="color",tD="var",eD="var(",Fb="${}",nD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(i){const t=i.toString(),e=[],n={color:[],number:[],var:[]},a=[];let o=0;const u=t.replace(nD,h=>(we.test(h)?(n.color.push(o),a.push(K1),e.push(we.parse(h))):h.startsWith(eD)?(n.var.push(o),a.push(tD),e.push(h)):(n.number.push(o),a.push(Y1),e.push(parseFloat(h))),++o,Fb)).split(Fb);return{values:e,split:u,indexes:n,types:a}}function W1(i){return el(i).values}function Q1(i){const{split:t,types:e}=el(i),n=t.length;return a=>{let o="";for(let l=0;l<n;l++)if(o+=t[l],a[l]!==void 0){const u=e[l];u===Y1?o+=Go(a[l]):u===K1?o+=we.transform(a[l]):o+=a[l]}return o}}const iD=i=>typeof i=="number"?0:we.test(i)?we.getAnimatableNone(i):i;function sD(i){const t=W1(i);return Q1(i)(t.map(iD))}const As={test:JM,parse:W1,createTransformer:Q1,getAnimatableNone:sD};function Ff(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function aD({hue:i,saturation:t,lightness:e,alpha:n}){i/=360,t/=100,e/=100;let a=0,o=0,l=0;if(!t)a=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;a=Ff(h,u,i+1/3),o=Ff(h,u,i),l=Ff(h,u,i-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function wu(i,t){return e=>e>0?t:i}const se=(i,t,e)=>i+(t-i)*e,If=(i,t,e)=>{const n=i*i,a=e*(t*t-n)+n;return a<0?0:Math.sqrt(a)},rD=[yp,Ws,nr],oD=i=>rD.find(t=>t.test(i));function Ib(i){const t=oD(i);if(!t)return!1;let e=t.parse(i);return t===nr&&(e=aD(e)),e}const jb=(i,t)=>{const e=Ib(i),n=Ib(t);if(!e||!n)return wu(i,t);const a={...e};return o=>(a.red=If(e.red,n.red,o),a.green=If(e.green,n.green,o),a.blue=If(e.blue,n.blue,o),a.alpha=se(e.alpha,n.alpha,o),Ws.transform(a))},vp=new Set(["none","hidden"]);function lD(i,t){return vp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function cD(i,t){return e=>se(i,t,e)}function Am(i){return typeof i=="number"?cD:typeof i=="string"?ym(i)?wu:we.test(i)?jb:dD:Array.isArray(i)?Z1:typeof i=="object"?we.test(i)?jb:uD:wu}function Z1(i,t){const e=[...i],n=e.length,a=i.map((o,l)=>Am(o)(o,t[l]));return o=>{for(let l=0;l<n;l++)e[l]=a[l](o);return e}}function uD(i,t){const e={...i,...t},n={};for(const a in e)i[a]!==void 0&&t[a]!==void 0&&(n[a]=Am(i[a])(i[a],t[a]));return a=>{for(const o in n)e[o]=n[o](a);return e}}function hD(i,t){const e=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=i.indexes[o][n[o]],u=i.values[l]??0;e[a]=u,n[o]++}return e}const dD=(i,t)=>{const e=As.createTransformer(t),n=el(i),a=el(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?vp.has(i)&&!a.values.length||vp.has(t)&&!n.values.length?lD(i,t):yl(Z1(hD(n,a),a.values),e):wu(i,t)};function J1(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?se(i,t,e):Am(i)(i,t)}const fD=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>te.update(t,e),stop:()=>bs(t),now:()=>Fe.isProcessing?Fe.timestamp:rn.now()}},tw=(i,t,e=10)=>{let n="";const a=Math.max(Math.round(t/e),2);for(let o=0;o<a;o++)n+=Math.round(i(o/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Eu=2e4;function Sm(i){let t=0;const e=50;let n=i.next(t);for(;!n.done&&t<Eu;)t+=e,n=i.next(t);return t>=Eu?1/0:t}function pD(i,t=100,e){const n=e({...i,keyframes:[0,t]}),a=Math.min(Sm(n),Eu);return{type:"keyframes",ease:o=>n.next(a*o).value/t,duration:oi(a)}}const mD=5;function ew(i,t,e){const n=Math.max(t-mD,0);return N1(e-i(n),t-n)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jf=.001;function gD({duration:i=he.duration,bounce:t=he.bounce,velocity:e=he.velocity,mass:n=he.mass}){let a,o,l=1-t;l=ki(he.minDamping,he.maxDamping,l),i=ki(he.minDuration,he.maxDuration,oi(i)),l<1?(a=f=>{const p=f*l,g=p*i,v=p-e,b=bp(f,l),S=Math.exp(-g);return jf-v/b*S},o=f=>{const g=f*l*i,v=g*e+e,b=Math.pow(l,2)*Math.pow(f,2)*i,S=Math.exp(-g),A=bp(Math.pow(f,2),l);return(-a(f)+jf>0?-1:1)*((v-b)*S)/A}):(a=f=>{const p=Math.exp(-f*i),g=(f-e)*i+1;return-jf+p*g},o=f=>{const p=Math.exp(-f*i),g=(e-f)*(i*i);return p*g});const u=5/i,h=vD(a,o,u);if(i=ri(i),isNaN(h))return{stiffness:he.stiffness,damping:he.damping,duration:i};{const f=Math.pow(h,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:i}}}const yD=12;function vD(i,t,e){let n=e;for(let a=1;a<yD;a++)n=n-i(n)/t(n);return n}function bp(i,t){return i*Math.sqrt(1-t*t)}const bD=["duration","bounce"],AD=["stiffness","damping","mass"];function Ub(i,t){return t.some(e=>i[e]!==void 0)}function SD(i){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...i};if(!Ub(i,AD)&&Ub(i,bD))if(i.visualDuration){const e=i.visualDuration,n=2*Math.PI/(e*1.2),a=n*n,o=2*ki(.05,1,1-(i.bounce||0))*Math.sqrt(a);t={...t,mass:he.mass,stiffness:a,damping:o}}else{const e=gD(i);t={...t,...e,mass:he.mass},t.isResolvedFromDuration=!0}return t}function xu(i=he.visualDuration,t=he.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:n,restDelta:a}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=SD({...e,velocity:-oi(e.velocity||0)}),S=v||0,A=f/(2*Math.sqrt(h*p)),E=l-o,w=oi(Math.sqrt(h/p)),T=Math.abs(E)<5;n||(n=T?he.restSpeed.granular:he.restSpeed.default),a||(a=T?he.restDelta.granular:he.restDelta.default);let C;if(A<1){const M=bp(w,A);C=P=>{const k=Math.exp(-A*w*P);return l-k*((S+A*w*E)/M*Math.sin(M*P)+E*Math.cos(M*P))}}else if(A===1)C=M=>l-Math.exp(-w*M)*(E+(S+w*E)*M);else{const M=w*Math.sqrt(A*A-1);C=P=>{const k=Math.exp(-A*w*P),I=Math.min(M*P,300);return l-k*((S+A*w*E)*Math.sinh(I)+M*E*Math.cosh(I))/M}}const D={calculatedDuration:b&&g||null,next:M=>{const P=C(M);if(b)u.done=M>=g;else{let k=M===0?S:0;A<1&&(k=M===0?ri(S):ew(C,M,P));const I=Math.abs(k)<=n,$=Math.abs(l-P)<=a;u.done=I&&$}return u.value=u.done?l:P,u},toString:()=>{const M=Math.min(Sm(D),Eu),P=tw(k=>D.next(M*k).value,M,30);return M+"ms "+P},toTransition:()=>{}};return D}xu.applyToOptions=i=>{const t=pD(i,100,xu);return i.ease=t.ease,i.duration=ri(t.duration),i.type="keyframes",i};function Ap({keyframes:i,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const g=i[0],v={done:!1,value:g},b=I=>u!==void 0&&I<u||h!==void 0&&I>h,S=I=>u===void 0?h:h===void 0||Math.abs(u-I)<Math.abs(h-I)?u:h;let A=e*t;const E=g+A,w=l===void 0?E:l(E);w!==E&&(A=w-g);const T=I=>-A*Math.exp(-I/n),C=I=>w+T(I),D=I=>{const $=T(I),X=C(I);v.done=Math.abs($)<=f,v.value=v.done?w:X};let M,P;const k=I=>{b(v.value)&&(M=I,P=xu({keyframes:[v.value,S(v.value)],velocity:ew(C,I,v.value),damping:a,stiffness:o,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:I=>{let $=!1;return!P&&M===void 0&&($=!0,D(I),k(I)),M!==void 0&&I>=M?P.next(I-M):(!$&&D(I),v)}}}function wD(i,t,e){const n=[],a=e||Bi.mix||J1,o=i.length-1;for(let l=0;l<o;l++){let u=a(i[l],i[l+1]);if(t){const h=Array.isArray(t)?t[l]||Bn:t;u=yl(h,u)}n.push(u)}return n}function ED(i,t,{clamp:e=!0,ease:n,mixer:a}={}){const o=i.length;if(hm(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=i[0]===i[1];i[0]>i[o-1]&&(i=[...i].reverse(),t=[...t].reverse());const u=wD(t,n,a),h=u.length,f=p=>{if(l&&p<i[0])return t[0];let g=0;if(h>1)for(;g<i.length-2&&!(p<i[g+1]);g++);const v=Jo(i[g],i[g+1],p);return u[g](v)};return e?p=>f(ki(i[0],i[o-1],p)):f}function xD(i,t){const e=i[i.length-1];for(let n=1;n<=t;n++){const a=Jo(0,t,n);i.push(se(e,1,a))}}function TD(i){const t=[0];return xD(t,i.length-1),t}function CD(i,t){return i.map(e=>e*t)}function _D(i,t){return i.map(()=>t||z1).splice(0,i.length-1)}function $o({duration:i=300,keyframes:t,times:e,ease:n="easeInOut"}){const a=IM(n)?n.map(kb):kb(n),o={done:!1,value:t[0]},l=CD(e&&e.length===t.length?e:TD(t),i),u=ED(l,t,{ease:Array.isArray(a)?a:_D(t,a)});return{calculatedDuration:i,next:h=>(o.value=u(h),o.done=h>=i,o)}}const RD=i=>i!==null;function wm(i,{repeat:t,repeatType:e="loop"},n,a=1){const o=i.filter(RD),u=a<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||n===void 0?o[u]:n}const MD={decay:Ap,inertia:Ap,tween:$o,keyframes:$o,spring:xu};function nw(i){typeof i.type=="string"&&(i.type=MD[i.type])}class Em{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const DD=i=>i/100;class xm extends Em{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nw(t);const{type:e=$o,repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const h=e||$o;h!==$o&&typeof u[0]!="number"&&(this.mixKeyframes=yl(DD,J1(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Sm(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:a,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:b,type:S,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const w=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,D=n;if(g){const I=Math.min(this.currentTime,a)/u;let $=Math.floor(I),X=I%1;!X&&I>=1&&(X=1),X===1&&$--,$=Math.min($,g+1),!!($%2)&&(v==="reverse"?(X=1-X,b&&(X-=b/u)):v==="mirror"&&(D=l)),C=ki(0,1,X)*u}const M=T?{done:!1,value:p[0]}:D.next(C);o&&(M.value=o(M.value));let{done:P}=M;!T&&h!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&S!==Ap&&(M.value=wm(p,this.options,E,this.speed)),A&&A(M.value),k&&this.finish(),M}then(t,e){return this.finished.then(t,e)}get duration(){return oi(this.calculatedDuration)}get time(){return oi(this.currentTime)}set time(t){t=ri(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(rn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=fD,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function LD(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Qs=i=>i*180/Math.PI,Sp=i=>{const t=Qs(Math.atan2(i[1],i[0]));return wp(t)},OD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Sp,rotateZ:Sp,skewX:i=>Qs(Math.atan(i[1])),skewY:i=>Qs(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},wp=i=>(i=i%360,i<0&&(i+=360),i),Vb=Sp,Hb=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),zb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),PD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hb,scaleY:zb,scale:i=>(Hb(i)+zb(i))/2,rotateX:i=>wp(Qs(Math.atan2(i[6],i[5]))),rotateY:i=>wp(Qs(Math.atan2(-i[2],i[0]))),rotateZ:Vb,rotate:Vb,skewX:i=>Qs(Math.atan(i[4])),skewY:i=>Qs(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Ep(i){return i.includes("scale")?1:0}function xp(i,t){if(!i||i==="none")return Ep(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(e)n=PD,a=e;else{const u=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=OD,a=u}if(!a)return Ep(t);const o=n[t],l=a[1].split(",").map(kD);return typeof o=="function"?o(l):l[o]}const ND=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return xp(e,t)};function kD(i){return parseFloat(i.trim())}const xr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tr=new Set(xr),Gb=i=>i===Er||i===bt,BD=new Set(["x","y","z"]),FD=xr.filter(i=>!BD.has(i));function ID(i){const t=[];return FD.forEach(e=>{const n=i.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const na={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>xp(t,"x"),y:(i,{transform:t})=>xp(t,"y")};na.translateX=na.x;na.translateY=na.y;const ia=new Set;let Tp=!1,Cp=!1,_p=!1;function iw(){if(Cp){const i=Array.from(ia).filter(n=>n.needsMeasurement),t=new Set(i.map(n=>n.element)),e=new Map;t.forEach(n=>{const a=ID(n);a.length&&(e.set(n,a),n.render())}),i.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=e.get(n);a&&a.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Cp=!1,Tp=!1,ia.forEach(i=>i.complete(_p)),ia.clear()}function sw(){ia.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Cp=!0)})}function jD(){_p=!0,sw(),iw(),_p=!1}class Tm{constructor(t,e,n,a,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ia.add(this),Tp||(Tp=!0,te.read(sw),te.resolveKeyframes(iw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:a}=this;if(t[0]===null){const o=a?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&e){const u=n.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}LD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ia.delete(this)}cancel(){this.state==="scheduled"&&(ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UD=i=>i.startsWith("--");function VD(i,t,e){UD(t)?i.style.setProperty(t,e):i.style[t]=e}const HD=dm(()=>window.ScrollTimeline!==void 0),zD={};function GD(i,t){const e=dm(i);return()=>zD[t]??e()}const aw=GD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fo=([i,t,e,n])=>`cubic-bezier(${i}, ${t}, ${e}, ${n})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fo([0,.65,.55,1]),circOut:Fo([.55,0,1,.45]),backIn:Fo([.31,.01,.66,-.59]),backOut:Fo([.33,1.53,.69,.99])};function rw(i,t){if(i)return typeof i=="function"?aw()?tw(i,t):"ease-out":G1(i)?Fo(i):Array.isArray(i)?i.map(e=>rw(e,t)||$b.easeOut):$b[i]}function $D(i,t,e,{delay:n=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:e};h&&(p.offset=h);const g=rw(u,a);Array.isArray(g)&&(p.easing=g);const v={delay:n,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),i.animate(p,v)}function ow(i){return typeof i=="function"&&"applyToOptions"in i}function qD({type:i,...t}){return ow(i)&&aw()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XD extends Em{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:a,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,hm(typeof t.type!="string");const f=qD(t);this.animation=$D(e,n,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=wm(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):VD(e,n,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oi(Number(t))}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ri(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&HD()?(this.animation.timeline=t,Bn):e(this)}}const lw={anticipate:U1,backInOut:j1,circInOut:H1};function YD(i){return i in lw}function KD(i){typeof i.ease=="string"&&YD(i.ease)&&(i.ease=lw[i.ease])}const qb=10;class WD extends XD{constructor(t){KD(t),nw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:a,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new xm({...l,autoplay:!1}),h=ri(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-qb).value,u.sample(h).value,qb),u.stop()}}const Xb=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(As.test(i)||i==="0")&&!i.startsWith("url("));function QD(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function ZD(i,t,e,n){const a=i[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=i[i.length-1],l=Xb(a,t),u=Xb(o,t);return!l||!u?!1:QD(i)||(e==="spring"||ow(e))&&n}function Rp(i){i.duration=0,i.type}const JD=new Set(["opacity","clipPath","filter","transform"]),tL=dm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eL(i){const{motionValue:t,name:e,repeatDelay:n,repeatType:a,damping:o,type:l}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return tL()&&e&&JD.has(e)&&(e!=="transform"||!f)&&!h&&!n&&a!=="mirror"&&o!==0&&l!=="inertia"}const nL=40;class iL extends Em{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=rn.now();const v={autoplay:t,delay:e,type:n,repeat:a,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:p,...g},b=p?.KeyframeResolver||Tm;this.keyframeResolver=new b(u,(S,A,E)=>this.onKeyframesResolved(S,A,v,!E),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,a){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:p}=n;this.resolvedAt=rn.now(),ZD(t,o,l,u)||((Bi.instantAnimations||!h)&&p?.(wm(t,n,e)),t[0]=t[t.length-1],Rp(n),n.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},b=!f&&eL(v)?new WD({...v,element:v.motionValue.owner.current}):new xm(v);b.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jD()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aL(i){const t=sL.exec(i);if(!t)return[,];const[,e,n,a]=t;return[`--${e??n}`,a]}function cw(i,t,e=1){const[n,a]=aL(i);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return L1(l)?parseFloat(l):l}return ym(a)?cw(a,t,e+1):a}function Cm(i,t){return i?.[t]??i?.default??i}const uw=new Set(["width","height","top","left","right","bottom",...xr]),rL={test:i=>i==="auto",parse:i=>i},hw=i=>t=>t.test(i),dw=[Er,bt,li,ds,QM,WM,rL],Yb=i=>dw.find(hw(i));function oL(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||P1(i):!0}const lL=new Set(["brightness","contrast","saturate","opacity"]);function cL(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[n]=e.match(vm)||[];if(!n)return i;const a=e.replace(n,"");let o=lL.has(t)?1:0;return n!==e&&(o*=100),t+"("+o+a+")"}const uL=/\b([a-z-]*)\(.*?\)/gu,Mp={...As,getAnimatableNone:i=>{const t=i.match(uL);return t?t.map(cL).join(" "):i}},Kb={...Er,transform:Math.round},hL={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:Wc,scaleX:Wc,scaleY:Wc,scaleZ:Wc,skew:ds,skewX:ds,skewY:ds,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:tl,originX:Bb,originY:Bb,originZ:bt},_m={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...hL,zIndex:Kb,fillOpacity:tl,strokeOpacity:tl,numOctaves:Kb},dL={..._m,color:we,backgroundColor:we,outlineColor:we,fill:we,stroke:we,borderColor:we,borderTopColor:we,borderRightColor:we,borderBottomColor:we,borderLeftColor:we,filter:Mp,WebkitFilter:Mp},fw=i=>dL[i];function pw(i,t){let e=fw(i);return e!==Mp&&(e=As),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const fL=new Set(["auto","none","0"]);function pL(i,t,e){let n=0,a;for(;n<i.length&&!a;){const o=i[n];typeof o=="string"&&!fL.has(o)&&el(o).values.length&&(a=i[n]),n++}if(a&&e)for(const o of t)i[o]=pw(e,a)}class mL extends Tm{constructor(t,e,n,a,o){super(t,e,n,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),ym(f))){const p=cw(f,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!uw.has(n)||t.length!==2)return;const[a,o]=t,l=Yb(a),u=Yb(o);if(l!==u)if(Gb(l)&&Gb(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else na[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||oL(t[a]))&&n.push(a);n.length&&pL(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=na[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function gL(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const a=e?.[i]??n.querySelectorAll(i);return a?Array.from(a):[]}return Array.from(i)}const mw=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function yL(i){return O1(i)&&"offsetHeight"in i}const Wb=30,vL=i=>!isNaN(parseFloat(i));class bL{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new fm);const n=this.events[t].add(e);return t==="change"?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Wb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Wb);return N1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gr(i,t){return new bL(i,t)}const{schedule:Rm}=$1(queueMicrotask,!1),Vn={x:!1,y:!1};function gw(){return Vn.x||Vn.y}function AL(i){return i==="x"||i==="y"?Vn[i]?null:(Vn[i]=!0,()=>{Vn[i]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}function yw(i,t){const e=gL(i),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[e,a,()=>n.abort()]}function Qb(i){return!(i.pointerType==="touch"||gw())}function SL(i,t,e={}){const[n,a,o]=yw(i,e),l=u=>{if(!Qb(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const p=g=>{Qb(g)&&(f(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,a)};return n.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}const vw=(i,t)=>t?i===t?!0:vw(i,t.parentElement):!1,Mm=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,wL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EL(i){return wL.has(i.tagName)||i.tabIndex!==-1}const hu=new WeakSet;function Zb(i){return t=>{t.key==="Enter"&&i(t)}}function Uf(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xL=(i,t)=>{const e=i.currentTarget;if(!e)return;const n=Zb(()=>{if(hu.has(e))return;Uf(e,"down");const a=Zb(()=>{Uf(e,"up")}),o=()=>Uf(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function Jb(i){return Mm(i)&&!gw()}function TL(i,t,e={}){const[n,a,o]=yw(i,e),l=u=>{const h=u.currentTarget;if(!Jb(u))return;hu.add(h);const f=t(h,u),p=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),hu.has(h)&&hu.delete(h),Jb(b)&&typeof f=="function"&&f(b,{success:S})},g=b=>{p(b,h===window||h===document||e.useGlobalTarget||vw(h,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return n.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),yL(u)&&(u.addEventListener("focus",f=>xL(f,a)),!EL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function bw(i){return O1(i)&&"ownerSVGElement"in i}function CL(i){return bw(i)&&i.tagName==="svg"}const Ge=i=>!!(i&&i.getVelocity),_L=[...dw,we,As],RL=i=>_L.find(hw(i)),Aw=R.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function ML(i=!0){const t=R.useContext(lm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:a}=t,o=R.useId();R.useEffect(()=>{if(i)return a(o)},[i]);const l=R.useCallback(()=>i&&n&&n(o),[o,n,i]);return!e&&n?[!1,l]:[!0]}const Sw=R.createContext({strict:!1}),tA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yr={};for(const i in tA)yr[i]={isEnabled:t=>tA[i].some(e=>!!t[e])};function DL(i){for(const t in i)yr[t]={...yr[t],...i[t]}}const LL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tu(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||LL.has(i)}let ww=i=>!Tu(i);function OL(i){typeof i=="function"&&(ww=t=>t.startsWith("on")?!Tu(t):i(t))}try{OL(require("@emotion/is-prop-valid").default)}catch{}function PL(i,t,e){const n={};for(const a in i)a==="values"&&typeof i.values=="object"||(ww(a)||e===!0&&Tu(a)||!t&&!Tu(a)||i.draggable&&a.startsWith("onDrag"))&&(n[a]=i[a]);return n}const qu=R.createContext({});function Xu(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function nl(i){return typeof i=="string"||Array.isArray(i)}const Dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lm=["initial",...Dm];function Yu(i){return Xu(i.animate)||Lm.some(t=>nl(i[t]))}function Ew(i){return!!(Yu(i)||i.variants)}function NL(i,t){if(Yu(i)){const{initial:e,animate:n}=i;return{initial:e===!1||nl(e)?e:void 0,animate:nl(n)?n:void 0}}return i.inherit!==!1?t:{}}function kL(i){const{initial:t,animate:e}=NL(i,R.useContext(qu));return R.useMemo(()=>({initial:t,animate:e}),[eA(t),eA(e)])}function eA(i){return Array.isArray(i)?i.join(" "):i}const il={};function BL(i){for(const t in i)il[t]=i[t],gm(t)&&(il[t].isCSSVariable=!0)}function xw(i,{layout:t,layoutId:e}){return Tr.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!il[i]||i==="opacity")}const FL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IL=xr.length;function jL(i,t,e){let n="",a=!0;for(let o=0;o<IL;o++){const l=xr[o],u=i[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const f=mw(u,_m[l]);if(!h){a=!1;const p=FL[l]||l;n+=`${p}(${f}) `}e&&(t[l]=f)}}return n=n.trim(),e?n=e(t,a?"":n):a&&(n="none"),n}function Om(i,t,e){const{style:n,vars:a,transformOrigin:o}=i;let l=!1,u=!1;for(const h in t){const f=t[h];if(Tr.has(h)){l=!0;continue}else if(gm(h)){a[h]=f;continue}else{const p=mw(f,_m[h]);h.startsWith("origin")?(u=!0,o[h]=p):n[h]=p}}if(t.transform||(l||e?n.transform=jL(t,i.transform,e):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;n.transformOrigin=`${h} ${f} ${p}`}}const Pm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tw(i,t,e){for(const n in t)!Ge(t[n])&&!xw(n,e)&&(i[n]=t[n])}function UL({transformTemplate:i},t){return R.useMemo(()=>{const e=Pm();return Om(e,t,i),Object.assign({},e.vars,e.style)},[t])}function VL(i,t){const e=i.style||{},n={};return Tw(n,e,i),Object.assign(n,UL(i,t)),n}function HL(i,t){const e={},n=VL(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=n,e}const zL={offset:"stroke-dashoffset",array:"stroke-dasharray"},GL={offset:"strokeDashoffset",array:"strokeDasharray"};function $L(i,t,e=1,n=0,a=!0){i.pathLength=1;const o=a?zL:GL;i[o.offset]=bt.transform(-n);const l=bt.transform(t),u=bt.transform(e);i[o.array]=`${l} ${u}`}function Cw(i,{attrX:t,attrY:e,attrScale:n,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,f,p){if(Om(i,u,f),h){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:v}=i;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),n!==void 0&&(g.scale=n),a!==void 0&&$L(g,a,o,l,!1)}const _w=()=>({...Pm(),attrs:{}}),Rw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function qL(i,t,e,n){const a=R.useMemo(()=>{const o=_w();return Cw(o,t,Rw(n),i.transformTemplate,i.style),{...o.attrs,style:{...o.style}}},[t]);if(i.style){const o={};Tw(o,i.style,i),a.style={...o,...a.style}}return a}const XL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nm(i){return typeof i!="string"||i.includes("-")?!1:!!(XL.indexOf(i)>-1||/[A-Z]/u.test(i))}function YL(i,t,e,{latestValues:n},a,o=!1){const u=(Nm(i)?qL:HL)(t,n,a,i),h=PL(t,typeof i=="string",o),f=i!==R.Fragment?{...h,...u,ref:e}:{},{children:p}=t,g=R.useMemo(()=>Ge(p)?p.get():p,[p]);return R.createElement(i,{...f,children:g})}function nA(i){const t=[{},{}];return i?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function km(i,t,e,n){if(typeof t=="function"){const[a,o]=nA(n);t=t(e!==void 0?e:i.custom,a,o)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[a,o]=nA(n);t=t(e!==void 0?e:i.custom,a,o)}return t}function du(i){return Ge(i)?i.get():i}function KL({scrapeMotionValuesFromProps:i,createRenderState:t},e,n,a){return{latestValues:WL(e,n,a,i),renderState:t()}}function WL(i,t,e,n){const a={},o=n(i,{});for(const v in o)a[v]=du(o[v]);let{initial:l,animate:u}=i;const h=Yu(i),f=Ew(i);t&&f&&!h&&i.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Xu(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const S=km(i,v[b]);if(S){const{transitionEnd:A,transition:E,...w}=S;for(const T in w){let C=w[T];if(Array.isArray(C)){const D=p?C.length-1:0;C=C[D]}C!==null&&(a[T]=C)}for(const T in A)a[T]=A[T]}}}return a}const Mw=i=>(t,e)=>{const n=R.useContext(qu),a=R.useContext(lm),o=()=>KL(i,t,n,a);return e?o():DM(o)};function Bm(i,t,e){const{style:n}=i,a={};for(const o in n)(Ge(n[o])||t.style&&Ge(t.style[o])||xw(o,i)||e?.getValue(o)?.liveStyle!==void 0)&&(a[o]=n[o]);return a}const QL=Mw({scrapeMotionValuesFromProps:Bm,createRenderState:Pm});function Dw(i,t,e){const n=Bm(i,t,e);for(const a in i)if(Ge(i[a])||Ge(t[a])){const o=xr.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=i[a]}return n}const ZL=Mw({scrapeMotionValuesFromProps:Dw,createRenderState:_w}),JL=Symbol.for("motionComponentSymbol");function ir(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function tO(i,t,e){return R.useCallback(n=>{n&&i.onMount&&i.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):ir(e)&&(e.current=n))},[t])}const Fm=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eO="framerAppearId",Lw="data-"+Fm(eO),Ow=R.createContext({});function nO(i,t,e,n,a){const{visualElement:o}=R.useContext(qu),l=R.useContext(Sw),u=R.useContext(lm),h=R.useContext(Aw).reducedMotion,f=R.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(i,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,g=R.useContext(Ow);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&iO(f.current,e,a,g);const v=R.useRef(!1);R.useInsertionEffect(()=>{p&&v.current&&p.update(e,u)});const b=e[Lw],S=R.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return LM(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),p.enteringChildren=void 0)}),p}function iO(i,t,e,n){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:Pw(i.parent)),i.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&ir(u),visualElement:i,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:h,layoutRoot:f})}function Pw(i){if(i)return i.options.allowProjection!==!1?i.projection:Pw(i.parent)}function Vf(i,{forwardMotionProps:t=!1}={},e,n){e&&DL(e);const a=Nm(i)?ZL:QL;function o(u,h){let f;const p={...R.useContext(Aw),...u,layoutId:sO(u)},{isStatic:g}=p,v=kL(u),b=a(u,g);if(!g&&om){aO();const S=rO(p);f=S.MeasureLayout,v.visualElement=nO(i,b,p,n,S.ProjectionNode)}return F.jsxs(qu.Provider,{value:v,children:[f&&v.visualElement?F.jsx(f,{visualElement:v.visualElement,...p}):null,YL(i,u,tO(b,v.visualElement,h),b,g,t)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=R.forwardRef(o);return l[JL]=i,l}function sO({layoutId:i}){const t=R.useContext(D1).id;return t&&i!==void 0?t+"-"+i:i}function aO(i,t){R.useContext(Sw).strict}function rO(i){const{drag:t,layout:e}=yr;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function oO(i,t){if(typeof Proxy>"u")return Vf;const e=new Map,n=(o,l)=>Vf(o,l,i,t),a=(o,l)=>n(o,l);return new Proxy(a,{get:(o,l)=>l==="create"?n:(e.has(l)||e.set(l,Vf(l,void 0,i,t)),e.get(l))})}function Nw({top:i,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:i,max:n}}}function lO({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function cO(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),n=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function Hf(i){return i===void 0||i===1}function Dp({scale:i,scaleX:t,scaleY:e}){return!Hf(i)||!Hf(t)||!Hf(e)}function qs(i){return Dp(i)||kw(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function kw(i){return iA(i.x)||iA(i.y)}function iA(i){return i&&i!=="0%"}function Cu(i,t,e){const n=i-e,a=t*n;return e+a}function sA(i,t,e,n,a){return a!==void 0&&(i=Cu(i,a,n)),Cu(i,e,n)+t}function Lp(i,t=0,e=1,n,a){i.min=sA(i.min,t,e,n,a),i.max=sA(i.max,t,e,n,a)}function Bw(i,{x:t,y:e}){Lp(i.x,t.translate,t.scale,t.originPoint),Lp(i.y,e.translate,e.scale,e.originPoint)}const aA=.999999999999,rA=1.0000000000001;function uO(i,t,e,n=!1){const a=e.length;if(!a)return;t.x=t.y=1;let o,l;for(let u=0;u<a;u++){o=e[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ar(i,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Bw(i,l)),n&&qs(o.latestValues)&&ar(i,o.latestValues))}t.x<rA&&t.x>aA&&(t.x=1),t.y<rA&&t.y>aA&&(t.y=1)}function sr(i,t){i.min=i.min+t,i.max=i.max+t}function oA(i,t,e,n,a=.5){const o=se(i.min,i.max,a);Lp(i,t,e,o,n)}function ar(i,t){oA(i.x,t.x,t.scaleX,t.scale,t.originX),oA(i.y,t.y,t.scaleY,t.scale,t.originY)}function Fw(i,t){return Nw(cO(i.getBoundingClientRect(),t))}function hO(i,t,e){const n=Fw(i,e),{scroll:a}=t;return a&&(sr(n.x,a.offset.x),sr(n.y,a.offset.y)),n}const lA=()=>({translate:0,scale:1,origin:0,originPoint:0}),rr=()=>({x:lA(),y:lA()}),cA=()=>({min:0,max:0}),ye=()=>({x:cA(),y:cA()}),Op={current:null},Iw={current:!1};function dO(){if(Iw.current=!0,!!om)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Op.current=i.matches;i.addEventListener("change",t),t()}else Op.current=!1}const fO=new WeakMap;function pO(i,t,e){for(const n in t){const a=t[n],o=e[n];if(Ge(a))i.addValue(n,a);else if(Ge(o))i.addValue(n,gr(a,{owner:i}));else if(o!==a)if(i.hasValue(n)){const l=i.getValue(n);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=i.getStaticValue(n);i.addValue(n,gr(l!==void 0?l:a,{owner:i}))}}for(const n in e)t[n]===void 0&&i.removeValue(n);return t}const uA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mO{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=rn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,te.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Yu(e),this.isVariantNode=Ew(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in g){const b=g[v];h[v]!==void 0&&Ge(b)&&b.set(h[v])}}mount(t){this.current=t,fO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),Iw.current||dO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Tr.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&te.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yr){const e=yr[t];if(!e)continue;const{isEnabled:n,Feature:a}=e;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<uA.length;n++){const a=uA[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=t[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=pO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=gr(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(L1(n)||P1(n))?n=parseFloat(n):!RL(n)&&As.test(e)&&(n=pw(t,e)),this.setBaseTarget(t,Ge(n)?n.get():n)),Ge(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const o=km(this.props,e,this.presenceContext?.custom);o&&(n=o[t])}if(e&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ge(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new fm),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Rm.render(this.render)}}class jw extends mO{constructor(){super(...arguments),this.KeyframeResolver=mL}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ge(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Uw(i,{style:t,vars:e},n,a){const o=i.style;let l;for(l in t)o[l]=t[l];a?.applyProjectionStyles(o,n);for(l in e)o.setProperty(l,e[l])}function gO(i){return window.getComputedStyle(i)}class yO extends jw{constructor(){super(...arguments),this.type="html",this.renderInstance=Uw}readValueFromInstance(t,e){if(Tr.has(e))return this.projection?.isProjecting?Ep(e):ND(t,e);{const n=gO(t),a=(gm(e)?n.getPropertyValue(e):n[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Fw(t,e)}build(t,e,n){Om(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Bm(t,e,n)}}const Vw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vO(i,t,e,n){Uw(i,t,void 0,n);for(const a in t.attrs)i.setAttribute(Vw.has(a)?a:Fm(a),t.attrs[a])}class bO extends jw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Tr.has(e)){const n=fw(e);return n&&n.default||0}return e=Vw.has(e)?e:Fm(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Dw(t,e,n)}build(t,e,n){Cw(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,a){vO(t,e,n,a)}mount(t){this.isSVGTag=Rw(t.tagName),super.mount(t)}}const AO=(i,t)=>Nm(i)?new bO(t):new yO(t,{allowProjection:i!==R.Fragment});function cr(i,t,e){const n=i.getProps();return km(n,t,e!==void 0?e:n.custom,i)}const Pp=i=>Array.isArray(i);function SO(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,gr(e))}function wO(i){return Pp(i)?i[i.length-1]||0:i}function EO(i,t){const e=cr(i,t);let{transitionEnd:n={},transition:a={},...o}=e||{};o={...o,...n};for(const l in o){const u=wO(o[l]);SO(i,l,u)}}function xO(i){return!!(Ge(i)&&i.add)}function Np(i,t){const e=i.getValue("willChange");if(xO(e))return e.add(t);if(!e&&Bi.WillChange){const n=new Bi.WillChange("auto");i.addValue("willChange",n),n.add(t)}}function Hw(i){return i.props[Lw]}const TO=i=>i!==null;function CO(i,{repeat:t,repeatType:e="loop"},n){const a=i.filter(TO),o=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[o]}const _O={type:"spring",stiffness:500,damping:25,restSpeed:10},RO=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),MO={type:"keyframes",duration:.8},DO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LO=(i,{keyframes:t})=>t.length>2?MO:Tr.has(i)?i.startsWith("scale")?RO(t[1]):_O:DO;function OO({when:i,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Im=(i,t,e,n={},a,o)=>l=>{const u=Cm(n,i)||{},h=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ri(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:i,motionValue:t,element:o?void 0:a};OO(u)||Object.assign(p,LO(i,p)),p.duration&&(p.duration=ri(p.duration)),p.repeatDelay&&(p.repeatDelay=ri(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Rp(p),p.delay===0&&(g=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(g=!0,Rp(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const v=CO(p.keyframes,u);if(v!==void 0){te.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new xm(p):new iL(p)};function PO({protectedKeys:i,needsAnimating:t},e){const n=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function zw(i,t,{delay:e=0,transitionOverride:n,type:a}={}){let{transition:o=i.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(o=n);const h=[],f=a&&i.animationState&&i.animationState.getState()[a];for(const p in u){const g=i.getValue(p,i.latestValues[p]??null),v=u[p];if(v===void 0||f&&PO(f,p))continue;const b={delay:e,...Cm(o||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!b.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const w=Hw(i);if(w){const T=window.MotionHandoffAnimation(w,p,te);T!==null&&(b.startTime=T,A=!0)}}Np(i,p),g.start(Im(p,g,v,i.shouldReduceMotion&&uw.has(p)?{type:!1}:b,i,A));const E=g.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{te.update(()=>{l&&EO(i,l)})}),h}function Gw(i,t,e,n=0,a=1){const o=Array.from(i).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=i.size,u=(l-1)*n;return typeof e=="function"?e(o,l):a===1?o*n:u-o*n}function kp(i,t,e={}){const n=cr(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:a=i.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(a=e.transitionOverride);const o=n?()=>Promise.all(zw(i,n,e)):()=>Promise.resolve(),l=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return NO(i,t,h,f,p,g,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,f]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function NO(i,t,e=0,n=0,a=0,o=1,l){const u=[];for(const h of i.variantChildren)h.notify("AnimationStart",t),u.push(kp(h,t,{...l,delay:e+(typeof n=="function"?0:n)+Gw(i.variantChildren,h,n,a,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function kO(i,t,e={}){i.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(o=>kp(i,o,e));n=Promise.all(a)}else if(typeof t=="string")n=kp(i,t,e);else{const a=typeof t=="function"?cr(i,t,e.custom):t;n=Promise.all(zw(i,a,e))}return n.then(()=>{i.notify("AnimationComplete",t)})}function $w(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let n=0;n<e;n++)if(t[n]!==i[n])return!1;return!0}const BO=Lm.length;function qw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?qw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<BO;e++){const n=Lm[e],a=i.props[n];(nl(a)||a===!1)&&(t[n]=a)}return t}const FO=[...Dm].reverse(),IO=Dm.length;function jO(i){return t=>Promise.all(t.map(({animation:e,options:n})=>kO(i,e,n)))}function UO(i){let t=jO(i),e=hA(),n=!0;const a=h=>(f,p)=>{const g=cr(i,p,h==="exit"?i.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:b,...S}=g;f={...f,...S,...b}}return f};function o(h){t=h(i)}function l(h){const{props:f}=i,p=qw(i.parent)||{},g=[],v=new Set;let b={},S=1/0;for(let E=0;E<IO;E++){const w=FO[E],T=e[w],C=f[w]!==void 0?f[w]:p[w],D=nl(C),M=w===h?T.isActive:null;M===!1&&(S=E);let P=C===p[w]&&C!==f[w]&&D;if(P&&n&&i.manuallyAnimateOnMount&&(P=!1),T.protectedKeys={...b},!T.isActive&&M===null||!C&&!T.prevProp||Xu(C)||typeof C=="boolean")continue;const k=VO(T.prevProp,C);let I=k||w===h&&T.isActive&&!P&&D||E>S&&D,$=!1;const X=Array.isArray(C)?C:[C];let J=X.reduce(a(w),{});M===!1&&(J={});const{prevResolvedValues:rt={}}=T,ot={...rt,...J},nt=V=>{I=!0,v.has(V)&&($=!0,v.delete(V)),T.needsAnimating[V]=!0;const Z=i.getValue(V);Z&&(Z.liveStyle=!1)};for(const V in ot){const Z=J[V],it=rt[V];if(b.hasOwnProperty(V))continue;let O=!1;Pp(Z)&&Pp(it)?O=!$w(Z,it):O=Z!==it,O?Z!=null?nt(V):v.add(V):Z!==void 0&&v.has(V)?nt(V):T.protectedKeys[V]=!0}T.prevProp=C,T.prevResolvedValues=J,T.isActive&&(b={...b,...J}),n&&i.blockInitialAnimation&&(I=!1);const lt=P&&k;I&&(!lt||$)&&g.push(...X.map(V=>{const Z={type:w};if(typeof V=="string"&&n&&!lt&&i.manuallyAnimateOnMount&&i.parent){const{parent:it}=i,O=cr(it,V);if(it.enteringChildren&&O){const{delayChildren:Y}=O.transition||{};Z.delay=Gw(it.enteringChildren,i,Y)}}return{animation:V,options:Z}}))}if(v.size){const E={};if(typeof f.initial!="boolean"){const w=cr(i,Array.isArray(f.initial)?f.initial[0]:f.initial);w&&w.transition&&(E.transition=w.transition)}v.forEach(w=>{const T=i.getBaseTarget(w),C=i.getValue(w);C&&(C.liveStyle=!0),E[w]=T??null}),g.push({animation:E})}let A=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!i.manuallyAnimateOnMount&&(A=!1),n=!1,A?t(g):Promise.resolve()}function u(h,f){if(e[h].isActive===f)return Promise.resolve();i.variantChildren?.forEach(g=>g.animationState?.setActive(h,f)),e[h].isActive=f;const p=l(h);for(const g in e)e[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=hA(),n=!0}}}function VO(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!$w(t,i):!1}function zs(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hA(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class ws{constructor(t){this.isMounted=!1,this.node=t}update(){}}class HO extends ws{constructor(t){super(t),t.animationState||(t.animationState=UO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zO=0;class GO extends ws{constructor(){super(...arguments),this.id=zO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $O={animation:{Feature:HO},exit:{Feature:GO}};function sl(i,t,e,n={passive:!0}){return i.addEventListener(t,e,n),()=>i.removeEventListener(t,e)}function Al(i){return{point:{x:i.pageX,y:i.pageY}}}const qO=i=>t=>Mm(t)&&i(t,Al(t));function qo(i,t,e,n){return sl(i,t,qO(e),n)}const Xw=1e-4,XO=1-Xw,YO=1+Xw,Yw=.01,KO=0-Yw,WO=0+Yw;function Ye(i){return i.max-i.min}function QO(i,t,e){return Math.abs(i-t)<=e}function dA(i,t,e,n=.5){i.origin=n,i.originPoint=se(t.min,t.max,i.origin),i.scale=Ye(e)/Ye(t),i.translate=se(e.min,e.max,i.origin)-i.originPoint,(i.scale>=XO&&i.scale<=YO||isNaN(i.scale))&&(i.scale=1),(i.translate>=KO&&i.translate<=WO||isNaN(i.translate))&&(i.translate=0)}function Xo(i,t,e,n){dA(i.x,t.x,e.x,n?n.originX:void 0),dA(i.y,t.y,e.y,n?n.originY:void 0)}function fA(i,t,e){i.min=e.min+t.min,i.max=i.min+Ye(t)}function ZO(i,t,e){fA(i.x,t.x,e.x),fA(i.y,t.y,e.y)}function pA(i,t,e){i.min=t.min-e.min,i.max=i.min+Ye(t)}function Yo(i,t,e){pA(i.x,t.x,e.x),pA(i.y,t.y,e.y)}function kn(i){return[i("x"),i("y")]}const Kw=({current:i})=>i?i.ownerDocument.defaultView:null,mA=(i,t)=>Math.abs(i-t);function JO(i,t){const e=mA(i.x,t.x),n=mA(i.y,t.y);return Math.sqrt(e**2+n**2)}class Ww{constructor(t,e,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=JO(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:A}=v,{timestamp:E}=Fe;this.history.push({...A,timestamp:E});const{onStart:w,onMove:T}=this.handlers;b||(w&&w(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=zf(b,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gf(v.type==="pointercancel"?this.lastMoveEventInfo:zf(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,w),A&&A(v,w)},!Mm(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=a||window;const u=Al(t),h=zf(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Fe;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=e;g&&g(t,Gf(h,this.history)),this.removeListeners=yl(qo(this.contextWindow,"pointermove",this.handlePointerMove),qo(this.contextWindow,"pointerup",this.handlePointerUp),qo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function zf(i,t){return t?{point:t(i.point)}:i}function gA(i,t){return{x:i.x-t.x,y:i.y-t.y}}function Gf({point:i},t){return{point:i,delta:gA(i,Qw(t)),offset:gA(i,tP(t)),velocity:eP(t,.1)}}function tP(i){return i[0]}function Qw(i){return i[i.length-1]}function eP(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,n=null;const a=Qw(i);for(;e>=0&&(n=i[e],!(a.timestamp-n.timestamp>ri(t)));)e--;if(!n)return{x:0,y:0};const o=oi(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function nP(i,{min:t,max:e},n){return t!==void 0&&i<t?i=n?se(t,i,n.min):Math.max(i,t):e!==void 0&&i>e&&(i=n?se(e,i,n.max):Math.min(i,e)),i}function yA(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function iP(i,{top:t,left:e,bottom:n,right:a}){return{x:yA(i.x,e,a),y:yA(i.y,t,n)}}function vA(i,t){let e=t.min-i.min,n=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,n]=[n,e]),{min:e,max:n}}function sP(i,t){return{x:vA(i.x,t.x),y:vA(i.y,t.y)}}function aP(i,t){let e=.5;const n=Ye(i),a=Ye(t);return a>n?e=Jo(t.min,t.max-n,i.min):n>a&&(e=Jo(i.min,i.max-a,t.min)),ki(0,1,e)}function rP(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const Bp=.35;function oP(i=Bp){return i===!1?i=0:i===!0&&(i=Bp),{x:bA(i,"left","right"),y:bA(i,"top","bottom")}}function bA(i,t,e){return{min:AA(i,t),max:AA(i,e)}}function AA(i,t){return typeof i=="number"?i:i[t]||0}const lP=new WeakMap;class cP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Al(g).point)},l=(g,v)=>{const{drag:b,dragPropagation:S,onDragStart:A}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(w=>{let T=this.getAxisMotionValue(w).get()||0;if(li.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const D=C.layout.layoutBox[w];D&&(T=Ye(D)*(parseFloat(T)/100))}}this.originPoint[w]=T}),A&&te.postRender(()=>A(g,v)),Np(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:A,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=v;if(S&&this.currentDirection===null){this.currentDirection=uP(w),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,w),this.updateAxis("y",v.point,w),this.visualElement.render(),E&&E(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>kn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Ww(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:Kw(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,a=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!n)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&te.postRender(()=>u(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:a}=this.getProps();if(!n||!Qc(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=nP(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ir(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=iP(n.layoutBox,t):this.constraints=!1,this.elastic=oP(e),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&kn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rP(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ir(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=hO(n,a.root,this.visualElement.getTransformPagePoint());let l=sP(a.layout.layoutBox,o);if(e){const u=e(lO(l));this.hasMutatedConstraints=!!u,u&&(l=Nw(u))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=kn(p=>{if(!Qc(p,e,this.currentDirection))return;let g=h&&h[p]||{};l&&(g={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,S={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return Np(this.visualElement,t),n.start(Im(t,n,0,e,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[e];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){kn(e=>{const{drag:n}=this.getProps();if(!Qc(e,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(e);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[e];o.set(t[e]-se(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!ir(e)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};kn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=aP({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kn(l=>{if(!Qc(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(se(h,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;lP.set(this.visualElement,this);const t=this.visualElement.current,e=qo(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();ir(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),te.read(n);const l=sl(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(kn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=Bp,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Qc(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function uP(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class hP extends ws{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new cP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const SA=i=>(t,e)=>{i&&te.postRender(()=>i(t,e))};class dP extends ws{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new Ww(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:SA(t),onStart:SA(e),onMove:n,onEnd:(o,l)=>{delete this.session,a&&te.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=qo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wA(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const Mo={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(bt.test(i))i=parseFloat(i);else return i;const e=wA(i,t.target.x),n=wA(i,t.target.y);return`${e}% ${n}%`}},fP={correct:(i,{treeScale:t,projectionDelta:e})=>{const n=i,a=As.parse(i);if(a.length>5)return n;const o=As.createTransformer(i),l=typeof a[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;a[0+l]/=u,a[1+l]/=h;const f=se(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),o(a)}};let $f=!1;class pP extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=t;BL(mP),o&&(e.group&&e.group.add(o),n&&n.register&&a&&n.register(o),$f&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),fu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:a,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,$f=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||te.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:a}=t;$f=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zw(i){const[t,e]=ML(),n=R.useContext(D1);return F.jsx(pP,{...i,layoutGroup:n,switchLayoutGroup:R.useContext(Ow),isPresent:t,safeToRemove:e})}const mP={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:fP};function gP(i,t,e){const n=Ge(i)?i:gr(i);return n.start(Im("",n,t,e)),n.animation}const yP=(i,t)=>i.depth-t.depth;class vP{constructor(){this.children=[],this.isDirty=!1}add(t){cm(this.children,t),this.isDirty=!0}remove(t){um(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yP),this.isDirty=!1,this.children.forEach(t)}}function bP(i,t){const e=rn.now(),n=({timestamp:a})=>{const o=a-e;o>=t&&(bs(n),i(o-t))};return te.setup(n,!0),()=>bs(n)}const Jw=["TopLeft","TopRight","BottomLeft","BottomRight"],AP=Jw.length,EA=i=>typeof i=="string"?parseFloat(i):i,xA=i=>typeof i=="number"||bt.test(i);function SP(i,t,e,n,a,o){a?(i.opacity=se(0,e.opacity??1,wP(n)),i.opacityExit=se(t.opacity??1,0,EP(n))):o&&(i.opacity=se(t.opacity??1,e.opacity??1,n));for(let l=0;l<AP;l++){const u=`border${Jw[l]}Radius`;let h=TA(t,u),f=TA(e,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||xA(h)===xA(f)?(i[u]=Math.max(se(EA(h),EA(f),n),0),(li.test(f)||li.test(h))&&(i[u]+="%")):i[u]=f}(t.rotate||e.rotate)&&(i.rotate=se(t.rotate||0,e.rotate||0,n))}function TA(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const wP=tE(0,.5,V1),EP=tE(.5,.95,Bn);function tE(i,t,e){return n=>n<i?0:n>t?1:e(Jo(i,t,n))}function CA(i,t){i.min=t.min,i.max=t.max}function Ln(i,t){CA(i.x,t.x),CA(i.y,t.y)}function _A(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function RA(i,t,e,n,a){return i-=t,i=Cu(i,1/e,n),a!==void 0&&(i=Cu(i,1/a,n)),i}function xP(i,t=0,e=1,n=.5,a,o=i,l=i){if(li.test(t)&&(t=parseFloat(t),t=se(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=se(o.min,o.max,n);i===o&&(u-=t),i.min=RA(i.min,t,e,u,a),i.max=RA(i.max,t,e,u,a)}function MA(i,t,[e,n,a],o,l){xP(i,t[e],t[n],t[a],t.scale,o,l)}const TP=["x","scaleX","originX"],CP=["y","scaleY","originY"];function DA(i,t,e,n){MA(i.x,t,TP,e?e.x:void 0,n?n.x:void 0),MA(i.y,t,CP,e?e.y:void 0,n?n.y:void 0)}function LA(i){return i.translate===0&&i.scale===1}function eE(i){return LA(i.x)&&LA(i.y)}function OA(i,t){return i.min===t.min&&i.max===t.max}function _P(i,t){return OA(i.x,t.x)&&OA(i.y,t.y)}function PA(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function nE(i,t){return PA(i.x,t.x)&&PA(i.y,t.y)}function NA(i){return Ye(i.x)/Ye(i.y)}function kA(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class RP{constructor(){this.members=[]}add(t){cm(this.members,t),t.scheduleRender()}remove(t){if(um(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let n;for(let a=e;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MP(i,t,e){let n="";const a=i.x.translate/t.x,o=i.y.translate/t.y,l=e?.z||0;if((a||o||l)&&(n=`translate3d(${a}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:S}=e;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),b&&(n+=`skewX(${b}deg) `),S&&(n+=`skewY(${S}deg) `)}const u=i.x.scale*t.x,h=i.y.scale*t.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const qf=["","X","Y","Z"],DP=1e3;let LP=0;function Xf(i,t,e,n){const{latestValues:a}=t;a[i]&&(e[i]=a[i],t.setStaticValue(i,0),n&&(n[i]=0))}function iE(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=Hw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:o}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",te,!(a||o))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&iE(n)}function sE({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},u=t?.()){this.id=LP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NP),this.nodes.forEach(IP),this.nodes.forEach(jP),this.nodes.forEach(kP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new vP)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new fm),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=bw(l)&&!CL(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),i){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;te.read(()=>{g=window.innerWidth}),i(l,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=bP(v,250),fu.hasAnimatedSinceResize&&(fu.hasAnimatedSinceResize=!1,this.nodes.forEach(IA)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||GP,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=f.getProps(),w=!this.targetLayout||!nE(this.targetLayout,b),T=!g&&v;if(this.options.layoutRoot||this.resumeFrom||T||g&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Cm(S,"layout"),onPlay:A,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,T)}else g||IA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FP),this.nodes.forEach(OP),this.nodes.forEach(PP)):this.nodes.forEach(FA),this.clearAllSnapshots();const u=rn.now();Fe.delta=ki(0,1e3/60,u-Fe.timestamp),Fe.timestamp=u,Fe.isProcessing=!0,kf.update.process(Fe),kf.preRender.process(Fe),kf.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BP),this.sharedNodes.forEach(VP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ye(this.snapshot.measuredBox.x)&&!Ye(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!eE(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||qs(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),$P(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ye();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qP))){const{scroll:f}=this.root;f&&(sr(u.x,f.offset.x),sr(u.y,f.offset.y))}return u}removeElementScroll(l){const u=ye();if(Ln(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ln(u,l),sr(u.x,p.offset.x),sr(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=ye();Ln(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ar(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),qs(p.latestValues)&&ar(h,p.latestValues)}return qs(this.latestValues)&&ar(h,this.latestValues),h}removeTransform(l){const u=ye();Ln(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!qs(f.latestValues))continue;Dp(f.latestValues)&&f.updateSnapshot();const p=ye(),g=f.measurePageBox();Ln(p,g),DA(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return qs(this.latestValues)&&DA(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Yo(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),Bw(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Yo(this.relativeTargetOrigin,this.target,v.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dp(this.parent.latestValues)||kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ln(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;uO(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ye());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_A(this.prevProjectionDelta.x,this.projectionDelta.x),_A(this.prevProjectionDelta.y,this.projectionDelta.y)),Xo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!kA(this.projectionDelta.x,this.prevProjectionDelta.x)||!kA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rr(),this.projectionDelta=rr(),this.projectionDeltaWithTransform=rr()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=rr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=ye(),b=h?h.source:void 0,S=this.layout?this.layout.source:void 0,A=b!==S,E=this.getStack(),w=!E||E.members.length<=1,T=!!(A&&!w&&this.options.crossfade===!0&&!this.path.some(zP));this.animationProgress=0;let C;this.mixTargetDelta=D=>{const M=D/1e3;jA(g.x,l.x,M),jA(g.y,l.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HP(this.relativeTarget,this.relativeTargetOrigin,v,M),C&&_P(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ye()),Ln(C,this.relativeTarget)),A&&(this.animationValues=p,SP(p,f,this.latestValues,M,T,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{fu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gr(0)),this.currentAnimation=gP(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&aE(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ye();const g=Ye(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const v=Ye(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}Ln(u,h),ar(u,p),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new RP),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Xf("z",l,f,this.animationValues);for(let p=0;p<qf.length;p++)Xf(`rotate${qf[p]}`,l,f,this.animationValues),Xf(`skew${qf[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=du(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=du(u?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=MP(this.projectionDeltaWithTransform,this.treeScale,p);h&&(g=h(p,g)),l.transform=g;const{x:v,y:b}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in il){if(p[S]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:w}=il[S],T=g==="none"?p[S]:A(p[S],f);if(E){const C=E.length;for(let D=0;D<C;D++)l[E[D]]=T}else w?this.options.visualElement.renderState.vars[S]=T:l[S]=T}this.options.layoutId&&(l.pointerEvents=f===this?du(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(BA),this.root.sharedNodes.clear()}}}function OP(i){i.updateLayout()}function PP(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=i.layout,{animationType:a}=i.options,o=t.source!==i.layout.source;a==="size"?kn(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],v=Ye(g);g.min=e[p].min,g.max=g.min+v}):aE(a,t.layoutBox,e)&&kn(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],v=Ye(e[p]);g.max=g.min+v,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[p].max=i.relativeTarget[p].min+v)});const l=rr();Xo(l,e,t.layoutBox);const u=rr();o?Xo(u,i.applyTransform(n,!0),t.measuredBox):Xo(u,e,t.layoutBox);const h=!eE(l);let f=!1;if(!i.resumeFrom){const p=i.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const b=ye();Yo(b,t.layoutBox,g.layoutBox);const S=ye();Yo(S,e,v.layoutBox),nE(b,S)||(f=!0),p.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=b,i.relativeParent=p)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function NP(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function kP(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function BP(i){i.clearSnapshot()}function BA(i){i.clearMeasurements()}function FA(i){i.isLayoutDirty=!1}function FP(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function IA(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function IP(i){i.resolveTargetDelta()}function jP(i){i.calcProjection()}function UP(i){i.resetSkewAndRotation()}function VP(i){i.removeLeadSnapshot()}function jA(i,t,e){i.translate=se(t.translate,0,e),i.scale=se(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function UA(i,t,e,n){i.min=se(t.min,e.min,n),i.max=se(t.max,e.max,n)}function HP(i,t,e,n){UA(i.x,t.x,e.x,n),UA(i.y,t.y,e.y,n)}function zP(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const GP={duration:.45,ease:[.4,0,.1,1]},VA=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),HA=VA("applewebkit/")&&!VA("chrome/")?Math.round:Bn;function zA(i){i.min=HA(i.min),i.max=HA(i.max)}function $P(i){zA(i.x),zA(i.y)}function aE(i,t,e){return i==="position"||i==="preserve-aspect"&&!QO(NA(t),NA(e),.2)}function qP(i){return i!==i.root&&i.scroll?.wasRoot}const XP=sE({attachResizeListener:(i,t)=>sl(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yf={current:void 0},rE=sE({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Yf.current){const i=new XP({});i.mount(window),i.setOptions({layoutScroll:!0}),Yf.current=i}return Yf.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),YP={pan:{Feature:dP},drag:{Feature:hP,ProjectionNode:rE,MeasureLayout:Zw}};function GA(i,t,e){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,o=n[a];o&&te.postRender(()=>o(t,Al(t)))}class KP extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=SL(t,(e,n)=>(GA(this.node,n,"Start"),a=>GA(this.node,a,"End"))))}unmount(){}}class WP extends ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yl(sl(this.node.current,"focus",()=>this.onFocus()),sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $A(i,t,e){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),o=n[a];o&&te.postRender(()=>o(t,Al(t)))}class QP extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=TL(t,(e,n)=>($A(this.node,n,"Start"),(a,{success:o})=>$A(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fp=new WeakMap,Kf=new WeakMap,ZP=i=>{const t=Fp.get(i.target);t&&t(i)},JP=i=>{i.forEach(ZP)};function tN({root:i,...t}){const e=i||document;Kf.has(e)||Kf.set(e,{});const n=Kf.get(e),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(JP,{root:i,...t})),n[a]}function eN(i,t,e){const n=tN(t);return Fp.set(i,e),n.observe(i),()=>{Fp.delete(i),n.unobserve(i)}}const nN={some:0,all:1};class iN extends ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:a="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:nN[a]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(h)};return eN(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(sN(t,e))&&this.startObserver()}unmount(){}}function sN({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const aN={inView:{Feature:iN},tap:{Feature:QP},focus:{Feature:WP},hover:{Feature:KP}},rN={layout:{ProjectionNode:rE,MeasureLayout:Zw}},oN={...$O,...aN,...YP,...rN},Jt=oO(oN,AO);function jm({data:i,label:t}){const{modalState:e,toggleModalState:n}=sa(),{themeState:a}=KS();function o(u){n(e),sa.setState({modalData:u})}const l=(u="")=>u.replace(/\b([a-zA-Z]+(?:'s)?)\b/g,h=>{const f=h.toLowerCase();if(f==="npdl"||f==="pdl"||f==="non"||f==="prof"||f==="mv")return f.toUpperCase();if(["or","in","and","of","to","from"].includes(f))return f;if(f.endsWith("'s")){const p=f.slice(0,-2);return p.charAt(0).toUpperCase()+p.slice(1)+"'s"}return f.charAt(0).toUpperCase()+f.slice(1)});return F.jsx(Jt.div,{initial:{scale:0,opacity:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},onClick:()=>o(i),className:`flex items-center justify-center cursor-pointer active:scale-[1.005] w-full h-[7rem] rounded-md dark:text-amber-500 text-white dark:bg-[#2e2929] dark:hover:bg-[#352f2f] bg-[#0037af] hover:bg-[#0640bd] font-semibold p-5 leading-none ${a&&"dark"} transition-colors duration-300`,children:F.jsx("span",{className:"text-[1.2rem] text-center text-ellipsis line-clamp-4",children:l(t)})})}const lN="/landing-page/assets/1-DP9LTifY.avif",cN="/landing-page/assets/2-BDNuNyJg.avif",uN="/landing-page/assets/3-CvUp26SI.avif",hN="/landing-page/assets/4-CZ_gB13g.avif",dN="/landing-page/assets/1-DGeEjTwh.avif",fN="/landing-page/assets/2-CFwpLq7B.avif",pN="/landing-page/assets/3-CtSVYy2X.avif",mN="/landing-page/assets/4-DtPjjgNX.avif",gN="/landing-page/assets/5-DxnClHcm.avif",yN="/landing-page/assets/6-jkQnL7fC.avif",vN="/landing-page/assets/7-4FkUqZJK.avif",bN="/landing-page/assets/8-COYXigm_.avif",AN="/landing-page/assets/9-C-uOkGLY.avif",SN="/landing-page/assets/10-Dh-IRgjg.avif",wN="/landing-page/assets/11-C_f6A2aE.avif",EN="/landing-page/assets/12-Bsn4XQ19.avif",xN="/landing-page/assets/13-BiFZ_lq6.avif",TN="/landing-page/assets/14-C04gpe_S.avif",CN="/landing-page/assets/15-DDihMnPA.avif",_N="/landing-page/assets/16-Dhx6zK3R.avif",RN="/landing-page/assets/17-MZxAms1B.avif",MN="/landing-page/assets/18-CvgWssOe.avif",DN="/landing-page/assets/19-BZVZeXR_.avif",LN="/landing-page/assets/20-BaZz6_C3.avif",ON="/landing-page/assets/21-B0nNkfep.avif",PN="/landing-page/assets/22-CXMH4DJN.avif",NN="/landing-page/assets/23-B-dEg9dX.avif",kN="/landing-page/assets/24-DybD4f6R.avif",BN="/landing-page/assets/25-FCgIDQMX.avif",FN="/landing-page/assets/26-PiN-CttA.avif",IN="/landing-page/assets/27-COwXGrsk.avif",jN="/landing-page/assets/28-CxwWSMQy.avif",UN="/landing-page/assets/29-BZ_H_gVj.avif",VN="/landing-page/assets/30-3UrIs4NO.avif",HN="/landing-page/assets/31-DX7mGkGK.avif",zN="/landing-page/assets/32-AZs_lpFy.avif",GN="/landing-page/assets/33-rpZOJk4K.avif",$N="/landing-page/assets/34-C7XvOOrC.avif",qN="/landing-page/assets/35-BlZEzvSP.avif",XN="/landing-page/assets/36-DL2vfxLN.avif",YN="/landing-page/assets/37-D_QjBwoc.avif",KN="/landing-page/assets/1-BF0fE2w5.avif",WN="/landing-page/assets/2-jA2py0zG.avif",QN="/landing-page/assets/3-D-WKOoTB.avif",ZN="/landing-page/assets/4-DhTfasfz.avif",JN="/landing-page/assets/5-CxWMkwu5.avif",tk="/landing-page/assets/6-BNUss3Rh.avif",ek="/landing-page/assets/7-CZbtC_er.avif",nk="/landing-page/assets/8-DMX9jAIk.avif",ik="/landing-page/assets/9-AEB60VhH.avif",sk="/landing-page/assets/10-Cg8lDpsD.avif",ak="/landing-page/assets/11-B16hvZP9.avif",rk="/landing-page/assets/12-yHfKx6yi.avif",ok="/landing-page/assets/13-Bejh6ITV.avif",lk="/landing-page/assets/14-B33CjzLQ.avif",ck="/landing-page/assets/15-DfyqrV_0.avif",uk="/landing-page/assets/16-CBpUt-EG.avif",hk="/landing-page/assets/17-Cib8ZCTT.avif",dk="/landing-page/assets/18-BvRTqaxR.avif",fk="/landing-page/assets/19-BuLeyyNP.avif",pk="/landing-page/assets/20-z3QD4D9j.avif",mk="/landing-page/assets/21-CUoPBNUn.avif",gk="/landing-page/assets/22-B6A6fZti.avif",yk="/landing-page/assets/1-BjcfIEr7.png",vk="/landing-page/assets/2-CbcySHHV.png",bk="/landing-page/assets/3-D4bpO8_D.png",Ak="/landing-page/assets/4-Dyog-i5F.png",Sk="/landing-page/assets/5-O9nCfq0G.png",wk="/landing-page/assets/6-DLaKlX-u.png",Ek="/landing-page/assets/7-BK9_K0Ll.png",xk="/landing-page/assets/8-B3pVK9fD.png",Tk="/landing-page/assets/9-GtwrYc-9.png",Ck="/landing-page/assets/10-DJlNirax.png",_k="/landing-page/assets/11-ohAS5004.png",Rk="/landing-page/assets/12-BfMIDwen.png",Mk="/landing-page/assets/1-DT5hlMlq.webp",Dk="/landing-page/assets/2-DwQ5KH3G.webp",Lk="/landing-page/assets/3-BcilBAWQ.webp",Ok="/landing-page/assets/4-3r3D-6Sa.webp",Pk="/landing-page/assets/5-DR925-Ou.webp",Nk="/landing-page/assets/6-D2Vil_0H.webp",kk="/landing-page/assets/7-D9YfEjWc.webp",Bk="/landing-page/assets/8-DpaE3HAM.webp",Fk="/landing-page/assets/9-BjIiXSpn.webp",Ik="/landing-page/assets/10-DgFseseo.webp",jk="/landing-page/assets/11-BgCUCy39.webp",Uk="/landing-page/assets/12-bc45_K3H.webp",Vk="/landing-page/assets/13-qM6VUH4h.webp",Hk="/landing-page/assets/14-DguQgms2.webp",zk="/landing-page/assets/15-bNfJ8O9K.webp",Gk="/landing-page/assets/16-BwVgfM-_.webp",$k="/landing-page/assets/17-BoAMP6wS.webp",qk="/landing-page/assets/18-Bt8fAsNt.webp",Xk="/landing-page/assets/19-CFUNII0Q.webp",Yk="/landing-page/assets/20-Bx3MZavu.webp",Kk="/landing-page/assets/21-WOcQI29t.webp",Wk="/landing-page/assets/22-8VVkLI3N.webp",Qk="/landing-page/assets/23-BUe5mU1R.webp",Zk="/landing-page/assets/24-DkGBDEg6.webp",Jk="/landing-page/assets/25-AisOa8KW.webp",tB=[{label:"Mandate",data:lN},{label:"Mission",data:uN},{label:"Vision",data:cN},{label:"Service Pledge",data:hN}],eB=[{label:"Sales reporting and initial registration of motor vehicles",data:dN},{label:"RENEWAL OF MOTOR VEHICLE (MV) REGISTRATION",data:fN},{label:"For hire",data:pN},{label:"Reactivation of Storage",data:mN},{label:"Formula / Schedule of Fees",data:gN},{label:"Formula / Schedule of Fees",data:yN},{label:"Formula / Schedule of Fees",data:vN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - TRANSFER OF OWNERSHIP",data:bN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - TRANSFER OF OWNERSHIP",data:AN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - TRANSFER OF OWNERSHIP",data:SN},{label:"Motor Vehicles acquired through a Sheriffs Certificate of Sale issued under an Extra-Judicial Foreclosure Sale",data:wN},{label:"Motor Vehicles acquired through a Sheriffs Certificate of Sale through a Judicial Foreclosure Sale",data:EN},{label:"Motor Vehicles acquired through Sheriffs Certificate of Sale Pursuant to a Money Judgment which has become final and executory",data:xN},{label:"Private Motor Vehicles / Motor Cycles",data:TN},{label:"Motor Vehicles acquired through public bidding conducted by government office/entity",data:CN},{label:"Motor Vehicles acquired at public auction before a notary public by virtue of a mechanics lien",data:_N},{label:"Motor Vehicles acquired through Extra-Judicial Settlement of Estate of Deceased Person",data:RN},{label:"Motor Vehicles acquired through Judicial Settlement of Estate of Deceased Person",data:MN},{label:"Motor Vehicles acquired through Public Bidding conducted by Land Transportation Office under Presidential Decree No. 1729",data:DN},{label:"Government -owned vehicles to another government office",data:LN},{label:"Miscellaneous Registration Transactions - Annotation of Mortgage and other liens or Encumbrances",data:ON},{label:"Miscellaneous Registration Transactions - Annotation of Mortgage and other liens or Encumbrances",data:PN},{label:"Cancellation of Mortgage when the financing company (mortgagee) no longer exists and the release Mortgage Contract is missing",data:NN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - CHANGE CLASSIFICATION",data:kN},{label:"For Hire to Private",data:BN},{label:"Private to Government",data:FN},{label:"Private to Government",data:IN},{label:"Government to Private",data:jN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - CHANGE BODY/BODY DESIGN/ENGINE/COLOR",data:UN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - CHANGE BODY/BODY DESIGN/ENGINE/COLOR",data:VN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - CHANGE BODY/BODY DESIGN/ENGINE/COLOR",data:HN},{label:"MISCELLANEOUS REGISTRATION TRANSACTIONS - DUPLICATE CERTIFICATE OF REGISTRATION / CERTIFICATE OF REGISTRATION - ENCUMBERED",data:zN},{label:"MOTOR VEHICLE INSPECTION",data:GN},{label:"STORAGE OF MOTOR VEHICLE",data:$N},{label:"REQUEST FOR MOTOR VEHICLE VERIFICATION",data:qN},{label:"REQUEST FOR DATA TAKE-ON (thru email)",data:XN},{label:"REQUEST FOR DATA TAKE-ON (thru email)",data:YN}],nB=[{label:"Student driver's permit",data:KN},{label:"New driver's license (non prof)",data:WN},{label:"Renewal of student permit",data:QN},{label:"Conductor's license",data:ZN},{label:"Renewal of driver's license",data:JN},{label:"Renewal of driver's license of filipinos living/working abroad",data:tk},{label:"Revision of records (change name)",data:ek},{label:"Revision of records (correction of name/birthdate/gender)",data:nk},{label:"Revision of records (change civil status)",data:ik},{label:"Revision of records (change in citizenship)",data:sk},{label:"Revision of records (change address)",data:ak},{label:"Duplicate driver's/conductor's license with examination [Expired for more than two (2) years)] And/Or with ten (10) or more but less than forty (40) demerit points",data:rk},{label:"Duplicate driver's/conductor's license/student driver's permit",data:ok},{label:"Additional driver's license code/s",data:lk},{label:"Change classification from npdl to pdl with same driver's license code",data:ck},{label:"Conversion of foreign driver's license to philippine driver's license (valid foreign drivers license and renewal of expired Philippine drivers license with a valid foreign drivers license)",data:uk},{label:"Conversion of foreign driver's license to philippine driver's license (expired foreign drivers license and/or from countries operating right hand drive vehicles)",data:hk},{label:"Change classification from pdl to npdl code (Change clutch type, dropping of dl code/s and/or updating of driving condition/s dropping of codes and/or updating driving condition)",data:dk},{label:"Enhancement of driver's license",data:fk},{label:"License history",data:pk},{label:"License certification",data:mk},{label:"Valid government issued identification card",data:gk}],iB=[{2024:[{image:Mk},{image:Dk},{image:Lk},{image:Ok},{image:Pk},{image:Nk},{image:kk},{image:Bk},{image:Fk},{image:Ik},{image:jk},{image:Uk},{image:Vk},{image:Hk},{image:zk},{image:Gk},{image:$k},{image:qk},{image:Xk},{image:Yk},{image:Kk},{image:Wk},{image:Qk},{image:Zk},{image:Jk}]},{2025:[{image:yk},{image:vk},{image:bk},{image:Ak},{image:Sk},{image:wk},{image:Ek},{image:xk},{image:Tk},{image:Ck},{image:_k},{image:Rk}]}];function sB(){const{toggleTabState:i}=Ui();return F.jsx(F.Fragment,{children:F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"agency-details","data-value":1,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:justify-center w-full h-full gap-[2rem] lg:gap-[3rem] overflow-auto p-[4rem] no-scrollbar",children:[F.jsxs(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"flex flex-col items-center justify-center leading-none w-full",children:[F.jsx("span",{className:"text-white uppercase font-bold text-[6rem]",children:"Agency"}),F.jsx("span",{className:"text-white uppercase font-bold text-[6rem]",children:"Details"})]}),F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 w-full",children:tB.map((t,e)=>F.jsx(jm,{data:t?.data,label:t?.label},e))})]})})})}function aB(){const{toggleTabState:i}=Ui();return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"registration","data-value":2,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsxs("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:[F.jsx(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"flex flex-col items-start justify-center leading-none",children:F.jsx("span",{className:"text-white uppercase font-bold text-[3rem] lg:text-[6rem]",children:"Registration"})}),F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-10 w-full",children:eB.map((t,e)=>F.jsx(jm,{data:t?.data,label:t?.label},e))})]})})}function rB(){const{toggleTabState:i}=Ui();return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"license","data-value":3,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsxs("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:[F.jsx(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"flex flex-col items-start justify-center leading-none",children:F.jsx("span",{className:"text-white uppercase font-bold text-[3rem] lg:text-[6rem]",children:"License"})}),F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-10 w-full",children:nB.map((t,e)=>F.jsx(jm,{data:t?.data,label:t?.label},e))})]})})}const oB="/landing-page/assets/lto-drJ5Yfa-.png",lB="/landing-page/assets/dotr-CcX3ugAi.png",cB="/landing-page/assets/bagong-pilipinas-f09K3HTK.png",oE="/landing-page/assets/bg-6UZBS06_.jfif";function uB(){const{toggleTabState:i}=Ui();return F.jsxs(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"lto-bayombong","data-value":0,className:"flex flex-col snap-start snap-always lg:items-center lg:justify-center md:items-center md:justify-center w-full lg:h-[calc(100vh-2.8rem)] md:h-[calc(100vh-2.8rem)] overflow-hidden gap-8 relative bg-[#5e5a5a]",children:[F.jsxs("div",{className:"flex flex-col lg:flex-row md:flex-row items-center justify-center w-full gap-[1rem] lg:gap-[3rem] md:gap-[3rem]",children:[F.jsx(Jt.img,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},src:cB,className:"w-[8rem] lg:w-[14rem] md:w-[10rem] z-10",alt:"LTO"}),F.jsx(Jt.img,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},src:lB,className:"w-[8rem] lg:w-[14rem] md:w-[10rem] z-10",alt:"LTO"}),F.jsx(Jt.img,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},src:oB,className:"w-[8rem] lg:w-[14rem] md:w-[10rem] z-10",alt:"LTO"})]}),F.jsxs("div",{className:"flex flex-col justify-center items-center text-center leading-none z-10",children:[F.jsx(Jt.span,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"uppercase font-bold lg:text-[4.5rem] md:text-[2rem] text-white",children:"Land Transportation Office"}),F.jsx(Jt.span,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"uppercase font-bold lg:text-[4.5rem] md:text-[2rem] text-white",children:"Bayombong District Office"})]}),F.jsx("img",{src:oE,className:"w-full absolute opacity-50 mask-b-from-10% mask-b-to-100%",alt:"LTO"})]})}function hB(){const{modalState:i,modalData:t,toggleModalState:e}=sa();return i?F.jsxs(Jt.div,{initial:{opacity:0},whileInView:{opacity:1},className:"flex flex-col lg:flex-row gap-5 items-center justify-center bg-[#00000072] fixed z-50 w-screen h-screen",children:[F.jsxs(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"bg-[#1f1c1c] min-w-[20rem] min-h-[10rem] rounded-md p-1 relative",children:[F.jsx("img",{src:t,className:"w-[60rem] rounded-md",alt:"."}),F.jsx(cp,{onClick:()=>e(i),className:"text-4xl text-white absolute lg:-right-10 lg:-top-10 cursor-pointer invisible lg:visible"})]}),F.jsx(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},children:F.jsx(cp,{onClick:()=>e(i),className:"text-4xl text-white lg:-right-10 lg:-top-10 cursor-pointer visible lg:invisible"})})]}):null}function dB({children:i}){const{indexState:t,toggleIndexState:e}=sa();return t?F.jsx(Jt.div,{initial:{opacity:0},whileInView:{opacity:1},className:"flex flex-col lg:flex-row gap-5 items-center justify-center bg-[#00000072] fixed z-50 w-screen h-screen",children:F.jsxs(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"flex items-center justify-center bg-[#1f1c1c] min-w-[20rem] min-h-[10rem] rounded-md relative",children:[F.jsx("div",{className:"w-screen h-screen overflow-auto p-4 no-scrollbar",children:i}),F.jsx(cp,{onClick:()=>e(t),className:"text-4xl text-white top-2 right-2 absolute cursor-pointer"})]})}):null}function fB(i){return Vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"},child:[]}]})(i)}function pB(i){return Vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"},child:[]}]})(i)}function mB(i){return Vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(i)}function gB(i){return Vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(i)}function yB(){const{toggleTabState:i}=Ui();return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"about","data-value":7,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsx("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:F.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center w-full text-white gap-4",children:[F.jsx("img",{src:oE,alt:"",className:"w-full lg:w-[36.4rem] rounded-md"}),F.jsxs("div",{className:"flex flex-col w-full h-[34rem] gap-4 overflow-auto no-scrollbar",children:[F.jsxs("div",{className:"flex flex-col gap-4",children:[F.jsx("span",{className:"uppercase text-[3rem] font-bold leading-7",children:"PREFACE"}),F.jsxs("div",{className:"flex flex-col w-full h-full gap-4",children:[F.jsx("span",{className:"text-justify indent-[3rem]",children:"In the province of Nueva Vizcaya lies the festive and vibrant town of Bayombong. Vizcayas capital surrounded by various cultural establishments and lush green mountains; neighboring rice fields filled with crops that represent Bayombong. The name Bayombong spring from the Gaddang (one of the local languages) word Bayongyong which means the confluence of two mighty rivers. As told, the Tribe of Maalate tried to conquer the place, which caused the outbreak of the first tribal war in the area. The place then was renamed Bayumbung as a sign of the Gaddangs first victory in defending their private domains."}),F.jsx("span",{className:"text-justify indent-[3rem]",children:"LTO Bayombong District Office caters the registration and licensing needs of the demographic landscapes of the municipalities of Bayombong, Bagabag, Diadi, Villaverde, Solano, Ambaguio and Quezon."}),F.jsx("span",{className:"text-justify indent-[3rem]",children:"Adjudged as the 2nd placer Outstanding District Office for CY 2023 and a special award for Road Safety Advocates National Level on 18 April 2024, for attaining a high rating in the performance of projects and improvements introduced in relation with LTOs mandates which resulted to the enhancement of service efficiency and realization of goals in upholding road safety, environmentally sustainable transport and good governance."}),F.jsx("span",{className:"text-justify indent-[3rem]",children:"As illustrated in the statistical graph, the core transactional mandates of the office revealed increase in every record penned in 2024. Registration of motor vehicle rocketed by 6.68 % with 48,763 total number of registered motor vehicles compared to the 45,711 of 2023. Meanwhile, on the Drivers License, it has risen up to 16.7 % with 32,767 total number of issued DL as against the 2023 volume of 28,057. Law enforcement as well escalated by 11.32% with 6,745 apprehension cases compared to the 6,059 recorded in 2023, as a result of solicited efforts in information dissemination, conduct of Road Safety Lectures and Free Theoretical Driving Course, Oplan Balik Rehistro/Lisensya , Household surveys in every barangay within our GAOR."}),F.jsx("span",{className:"text-justify indent-[3rem]",children:"LTO Bayombong District Office will always be and will consistently and continuously shine with excellence in every aspect of its service delivery. Bringing out the full potential and the best in every personnel in the performance, discharge and execution of the core mandates of the LTO. With its dedication in advocating Road Safety, we will persevere and pursue to make safer roads, safer vehicles and safer road users."})]})]}),F.jsx("div",{className:"flex flex-col w-full h-full",children:F.jsxs("div",{className:"flex flex-col gap-4",children:[F.jsx("span",{className:"uppercase text-[3rem] font-semibold",children:"Contact Us"}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsxs("div",{className:"flex items-center gap-2 text-[1.2rem]",children:[F.jsx(mB,{}),F.jsx("span",{className:"",children:"Capitol Compound, Bayombong, Nueva Vizcaya"})]}),F.jsxs("div",{className:"flex items-center gap-2 text-[1.2rem]",children:[F.jsx(y2,{}),F.jsx("span",{className:"",children:"ltobaydo@gmail.com"})]}),F.jsxs("div",{className:"flex items-center gap-2 text-[1.2rem]",children:[F.jsx(gB,{}),F.jsx("span",{className:"",children:"(078) 392 0936"})]})]})]})})]})]})})})}function vB(){const{toggleTabState:i}=Ui(),{indexState:t,toggleIndexState:e}=sa(),n=iB.filter(o=>Object.values(o)[0].length>0),a=o=>{e(t),sa.setState({indexModalData:o})};return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:o=>i(parseInt(o.target.dataset.value)),id:"our-activities","data-value":5,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsxs("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:[F.jsx(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},className:"flex flex-col items-start justify-center leading-none",children:F.jsx("span",{className:"text-white uppercase font-bold text-[3rem] lg:text-[6rem]",children:"Our Activities"})}),F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-10 w-full",children:n.map((o,l)=>{const[u,h]=Object.entries(o)[0];return F.jsx(Jt.div,{initial:{scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.4,scale:{type:"spring",visualDuration:.4,bounce:.3}},onClick:()=>a(h),className:"overflow-hidden rounded-md cursor-pointer",children:F.jsxs("div",{className:"relative group",children:[F.jsx("div",{className:"absolute flex items-center justify-center h-[2rem] bg-white opacity-60 w-full",children:F.jsx("span",{className:"font-semibold",children:u.toUpperCase()})}),F.jsx("img",{src:h[0].image,alt:`${u} thumbnail`,className:"w-full"}),F.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-30 transition-all duration-300"})]})},l)})})]})})}function bB(){const{indexModalData:i}=sa();return F.jsx(dB,{children:F.jsx("div",{className:"grid grid-cols-4 gap-4 w-full",children:i?.map((t,e)=>F.jsx("div",{className:"rounded-md overflow-hidden",children:F.jsx("img",{src:t.image,alt:"",className:""})},e))})})}const Xe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ip=[.001,0,0,.001,0,0],Wf=1.35,yn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},si={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},al="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},lE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ko={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sl={ERRORS:0,WARNINGS:1,INFOS:5},vr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zc={moveTo:0,lineTo:1,curveTo:2,closePath:3},cE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ku=Sl.WARNINGS;function AB(i){Number.isInteger(i)&&(Ku=i)}function SB(){return Ku}function Wu(i){Ku>=Sl.INFOS&&console.info(`Info: ${i}`)}function wt(i){Ku>=Sl.WARNINGS&&console.warn(`Warning: ${i}`)}function Yt(i){throw new Error(i)}function Ot(i,t){i||Yt(t)}function wB(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Um(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=_B(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return wB(n)?n:null}function Vm(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&Um(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function xt(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const ha=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class qA extends ha{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Qf extends ha{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class _u extends ha{constructor(t){super(t,"InvalidPDFException")}}class rl extends ha{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class EB extends ha{constructor(t){super(t,"FormatError")}}class Fi extends ha{constructor(t){super(t,"AbortException")}}function uE(i){(typeof i!="object"||i?.length===void 0)&&Yt("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),l=i.subarray(a,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function wl(i){typeof i!="string"&&Yt("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function xB(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function TB(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function CB(){try{return new Function(""),!0}catch{return!1}}class Le{static get isLittleEndian(){return xt(this,"isLittleEndian",TB())}static get isEvalSupported(){return xt(this,"isEvalSupported",CB())}static get isOffscreenCanvasSupported(){return xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return xt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return xt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return xt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Zf=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class at{static makeHexColor(t,e,n){return`#${Zf[t]}${Zf[e]}${Zf[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const a=t[n],o=t[n+1];t[n]=a*e[0]+o*e[2]+e[4],t[n+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const a=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],v=t[n+p+1];t[n+p]=g*a+v*l+h,t[n+p+1]=g*o+v*u+f}}static applyInverseTransform(t,e){const n=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const a=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],p=t[0],g=t[1],v=t[2],b=t[3];let S=a*p+h,A=S,E=a*v+h,w=E,T=u*g+f,C=T,D=u*b+f,M=D;if(o!==0||l!==0){const P=o*p,k=o*v,I=l*g,$=l*b;S+=I,w+=I,E+=$,A+=$,T+=P,M+=P,D+=k,C+=k}n[0]=Math.min(n[0],S,E,A,w),n[1]=Math.min(n[1],T,D,C,M),n[2]=Math.max(n[2],S,E,A,w),n[3]=Math.max(n[3],T,D,C,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],a=t[1],o=t[2],l=t[3],u=n**2+a**2,h=n*o+a*l,f=o**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-h**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,a,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,a,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,a)}static#t(t,e,n,a,o,l,u,h,f,p){if(f<=0||f>=1)return;const g=1-f,v=f*f,b=v*f,S=g*(g*(g*t+3*f*e)+3*v*n)+b*a,A=g*(g*(g*o+3*f*l)+3*v*u)+b*h;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],A)}static#e(t,e,n,a,o,l,u,h,f,p,g,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,a,o,l,u,h,-g/p,v);return}const b=p**2-4*g*f;if(b<0)return;const S=Math.sqrt(b),A=2*f;this.#t(t,e,n,a,o,l,u,h,(-p+S)/A,v),this.#t(t,e,n,a,o,l,u,h,(-p-S)/A,v)}static bezierBoundingBox(t,e,n,a,o,l,u,h,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,h),this.#e(t,n,o,u,e,a,l,h,3*(-t+3*(n-o)+u),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,u,e,a,l,h,3*(-e+3*(a-l)+h),6*(e-2*a+l),3*(a-e),f)}}function _B(i){return decodeURIComponent(escape(i))}let Jf=null,XA=null;function hE(i){return Jf||(Jf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,XA=new Map([["","t"]])),i.replaceAll(Jf,(t,e,n)=>e?e.normalize("NFKC"):XA.get(n))}function Hm(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),uE(i)}const zm="pdfjs_internal_id_";function RB(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,a,...o]=e;if(!i(n)&&!Number.isInteger(n)||!t(a))return!1;const l=o.length;let u=!0;switch(a.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function He(i,t,e){return Math.min(Math.max(i,t),e)}function dE(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(uE(i))}function MB(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):wl(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});class ol{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function a(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(ol.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const h of o.children)a(h)}return a(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Gm{static setupStorage(t,e,n,a,o){const l=a.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:a,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${a}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,a=t.xfaHtml,o=t.intent||"display",l=document.createElement(a.name);a.attributes&&this.setAttributes({html:l,element:a,intent:o,linkService:n});const u=o!=="richText",h=t.div;if(h.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=g}u&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);l.append(g),u&&ol.shouldBuildText(a.name)&&f.push(g)}return{textDivs:f}}const p=[[a,-1,l]];for(;p.length>0;){const[g,v,b]=p.at(-1);if(v+1===g.children.length){p.pop();continue}const S=g.children[++p.at(-1)[1]];if(S===null)continue;const{name:A}=S;if(A==="#text"){const w=document.createTextNode(S.value);f.push(w),b.append(w);continue}const E=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,A):document.createElement(A);if(b.append(E),S.attributes&&this.setAttributes({html:E,element:S,storage:e,intent:o,linkService:n}),S.children?.length>0)p.push([S,-1,E]);else if(S.value){const w=document.createTextNode(S.value);u&&ol.shouldBuildText(A)&&f.push(w),E.append(w)}}for(const g of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Ri="http://www.w3.org/2000/svg";class ra{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Cr(i,t="text"){if(Io(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class El{constructor({viewBox:t,userUnit:e,scale:n,rotation:a,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=a,this.offsetX=o,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,v,b;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,g=0,v=0,b=1;break;case 90:p=0,g=1,v=1,b=0;break;case 270:p=0,g=-1,v=-1,b=0;break;case 0:p=1,g=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let S,A,E,w;p===0?(S=Math.abs(f-t[1])*n+o,A=Math.abs(h-t[0])*n+l,E=(t[3]-t[1])*n,w=(t[2]-t[0])*n):(S=Math.abs(h-t[0])*n+o,A=Math.abs(f-t[1])*n+l,E=(t[2]-t[0])*n,w=(t[3]-t[1])*n),this.transform=[p*n,g*n,v*n,b*n,S-p*n*h-v*n*f,A-g*n*h-b*n*f],this.width=E,this.height=w}get rawDims(){const t=this.viewBox;return xt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new El({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return at.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];at.applyTransform(e,this.transform);const n=[t[2],t[3]];return at.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return at.applyInverseTransform(n,this.transform),n}}class Qu extends ha{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function xl(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Zu(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function fE(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function pE(i,t="document.pdf"){if(typeof i!="string")return t;if(xl(i))return wt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const a=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return a(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return a(f);const h=Array.from(n.searchParams.keys()).reverse();for(const f of h)if(o.test(f))return a(f)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return a(h[0])}return t}class YA{started=Object.create(null);times=[];time(t){t in this.started&&wt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||wt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:a,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-a}ms
`);return t.join("")}}function Io(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function An(i){i.preventDefault()}function ie(i){i.preventDefault(),i.stopPropagation()}function DB(i){console.log("Deprecated API usage: "+i)}class Ru{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(n,a,o,l,u,h))}}function mE(i,{scale:t=1,rotation:e=0}){const{width:n,height:a}=i.attributes.style,o=[0,0,parseInt(n),parseInt(a)];return new El({viewBox:o,userUnit:1,scale:t,rotation:e})}function _r(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(wt(`Not a valid color format: "${i}"`),[0,0,0])}function LB(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,_r(n))}t.remove()}function ne(i){const{a:t,b:e,c:n,d:a,e:o,f:l}=i.getTransform();return[t,e,n,a,o,l]}function Zn(i){const{a:t,b:e,c:n,d:a,e:o,f:l}=i.getTransform().invertSelf();return[t,e,n,a,o,l]}function Ss(i,t,e=!1,n=!0){if(t instanceof El){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:l}=i,u=Le.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class Gn{constructor(){const{pixelRatio:t}=Gn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,a,o=-1){let l=1/0,u=1/0,h=1/0;n=Gn.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),a!==-1&&(u=a/t,h=a/e);const f=Math.min(l,u,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Mu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class OB{static get isDarkMode(){return xt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class gE{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),xt(this,"commentForegroundColor",_r(n))}}function yE(i,t,e,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return i=Math.round(i*n+a),t=Math.round(t*n+a),e=Math.round(e*n+a),[i,t,e]}function KA(i,t){const e=i[0]/255,n=i[1]/255,a=i[2]/255,o=Math.max(e,n,a),l=Math.min(e,n,a),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const h=o-l;switch(t[1]=u<.5?h/(o+l):h/(2-o-l),o){case e:t[0]=((n-a)/h+(n<a?6:0))*60;break;case n:t[0]=((a-e)/h+2)*60;break;case a:t[0]=((e-n)/h+4)*60;break}}t[2]=u}function jp(i,t){const e=i[0],n=i[1],a=i[2],o=(1-Math.abs(2*a-1))*n,l=o*(1-Math.abs(e/60%2-1)),u=a-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function WA(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function QA(i,t,e){jp(i,e),e.map(WA);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];jp(t,e),e.map(WA);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const ZA=new Map;function vE(i,t){const e=i[0]+i[1]*256+i[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=ZA.get(e);if(n)return n;const a=new Float32Array(9),o=a.subarray(0,3),l=a.subarray(3,6);KA(i,l);const u=a.subarray(6,9);KA(t,u);const h=u[2]<.5,f=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),QA(l,u,o)<f){let p,g;h?(p=l[2],g=1):(p=0,g=l[2]);const v=.005;for(;g-p>v;){const b=l[2]=(p+g)/2;h===QA(l,u,o)<f?p=b:g=b}l[2]=h?g:p}return jp(l,o),n=at.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),ZA.set(e,n),n}function $m({html:i,dir:t,className:e},n){const a=document.createDocumentFragment();if(typeof i=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=i.split(/(?:\r\n?|\n)/);for(let u=0,h=l.length;u<h;++u){const f=l[u];o.append(document.createTextNode(f)),u<h-1&&o.append(document.createElement("br"))}a.append(o)}else Gm.render({xfaHtml:i,div:a,intent:"richText"});a.firstChild.classList.add("richText",e),n.append(a)}class Wo{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,Wo.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",An,{signal:e}),t.addEventListener("pointerdown",Wo.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const a=this.#i.toolbarPosition;if(a){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ie(t)}#h(t){this.#i._focusEventsAllowed=!0,ie(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",An,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Wo.#c[t]),this.#f(n)&&n.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const a=this.#a=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(a,e)):this.#n.append(n,a),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const a=this.#n.querySelector(n);a&&t==="comment"&&this.addComment(e,a)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class PB{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",An,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let n=0,a=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const u=o.x+(e?o.width:0);if(l>n){a=u,n=l;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,n]}show(t,e,n){const[a,o]=this.#r(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*a}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,a){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",An,{signal:u}),o.addEventListener("click",a,{signal:u})),this.#t.append(o)}}function bE(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class NB{#t=0;get id(){return`${al}${this.#t++}`}}class qm{#t=Hm();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return xt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(n.url=e,a=await Cr(e,"blob")):e instanceof File?a=n.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=qm._isSVGFittingCanvas,l=new FileReader,u=new Image,h=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;u.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(a),await h}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){wt(a),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:a,type:o}=t;return this.#n(`${e}_${n}_${a}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=a.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class kB{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:a,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(a&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===o){u&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Tl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Le.platform;for(const[n,a,o={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:a,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(a.bind(t,...l,e)(),o||ie(e))}}class Xm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return LB(t),xt(this,"_colors",t)}convert(t){const e=_r(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,a]of this._colors)if(a.every((o,l)=>o===e[l]))return Xm._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?at.makeHexColor(...e):t}}class Ii{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new kB;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#T=null;#E=null;#A=null;#_=null;#w=!1;#x=null;#D=new NB;#R=!1;#M=!1;#F=!1;#O=null;#N=null;#I=null;#k=null;#G=null;#C=St.NONE;#S=new Set;#P=null;#j=null;#V=null;#X=null;#q=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#B=null;#$=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ii.prototype,e=l=>l.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return xt(this,"_keyboardManager",new Tl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#$.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,a,o,l,u,h,f,p,g,v,b,S,A,E){const w=this._signal=this.#t.signal;this.#$=t,this.#Z=e,this.#J=n,this.#s=a,this.#l=o,this.#j=l,this.#q=h,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:w}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),u._on("setpreference",this.onSetPreference.bind(this),{signal:w}),u._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:w}),this.#lt(),this.#dt(),this.#et(),this.#a=h.annotationStorage,this.#T=h.filterFactory,this.#V=f,this.#_=p||null,this.#y=g,this.#b=v,this.#v=b,this.#G=S||null,this.viewParameters={realScale:ra.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1,o?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#m.clear(),this.#k?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#j?.destroy(),this.#x?.hide(),this.#x=null,this.#I?.destroy(),this.#I=null,this.#i=null,this.#E&&(clearTimeout(this.#E),this.#E=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return xt(this,"hcmFilter",this.#V?this.#T.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return xt(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return xt(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return xt(this,"highlightColors",null);const e=new Map,n=!!this.#V;for(const[a,o]of t){const l=a.endsWith("_HCM");if(n&&l){e.set(a.replace("_HCM",""),o);continue}!n&&!l&&e.set(a,o)}return xt(this,"highlightColors",e)}get highlightColorNames(){return xt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,a){this.#l?.showDialog(this,t,e,n,a)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),a=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",a),e())};this._eventBus.on("editorsrendered",a),await n}getSignature(t){this.#j?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#j}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#$.focus()}findParent(t,e){for(const n of this.#r.values()){const{x:a,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(t>=a&&t<=a+l&&e>=o&&e<=o+u)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ra.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#r.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:u}=n,h=n.toString(),p=this.#Q(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const v=this.#tt(p),b=this.#C===St.NONE,S=()=>{const A=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:u,text:h});b&&this.showAllEditors("highlight",!0,!0),e&&A?.editComment()};if(b){this.switchToMode(St.HIGHLIGHT,S);return}S()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#x||=new PB(this),this.#x.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${al}${t}`,n=this.#a.getRawValue(e);return n&&this.#a.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#P&&(this.#x?.hide(),this.#P=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#P)return;const a=this.#Q(t).closest(".textLayer");if(!a){this.#P&&(this.#x?.hide(),this.#P=null,this.#L({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#P=e,this.#L({hasSelectedText:!0}),!(this.#C!==St.HIGHLIGHT&&this.#C!==St.NONE)&&(this.#C===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===St.HIGHLIGHT?this.#tt(a):null;if(o?.toggleDrawing(),this.#M){const l=new AbortController,u=this.combinedSignal(l),h=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else o?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===St.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#O)return;this.#O=new AbortController;const t=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#O?.abort(),this.#O=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#S){const a=n.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){wt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const h of n){const f=await a.deserialize(h);if(!f)return;o.push(f)}const l=()=>{for(const h of o)this.#st(h);this.#at(o)},u=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){wt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==St.NONE&&!this.isEditorHandlingKeyboard&&Ii._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#L(t){Object.entries(t).some(([n,a])=>this.#Y[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===St.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#z([[Dt.HIGHLIGHT_FREE,!0]]))}#z(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#L({isEditing:this.#C!==St.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#z(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,a=!1,o=!1){if(this.#C!==t&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===St.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===St.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===St.SIGNATURE&&await this.#j?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#r.values())l.updateMode(t);if(t===St.POPUP){this.#i||=await this.#q.getAnnotationsByType(new Set(this.#u.map(h=>h._editorType)));const l=new Set,u=[];for(const h of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:g}=h;f&&l.add(f),p&&!g&&u.push(h.getData())}for(const h of this.#i){const{id:f,popupRef:p,contentsObj:g}=h;p&&g?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(h)}this.#l?.showSidebar(u)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():a?l.enterInEditMode():l.focus()):l.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Dt.CREATE:this.currentLayer.addNewEditor(e);return;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(Dt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#z([[Dt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.focusMainContainer(),this.#E=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#k?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#z(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#z(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#z(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#L({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#c.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#c.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],n=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==St.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[a,o]=this.#H,l=[...this.#S],u=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(a,o),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-a,-o),h.translationDone())},mustExec:!1})},u);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:a,y:o,pageIndex:l},u]of t)u.newX=a,u.newY=o,u.newPageIndex=l,e||=a!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const n=(a,o,l,u)=>{if(this.#n.has(a.id)){const h=this.#r.get(u);h?a._setParentAndPosition(h,o,l):(a.pageIndex=u,a.x=o,a.y=l)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:l,newPageIndex:u}]of t)n(a,o,l,u)},undo:()=>{for(const[a,{savedX:o,savedY:l,savedPageIndex:u}]of t)n(a,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==St.NONE}get imageManager(){return xt(this,"imageManager",new qm)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:a,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,g,v)=>({x:(p-a)/l,y:1-(f+g-n)/o,width:v/l,height:g/o});break;case"180":u=(f,p,g,v)=>({x:1-(f+g-n)/o,y:1-(p+v-a)/l,width:g/o,height:v/l});break;case"270":u=(f,p,g,v)=>({x:1-(p+v-a)/l,y:(f-n)/o,width:v/l,height:g/o});break;default:u=(f,p,g,v)=>({x:(f-n)/o,y:(p-a)/l,width:g/o,height:v/l});break}const h=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:v,y:b,width:S,height:A}of g.getClientRects())S===0||A===0||h.push(u(v,b,S,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#a.getRawValue(e);n&&(this.#C===St.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const a=this.#k?.get(t);a&&(a.setCanvas(e,n),this.#k.delete(t))}addMissingCanvas(t,e){(this.#k||=new Map).set(t,e)}}class ni{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,ni.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ni._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",ni.#f.missing),e.setAttribute("data-l10n-id",ni.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",An,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",a,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#a=!0,a(o))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await ni._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:a,cancel:o=!1}){n&&(this.#l=n,this.#d=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ni.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ni.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const a=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Jc{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(n.backgroundColor=a)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:a,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-a)/l,(e+n-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",An,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ie(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ie(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",a,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,a(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,a;if(e)[n,a]=e;else{[n,a]=this.#n.commentButtonPosition;const{width:p,height:g,x:v,y:b}=this.#n;n=v+n*p,a=b+a*g}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:h,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*h,u+a*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Cl{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=n,this.#n=e,this.#r=a,this.#s=o,this.#a=l,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Gn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#c,a.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ie(f),h(f))},u),l.addEventListener("pointerup",h,u),l.addEventListener("pointercancel",h,u);return}if(!this.#h){this.#h=new AbortController;const a=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#p.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",ie,l),o.addEventListener("pointermove",ie,l),o.addEventListener("pointercancel",ie,l),o.addEventListener("pointerup",ie,l),this.#r?.()}if(ie(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ie(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:a,screenY:o}=e,{screenX:l,screenY:u}=n,h=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:v}=h,b=g-f,S=v-p,A=l-a,E=u-o,w=Math.hypot(A,E)||1,T=Math.hypot(b,S)||1;if(!this.#e&&Math.abs(T-w)<=Cl.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=o,h.touch1X=l,h.touch1Y=u,!this.#e){this.#e=!0;return}const C=[(a+l)/2,(o+u)/2];this.#s?.(C,T,w)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ie(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class ft{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#b=!1;#v=null;#T=0;#E=0;#A=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#x=ft._zIndex++;static _borderLineWidth=-1;static _colorManager=new Xm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ft.prototype._resizeWithKeyboard,e=Ii.TRANSLATE_SMALL,n=Ii.TRANSLATE_BIG;return xt(this,"_resizerKeyboardManager",new Tl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ft.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[o,l];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return xt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new BB({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ft._l10n??=t,ft._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ft._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Yt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,a){const[o,l]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(t+n)/o,this.y=(e+a)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,a]=this.parentDimensions;this.setAt(t*n,e*a,this.width*n,this.height*a),this._onTranslated()}#D([t,e],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[h,f]=this.getBaseTranslation();l+=h,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=ft,a=n/t,o=n/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,a]}=this;let{x:o,y:l,width:u,height:h}=this;if(u*=n,h*=a,o*=n,l*=a,this._mustFixPosition)switch(t){case 0:o=He(o,0,n-u),l=He(l,0,a-h);break;case 90:o=He(o,0,n-h),l=He(l,u,a);break;case 180:o=He(o,u,n),l=He(l,h,a);break;case 270:o=He(o,h,n),l=He(l,0,a-u);break}this.x=o/=n,this.y=l/=a;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ft.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ft.#R(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#O.bind(this,n),{signal:e}),a.addEventListener("contextmenu",An,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#c)}#O(t,e){e.preventDefault();const{isMac:n}=Le.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#k.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ie,{passive:!1,signal:l}),window.addEventListener("contextmenu",An,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#I()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,n,a){this.width=n,this.height=a,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:a}=this.#d;this.#d=null;const o=this.x,l=this.y,u=this.width,h=this.height;o===t&&l===e&&u===n&&h===a||this.addCommands({cmd:this.#N.bind(this,o,l,u,h),undo:this.#N.bind(this,t,e,n,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#k(t,e){const[n,a]=this.parentDimensions,o=this.x,l=this.y,u=this.width,h=this.height,f=ft.MIN_SIZE/n,p=ft.MIN_SIZE/a,g=this.#M(this.rotation),v=(B,V)=>[g[0]*B+g[2]*V,g[1]*B+g[3]*V],b=this.#M(360-this.rotation),S=(B,V)=>[b[0]*B+b[2]*V,b[1]*B+b[3]*V];let A,E,w=!1,T=!1;switch(t){case"topLeft":w=!0,A=(B,V)=>[0,0],E=(B,V)=>[B,V];break;case"topMiddle":A=(B,V)=>[B/2,0],E=(B,V)=>[B/2,V];break;case"topRight":w=!0,A=(B,V)=>[B,0],E=(B,V)=>[0,V];break;case"middleRight":T=!0,A=(B,V)=>[B,V/2],E=(B,V)=>[0,V/2];break;case"bottomRight":w=!0,A=(B,V)=>[B,V],E=(B,V)=>[0,0];break;case"bottomMiddle":A=(B,V)=>[B/2,V],E=(B,V)=>[B/2,0];break;case"bottomLeft":w=!0,A=(B,V)=>[0,V],E=(B,V)=>[B,0];break;case"middleLeft":T=!0,A=(B,V)=>[0,V/2],E=(B,V)=>[B,V/2];break}const C=A(u,h),D=E(u,h);let M=v(...D);const P=ft._round(o+M[0]),k=ft._round(l+M[1]);let I=1,$=1,X,J;if(e.fromKeyboard)({deltaX:X,deltaY:J}=e);else{const{screenX:B,screenY:V}=e,[Z,it]=this.#l;[X,J]=this.screenToPageTranslation(B-Z,V-it),this.#l[0]=B,this.#l[1]=V}if([X,J]=S(X/n,J/a),w){const B=Math.hypot(u,h);I=$=Math.max(Math.min(Math.hypot(D[0]-C[0]-X,D[1]-C[1]-J)/B,1/u,1/h),f/u,p/h)}else T?I=He(Math.abs(D[0]-C[0]-X),f,1)/u:$=He(Math.abs(D[1]-C[1]-J),p,1)/h;const rt=ft._round(u*I),ot=ft._round(h*$);M=v(...E(rt,ot));const nt=P-M[0],lt=k-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=rt,this.height=ot,this.x=nt,this.y=lt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Wo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(ni.initialize(ft._l10n),this.#i=new ni(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Jc(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:a}}=this.#n;return{text:e,richText:t,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Jc(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Jc(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Jc(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,a]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,h=a-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,h,f,a]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),bE(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Cl({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#M(this.rotation),u=(P,k)=>[l[0]*P+l[2]*k,l[1]*P+l[3]*k],[h,f]=this.parentDimensions,p=this.x,g=this.y,v=this.width,b=this.height,S=ft.MIN_SIZE/h,A=ft.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/b),S/v,A/b);const E=ft._round(v*o),w=ft._round(b*o);if(E===v&&w===b)return;this.#u||=[p,g,v,b];const T=u(v/2,b/2),C=ft._round(p+T[0]),D=ft._round(g+T[1]),M=u(E/2,w/2);this.x=C-M[0],this.y=D-M[1],this.width=E,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(t){const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#j(t);return}this.#P(t)}#P(t){const{isMac:e}=Le.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#j(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),l={capture:!0,passive:!1,signal:o},u=f=>{a.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#P(f),n&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#E=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:v}=f;if(v!==this.#a){ie(f);return}const[b,S]=this.screenToPageTranslation(p-this.#T,g-this.#E);this.#T=p,this.#E=g,this._uiManager.dragSelectedEditors(b,S)},l),window.addEventListener("touchmove",ie,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ie(f)},l));const h=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ie(f)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const a=this.parentScale,[o,l]=this.pageDimensions,[u,h]=this.pageTranslation,f=t/a,p=e/a,g=this.x*o,v=this.y*l,b=this.width*o,S=this.height*l;switch(n){case 0:return[g+f+u,l-v-p-S+h,g+f+b+u,l-v-p+h];case 90:return[g+p+u,l-v+f+h,g+p+S+u,l-v+f+b+h];case 180:return[g-f-b+u,l-v+p+h,g-f+u,l-v+p+S+h];case 270:return[g-p-S+u,l-v-f-b+h,g-p+u,l-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,a,o,l]=t,u=o-n,h=l-a;switch(this.rotation){case 0:return[n,e-l,u,h];case 90:return[n,e-a,h,u];case 180:return[o,e-a,u,h];case 270:return[o,e-l,h,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ft._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:a,deleted:o,richText:l},uid:u,pageIndex:h,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:a}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&a>0&&t<o&&n>0}#V(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,l]=a.pageDimensions,[u,h,f,p]=a.getRectInCurrentCoords(t.rect,l);return a.x=u/o,a.y=h/l,a.width=f/o,a.height=p/l,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,a,o,l]=this.getPDFRect();return[ft._round(n+(o-n)*t),ft._round(a+(l-a)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#q.bind(this),h=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",u,{signal:h}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",ft._l10nResizer[p])}}const n=this.#e[0];let a=0;for(const l of e){if(l===n)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let u=0;u<a-o;u++)this.#c.append(this.#c.firstChild);else if(o>a)for(let u=0;u<o-a;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",ft._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){ft._resizerKeyboardManager.exec(this,t)}#q(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#Y(t){this.#g=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#k(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#b=!1,this.#H(-1),this.#I()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:n}=t;let a=this.#A.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(n),this.#A.size===0&&(this.#A=null)},ft._telemetryTimeout),this.#A.set(n,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class BB extends ft{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const JA=3285377520,On=4294901760,Jn=65535;class AE{constructor(t){this.h1=t?t&4294967295:JA,this.h2=t?t&4294967295:JA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let A=0,E=t.length;A<E;A++){const w=t.charCodeAt(A);w<=255?e[n++]=w:(e[n++]=w>>>8,e[n++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,o=n-a*4,l=new Uint32Array(e.buffer,0,a);let u=0,h=0,f=this.h1,p=this.h2;const g=3432918353,v=461845907,b=g&Jn,S=v&Jn;for(let A=0;A<a;A++)A&1?(u=l[A],u=u*g&On|u*b&Jn,u=u<<15|u>>>17,u=u*v&On|u*S&Jn,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[A],h=h*g&On|h*b&Jn,h=h<<15|h>>>17,h=h*v&On|h*S&Jn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*g&On|u*b&Jn,u=u<<15|u>>>17,u=u*v&On|u*S&Jn,a&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&On|t*36045&Jn,e=e*4283543511&On|((e<<16|t>>>16)*2950163797&On)>>>16,t^=e>>>1,t=t*444984403&On|t*60499&Jn,e=e*3301882366&On|((e<<16|t>>>16)*3120437893&On)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Up=Object.freeze({map:null,hash:"",transfer:void 0});class Ym{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof ft&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof ft)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let a=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(a=!0,n[o]=l);else a=!0,this.#n.set(t,e);a&&this.#r(),e instanceof ft&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new SE(this)}get serializable(){if(this.#n.size===0)return Up;const t=new Map,e=new AE,n=[],a=Object.create(null);let o=!1;for(const[l,u]of this.#n){const h=u instanceof ft?u.serialize(!1,a):u;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Up}get editorStats(){let t=null;const e=new Map;let n=0,a=0;for(const o of this.#n.values()){if(!(o instanceof ft)){o.popup&&(o.popup.deleted?a+=1:n+=1);continue}o.isCommentDeleted?a+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const h=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let g=h.get(f);g||(g=new Map,h.set(f,g));const v=g.get(p)??0;g.set(p,v+1)}}if((a>0||n>0)&&(t||=Object.create(null),t.comments={deleted:a,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class SE extends Ym{#t;constructor(t){super();const{map:e,hash:n,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:n,transfer:a}}get print(){Yt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return xt(this,"modifiedIds",{ids:new Set,hash:""})}}class FB{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Ot(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:l}=t,u=new FontFace(a,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(a),n?.(t)}catch{wt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Yt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw wt(`Failed to load font '${n.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return xt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return xt(this,"isSyncFontLoadingSupported",Xe||Le.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ot(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:e,callback:t};return n.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return xt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,M){return D.charCodeAt(M)<<24|D.charCodeAt(M+1)<<16|D.charCodeAt(M+2)<<8|D.charCodeAt(M+3)&255}function a(D,M,P,k){const I=D.substring(0,M),$=D.substring(M+P);return I+k+$}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let f=0;function p(D,M){if(++f>30){wt("Load test font never loaded."),M();return}if(h.font="30px "+D,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,D,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,g.length,g);const S=16,A=1482184792;let E=n(v,S);for(o=0,l=g.length-3;o<l;o+=4)E=E-A+n(g,o)|0;o<g.length&&(E=E-A+n(g+"XXX",o)|0),v=a(v,S,4,xB(E));const w=`url(data:font/opentype;base64,${btoa(v)});`,T=`@font-face {font-family:"${g}";src:${w}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const D of[t.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=D,C.append(M)}this._document.body.append(C),p(g,()=>{C.remove(),e.complete()})}}class IB{#t;constructor(t,e=null,n,a){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${dE(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let a;try{a=t.get(n)}catch(l){wt(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function jB(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Xe)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function UB(i){if(Xe&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return wl(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function tu(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Vp=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,VB=i=>typeof i=="object"&&typeof i?.name=="string",wE=RB.bind(null,Vp,VB);class HB{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,n)})}addEventListener(t,e,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){wt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const eu={DATA:1,ERROR:2},Se={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function tS(){}function sn(i){if(i instanceof Fi||i instanceof _u||i instanceof qA||i instanceof rl||i instanceof Qf)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||Yt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Fi(i.message);case"InvalidPDFException":return new _u(i.message);case"PasswordException":return new qA(i.message,i.code);case"ResponseException":return new rl(i.message,i.status,i.missing);case"UnknownErrorException":return new Qf(i.message,i.details)}return new Qf(i.message,i.toString())}class jo{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===eu.DATA)a.resolve(t.data);else if(t.callback===eu.ERROR)a.reject(sn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:a,callback:eu.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:a,callback:eu.ERROR,callbackId:t.callbackId,reason:sn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,a){const o=this.streamId++,l=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:l,targetName:u,stream:Se.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ot(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:u,stream:Se.CANCEL,streamId:o,reason:sn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],h={enqueue(f,p=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:a,stream:Se.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:Se.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Ot(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:Se.ERROR,streamId:e,reason:sn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Se.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Se.START_COMPLETE,streamId:e,reason:sn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Se.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(sn(t.reason));break;case Se.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(sn(t.reason));break;case Se.PULL:if(!u){o.postMessage({sourceName:n,targetName:a,stream:Se.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||tS).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Se.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Se.PULL_COMPLETE,streamId:e,reason:sn(f)})});break;case Se.ENQUEUE:if(Ot(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Se.CLOSE:if(Ot(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case Se.ERROR:Ot(l,"error should have stream controller"),l.controller.error(sn(t.reason)),this.#r(l,e);break;case Se.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(sn(t.reason)),this.#r(l,e);break;case Se.CANCEL:if(!u)break;const h=sn(t.reason);Promise.try(u.onCancel||tS,h).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Se.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Se.CANCEL_COMPLETE,streamId:e,reason:sn(f)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class EE{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Yt("Abstract method `_createCanvas` called.")}}class zB extends EE{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class xE{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Yt("Abstract method `_fetch` called.")}}class eS extends xE{async _fetch(t){const e=await Cr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):wl(e)}}class TE{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,a,o){return"none"}destroy(t=!1){}}class GB extends TE{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#r.createElementNS(Ri,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#r.createElementNS(Ri,"defs"),t.append(n),n.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const h=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=h[g]/255;const p=f.join(",");return[p,p,p]}const[e,n,a]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,l[h]=n[h]/255,u[h]=a[h]/255;return[o.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(xl(e)?wt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Vm(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,a,o]=this.#d(t),l=t.length===1?n:`${n}${a}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,h=this.#h(u);this.#o.set(t,h),this.#o.set(l,h);const f=this.#p(u);return this.#m(n,a,o,f),h}addHCMFilter(t,e){const n=`${t}-${e}`,a="base";let o=this.#c.get(a);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(a,o)),!t||!e))return o.url;const l=this.#b(t);t=at.makeHexColor(...l);const u=this.#b(e);if(e=at.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let b=0;b<=255;b++){const S=b/255;h[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=h.join(","),p=`g_${this.#n}_hcm_filter`,g=o.filter=this.#p(p);this.#m(f,f,f,g),this.#g(g);const v=(b,S)=>{const A=l[b]/255,E=u[b]/255,w=new Array(S+1);for(let T=0;T<=S;T++)w[T]=A+T/S*(E-A);return w.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),g),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),a=`alpha_${n}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const u=this.#p(o);return this.#y(n,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,a;if(t?([n]=this.#d([t]),a=`luminosity_${n}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const u=this.#p(o);return this.#f(u),t&&this.#y(n,u),l}addHighlightHCMFilter(t,e,n,a,o){const l=`${e}-${n}-${a}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!n))return u.url;const[h,f]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,b]=[a,o].map(this.#b.bind(this));g<p&&([p,g,v,b]=[g,p,b,v]),this.#l.style.color="";const S=(w,T,C)=>{const D=new Array(256),M=(g-p)/C,P=w/255,k=(T-w)/(255*C);let I=0;for(let $=0;$<=C;$++){const X=Math.round(p+$*M),J=P+$*k;for(let rt=I;rt<=X;rt++)D[rt]=J;I=X+1}for(let $=I;$<256;$++)D[$]=D[I-1];return D.join(",")},A=`g_${this.#n}_hcm_${t}_filter`,E=u.filter=this.#p(A);return this.#g(E),this.#m(S(v[0],b[0],5),S(v[1],b[1],5),S(v[2],b[2],5),E),u.url=this.#h(A),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS(Ri,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(Ri,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#r.createElementNS(Ri,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const a=this.#r.createElementNS(Ri,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),t.append(a)}#m(t,e,n,a){const o=this.#r.createElementNS(Ri,"feComponentTransfer");a.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#r.createElementNS(Ri,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,_r(getComputedStyle(this.#l).getPropertyValue("color"))}}class CE{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Yt("Abstract method `_fetch` called.")}}class nS extends CE{async _fetch(t){const e=await Cr(t,"arraybuffer");return new Uint8Array(e)}}class _E{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Yt("Abstract method `_fetch` called.")}}class iS extends _E{async _fetch(t){const e=await Cr(t,"arraybuffer");return new Uint8Array(e)}}Xe&&wt("Please use the `legacy` build in Node.js environments.");async function Km(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class $B extends TE{}class qB extends EE{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class XB extends xE{async _fetch(t){return Km(t)}}class YB extends CE{async _fetch(t){return Km(t)}}class KB extends _E{async _fetch(t){return Km(t)}}const Ja="__forcedDependency",{floor:sS,ceil:aS}=Math;function nu(i,t,e,n,a,o){i[t*4+0]=Math.min(i[t*4+0],e),i[t*4+1]=Math.min(i[t*4+1],n),i[t*4+2]=Math.max(i[t*4+2],a),i[t*4+3]=Math.max(i[t*4+3],o)}const Hp=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class WB{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Hp}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const iu=(i,t)=>{if(!i)return;let e=i.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},i.set(t,e)),e};class QB{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ja]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(t,e,n=!1){this.#f=t.width,this.#g=t.height,this.#y(e),n&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(Hp,e.length)):this.#u.fill(Hp)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ja]:{__proto__:this.#e[Ja]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const n=this.#n.pop();return n!==void 0&&(iu(this.#m,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(iu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(iu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(at.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ja,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Ja,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,a,o,l){const u=at.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];at.axialAlignedBoundingBox([n,o,a,l],u,h);const f=at.intersect(this.#a,h);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,n,a,o,l){const u=this.#a;if(u[0]===1/0)return this;const h=at.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return at.axialAlignedBoundingBox([n,o,a,l],h,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return at.axialAlignedBoundingBox([n,o,a,l],h,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,a=1,o=0,l=0,u){const h=n.bbox;let f,p;if(h&&(f=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(n),f!==!1&&(p=[0,0,0,0],at.axialAlignedBoundingBox(h,n.fontMatrix,p),(a!==1||o!==0||l!==0)&&at.scaleMinMax([a,0,0,-a,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return h&&p&&f===void 0&&(f=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,a=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(a[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ja]),this.#m){const n=iu(this.#m,t),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#r.forEach(a.add,a),a.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=sS(this.#o[0]*256/this.#f),a=sS(this.#o[1]*256/this.#g),o=aS(this.#o[2]*256/this.#f),l=aS(this.#o[3]*256/this.#g);nu(this.#p,t,n,a,o,l);for(const u of this.#l)u!==t&&nu(this.#p,u,n,a,o,l);for(const u of this.#n)u!==t&&nu(this.#p,u,n,a,o,l);for(const u of this.#r)u!==t&&nu(this.#p,u,n,a,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new WB(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Du{#t;#e;#i;#n=0;#r=0;constructor(t,e,n){if(t instanceof Du&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,a,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,a,o,l),this}recordBBox(t,e,n,a,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,a,o,l),this}recordCharacterBBox(t,e,n,a,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,a,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Pn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zp(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,n),i.clip(a)}class Wm{isModifyingCurrentTransform(){return!1}getPattern(){Yt("Abstract method `getPattern` called.")}}class ZB extends Wm{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,a){let o;if(a===Ie.STROKE||a===Ie.FILL){const l=e.current.getClippedPathBoundingBox(a,ne(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=at.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),zp(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else zp(t,this._bbox),o=this._createGradient(t);return o}}function tp(i,t,e,n,a,o,l,u){const h=t.coords,f=t.colors,p=i.data,g=i.width*4;let v;h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v),h[n+1]>h[a+1]&&(v=n,n=a,a=v,v=l,l=u,u=v),h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v);const b=(h[e]+t.offsetX)*t.scaleX,S=(h[e+1]+t.offsetY)*t.scaleY,A=(h[n]+t.offsetX)*t.scaleX,E=(h[n+1]+t.offsetY)*t.scaleY,w=(h[a]+t.offsetX)*t.scaleX,T=(h[a+1]+t.offsetY)*t.scaleY;if(S>=T)return;const C=f[o],D=f[o+1],M=f[o+2],P=f[l],k=f[l+1],I=f[l+2],$=f[u],X=f[u+1],J=f[u+2],rt=Math.round(S),ot=Math.round(T);let nt,lt,B,V,Z,it,O,Y;for(let tt=rt;tt<=ot;tt++){if(tt<E){const At=tt<S?0:(S-tt)/(S-E);nt=b-(b-A)*At,lt=C-(C-P)*At,B=D-(D-k)*At,V=M-(M-I)*At}else{let At;tt>T?At=1:E===T?At=0:At=(E-tt)/(E-T),nt=A-(A-w)*At,lt=P-(P-$)*At,B=k-(k-X)*At,V=I-(I-J)*At}let q;tt<S?q=0:tt>T?q=1:q=(S-tt)/(S-T),Z=b-(b-w)*q,it=C-(C-$)*q,O=D-(D-X)*q,Y=M-(M-J)*q;const et=Math.round(Math.min(nt,Z)),pt=Math.round(Math.max(nt,Z));let ut=g*tt+et*4;for(let At=et;At<=pt;At++)q=(nt-At)/(nt-Z),q<0?q=0:q>1&&(q=1),p[ut++]=lt-(lt-it)*q|0,p[ut++]=B-(B-O)*q|0,p[ut++]=V-(V-Y)*q|0,p[ut++]=255}}function JB(i,t,e){const n=t.coords,a=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<h;o++){let p=o*u;for(let g=0;g<f;g++,p++)tp(i,e,n[p],n[p+1],n[p+u],a[p],a[p+1],a[p+u]),tp(i,e,n[p+u+1],n[p+1],n[p+u],a[p+u+1],a[p+1],a[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)tp(i,e,n[o],n[o+1],n[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class t3 extends Wm{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=f/g,S=p/v,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/b,scaleY:1/S},E=g+4,w=v+4,T=n.getCanvas("mesh",E,w),C=T.context,D=C.createImageData(g,v);if(e){const P=D.data;for(let k=0,I=P.length;k<I;k+=4)P[k]=e[0],P[k+1]=e[1],P[k+2]=e[2],P[k+3]=255}for(const P of this._figures)JB(D,P,A);return C.putImageData(D,2,2),{canvas:T.canvas,offsetX:u-2*b,offsetY:h-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,a){zp(t,this._bbox);const o=new Float32Array(2);if(a===Ie.SHADING)at.singularValueDecompose2dScale(ne(t),o);else if(this.matrix){at.singularValueDecompose2dScale(this.matrix,o);const[u,h]=o;at.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=h}else at.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,a===Ie.SHADING?null:this._background,e.cachedCanvases);return a!==Ie.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class e3 extends Wm{getPattern(){return"hotpink"}}function n3(i){switch(i[0]){case"RadialAxial":return new ZB(i);case"Mesh":return new t3(i);case"Dummy":return new e3}throw new Error(`Unknown IR type: ${i[0]}`)}const rS={COLORED:1,UNCOLORED:2};class Qm{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(t,e){const{bbox:n,operatorList:a,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Wu("TilingType: "+l);const g=n[0],v=n[1],b=n[2],S=n[3],A=b-g,E=S-v,w=new Float32Array(2);at.singularValueDecompose2dScale(this.matrix,w);const[T,C]=w;at.singularValueDecompose2dScale(this.baseTransform,w);const D=T*w[0],M=C*w[1];let P=A,k=E,I=!1,$=!1;const X=Math.ceil(f*D),J=Math.ceil(p*M),rt=Math.ceil(A*D),ot=Math.ceil(E*M);X>=rt?P=f:I=!0,J>=ot?k=p:$=!0;const nt=this.getSizeAndScale(P,this.ctx.canvas.width,D),lt=this.getSizeAndScale(k,this.ctx.canvas.height,M),B=t.cachedCanvases.getCanvas("pattern",nt.size,lt.size),V=B.context,Z=h.createCanvasGraphics(V,e);if(Z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Z,o,u),V.translate(-nt.scale*g,-lt.scale*v),Z.transform(0,nt.scale,0,0,lt.scale,0,0),V.save(),Z.dependencyTracker?.save(),this.clipBbox(Z,g,v,b,S),Z.baseTransform=ne(Z.ctx),Z.executeOperatorList(a),Z.endDrawing(),Z.dependencyTracker?.restore(),V.restore(),I||$){const it=B.canvas;I&&(P=f),$&&(k=p);const O=this.getSizeAndScale(P,this.ctx.canvas.width,D),Y=this.getSizeAndScale(k,this.ctx.canvas.height,M),tt=O.size,q=Y.size,et=t.cachedCanvases.getCanvas("pattern-workaround",tt,q),pt=et.context,ut=I?Math.floor(A/f):0,At=$?Math.floor(E/p):0;for(let Tt=0;Tt<=ut;Tt++)for(let Bt=0;Bt<=At;Bt++)pt.drawImage(it,tt*Tt,q*Bt,tt,q,0,0,tt,q);return{canvas:et.canvas,scaleX:O.scale,scaleY:Y.scale,offsetX:g,offsetY:v}}return{canvas:B.canvas,scaleX:nt.scale,scaleY:lt.scale,offsetX:g,offsetY:v}}getSizeAndScale(t,e,n){const a=Math.max(Qm.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=a?o=a:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,a,o){const l=a-e,u=o-n;t.ctx.rect(e,n,l,u),at.axialAlignedBoundingBox([e,n,a,o],ne(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const a=t.ctx,o=t.current;switch(e){case rS.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;a.fillStyle=o.fillColor=l,a.strokeStyle=o.strokeColor=u;break;case rS.UNCOLORED:a.fillStyle=a.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new EB(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,a,o){let l=n;a!==Ie.SHADING&&(l=at.transform(l,e.baseTransform),this.matrix&&(l=at.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let h=new DOMMatrix(l);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(h),f}}function i3({src:i,srcPos:t=0,dest:e,width:n,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Le.isLittleEndian?4278190080:255,[h,f]=l?[o,u]:[u,o],p=n>>3,g=n&7,v=i.length;e=new Uint32Array(e.buffer);let b=0;for(let S=0;S<a;S++){for(const E=t+p;t<E;t++){const w=t<v?i[t]:255;e[b++]=w&128?f:h,e[b++]=w&64?f:h,e[b++]=w&32?f:h,e[b++]=w&16?f:h,e[b++]=w&8?f:h,e[b++]=w&4?f:h,e[b++]=w&2?f:h,e[b++]=w&1?f:h}if(g===0)continue;const A=t<v?i[t++]:255;for(let E=0;E<g;E++)e[b++]=A&1<<7-E?f:h}return{srcPos:t,destPos:b}}const oS=16,lS=100,s3=15,cS=10,an=16,ep=new DOMMatrix,bn=new Float32Array(2),or=new Float32Array([1/0,1/0,-1/0,-1/0]);function a3(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,a,o,l,u){t.transform(e,n,a,o,l,u),this.__originalTransform(e,n,a,o,l,u)},i.setTransform=function(e,n,a,o,l,u){t.setTransform(e,n,a,o,l,u),this.__originalSetTransform(e,n,a,o,l,u)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,a,o,l,u){t.bezierCurveTo(e,n,a,o,l,u),this.__originalBezierCurveTo(e,n,a,o,l,u)},i.rect=function(e,n,a,o){t.rect(e,n,a,o),this.__originalRect(e,n,a,o)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class r3{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,n)):(a=this.canvasFactory.create(e,n),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function su(i,t,e,n,a,o,l,u,h,f){const[p,g,v,b,S,A]=ne(i);if(g===0&&v===0){const T=l*p+S,C=Math.round(T),D=u*b+A,M=Math.round(D),P=(l+h)*p+S,k=Math.abs(Math.round(P)-C)||1,I=(u+f)*b+A,$=Math.abs(Math.round(I)-M)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(b),C,M),i.drawImage(t,e,n,a,o,0,0,k,$),i.setTransform(p,g,v,b,S,A),[k,$]}if(p===0&&b===0){const T=u*v+S,C=Math.round(T),D=l*g+A,M=Math.round(D),P=(u+f)*v+S,k=Math.abs(Math.round(P)-C)||1,I=(l+h)*g+A,$=Math.abs(Math.round(I)-M)||1;return i.setTransform(0,Math.sign(g),Math.sign(v),0,C,M),i.drawImage(t,e,n,a,o,0,0,$,k),i.setTransform(p,g,v,b,S,A),[$,k]}i.drawImage(t,e,n,a,o,l,u,h,f);const E=Math.hypot(p,g),w=Math.hypot(v,b);return[E*h,w*f]}class uS{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ip;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Be.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=or.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ie.FILL,e=null){const n=this.minMax.slice();if(t===Ie.STROKE){e||Yt("Stroke bounding box must include transform."),at.singularValueDecompose2dScale(e,bn);const a=bn[0]*this.lineWidth/2,o=bn[1]*this.lineWidth/2;n[0]-=a,n[1]-=o,n[2]+=a,n[3]+=o}return n}updateClipFromPath(){const t=at.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(or,0)}getClippedPathBoundingBox(t=Ie.FILL,e=null){return at.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function hS(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,a=e%an,o=(e-a)/an,l=a===0?o:o+1,u=i.createImageData(n,an);let h=0,f;const p=t.data,g=u.data;let v,b,S,A;if(t.kind===Ko.GRAYSCALE_1BPP){const E=p.byteLength,w=new Uint32Array(g.buffer,0,g.byteLength>>2),T=w.length,C=n+7>>3,D=4294967295,M=Le.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(S=v<o?an:a,f=0,b=0;b<S;b++){const P=E-h;let k=0;const I=P>C?n:P*8-7,$=I&-8;let X=0,J=0;for(;k<$;k+=8)J=p[h++],w[f++]=J&128?D:M,w[f++]=J&64?D:M,w[f++]=J&32?D:M,w[f++]=J&16?D:M,w[f++]=J&8?D:M,w[f++]=J&4?D:M,w[f++]=J&2?D:M,w[f++]=J&1?D:M;for(;k<I;k++)X===0&&(J=p[h++],X=128),w[f++]=J&X?D:M,X>>=1}for(;f<T;)w[f++]=0;i.putImageData(u,0,v*an)}}else if(t.kind===Ko.RGBA_32BPP){for(b=0,A=n*an*4,v=0;v<o;v++)g.set(p.subarray(h,h+A)),h+=A,i.putImageData(u,0,b),b+=an;v<l&&(A=n*a*4,g.set(p.subarray(h,h+A)),i.putImageData(u,0,b))}else if(t.kind===Ko.RGB_24BPP)for(S=an,A=n*S,v=0;v<l;v++){for(v>=o&&(S=a,A=n*S),f=0,b=A;b--;)g[f++]=p[h++],g[f++]=p[h++],g[f++]=p[h++],g[f++]=255;i.putImageData(u,0,v*an)}else throw new Error(`bad image kind: ${t.kind}`)}function dS(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,a=e%an,o=(e-a)/an,l=a===0?o:o+1,u=i.createImageData(n,an);let h=0;const f=t.data,p=u.data;for(let g=0;g<l;g++){const v=g<o?an:a;({srcPos:h}=i3({src:f,srcPos:h,dest:p,width:n,height:v,nonBlackColor:0})),i.putImageData(u,0,g*an)}}function Do(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function au(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function fS(i,t){if(t)return!0;at.singularValueDecompose2dScale(i,bn);const e=Math.fround(Gn.pixelRatio*ra.PDF_TO_CSS_UNITS);return bn[0]<=e&&bn[1]<=e}const o3=["butt","round","square"],l3=["miter","round","bevel"],c3={},pS={};class ur{constructor(t,e,n,a,o,{optionalContentConfig:l,markedContentStack:u=null},h,f,p){this.ctx=t,this.current=new uS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new r3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:a=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...ne(this.compositeCtx))}this.ctx.save(),au(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ne(this.ctx)}executeOperatorList(t,e,n,a,o){const l=t.argsArray,u=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const p=f-h>cS&&typeof n=="function",g=p?Date.now()+s3:0;let v=0;const b=this.commonObjs,S=this.objs;let A,E;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,n),h;if(!o||o(h))if(A=u[h],E=l[h]??null,A!==vr.dependency)E===null?this[A](h):this[A](h,...E);else for(const w of E){this.dependencyTracker?.recordNamedData(w,h);const T=w.startsWith("g_")?b:S;if(!T.has(w))return T.get(w,n),h}if(h++,h===f)return h;if(p&&++v>cS){if(Date.now()>g)return n(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,h=a,f="prescale1",p,g;for(;o>2&&u>1||l>2&&h>1;){let v=u,b=h;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/b),p=this.cachedCanvases.getCanvas(f,v,b),g=p.context,g.clearRect(0,0,v,b),g.drawImage(t,0,0,u,h,0,0,v,b),t=p.canvas,u=v,h=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){const n=this.ctx,{width:a,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,h=ne(n);let f,p,g,v;if((e.bitmap||e.data)&&e.count>1){const X=e.bitmap||e.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(X),f||(f=new Map,this._cachedBitmapsMap.set(X,f));const J=f.get(p);if(J&&!u){const rt=Math.round(Math.min(h[0],h[2])+h[4]),ot=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,Pn.transformAndFill),{canvas:J,offsetX:rt,offsetY:ot}}g=J}g||(v=this.cachedCanvases.getCanvas("maskCanvas",a,o),dS(v.context,e));let b=at.transform(h,[1/a,0,0,-1/o,0,0]);b=at.transform(b,[1,0,0,1,0,-o]);const S=or.slice();at.axialAlignedBoundingBox([0,0,a,o],b,S);const[A,E,w,T]=S,C=Math.round(w-A)||1,D=Math.round(T-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",C,D),P=M.context,k=A,I=E;P.translate(-k,-I),P.transform(...b),g||(g=this._scaleImage(v.canvas,Zn(P)),g=g.img,f&&u&&f.set(p,g)),P.imageSmoothingEnabled=fS(ne(P),e.interpolate),su(P,g,0,0,g.width,g.height,0,0,a,o),P.globalCompositeOperation="source-in";const $=at.transform(Zn(P),[1,0,0,1,-k,-I]);return P.fillStyle=u?l.getPattern(n,this,$,Ie.FILL,t):l,P.fillRect(0,0,a,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,M.canvas)),this.dependencyTracker?.recordDependencies(t,Pn.transformAndFill),{canvas:M.canvas,offsetX:Math.round(k),offsetY:Math.round(I)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=o3[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=l3[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,a]of e)switch(n){case"LW":this.setLineWidth(t,a);break;case"LC":this.setLineCap(t,a);break;case"LJ":this.setLineJoin(t,a);break;case"ML":this.setMiterLimit(t,a);break;case"D":this.setDash(t,a[0],a[1]);break;case"RI":this.setRenderingIntent(t,a);break;case"FL":this.setFlatness(t,a);break;case"Font":this.setFont(t,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Do(this.suspendedCtx,l),a3(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Do(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,a){const o=a[0],l=a[1],u=a[2]-o,h=a[3]-l;u===0||h===0||(this.genericComposeSMask(e.context,n,u,h,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,a,o,l,u,h,f,p,g){let v=t.canvas,b=h-p,S=f-g;if(l)if(b<0||S<0||b+n>v.width||S+a>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,a),w=E.context;w.drawImage(v,-b,-S),w.globalCompositeOperation="destination-atop",w.fillStyle=l,w.fillRect(0,0,n,a),w.globalCompositeOperation="source-over",v=E.canvas,b=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,S,n,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(b,S,n,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(h,f,n,a),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(v,b,S,n,a,h,f,n,a),e.restore()}save(t){this.inSMaskMode&&Do(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Do(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,a,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,a,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,a){let[o]=n;if(!a){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===vr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,a[0]-l,a[2]+l,a[1]-l,a[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,h=o.length;u<h;)switch(o[u++]){case Zc.moveTo:l.moveTo(o[u++],o[u++]);break;case Zc.lineTo:l.lineTo(o[u++],o[u++]);break;case Zc.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case Zc.closePath:l.closePath();break;default:wt(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}at.axialAlignedBoundingBox(a,ne(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const a=this.ctx,o=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=o.getPattern(a,this,Zn(a),Ie.STROKE,t),l){const u=new Path2D;u.addPath(e,a.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Pn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Ie.STROKE,ne(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const a=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(t),a.save(),a.fillStyle=o.getPattern(a,this,Zn(a),Ie.FILL,t),f){const p=new Path2D;p.addPath(e,a.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),this.dependencyTracker?.recordDependencies(t,Pn.fill),u&&(a.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Pn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=c3}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=pS}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;e!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",t),a.recordCloseMarker(t)}if(e!==void 0){const a=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:u,y:h,fontSize:f,path:p}of e)p&&a.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,h).scale(f,-f));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),o=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=a.fontMatrix||Ip,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&wt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const l=a.loadedName||"sans-serif",u=a.systemFontInfo?.css||`"${l}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const f=a.italic?"italic":"normal";let p=n;n<oS?p=oS:n>lS&&(p=lS),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${h} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const a=new Path2D;return a.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),a}paintChar(t,e,n,a,o,l){const u=this.ctx,h=this.current,f=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,v=p&Be.FILL_STROKE_MASK,b=!!(p&Be.ADD_TO_PATH_FLAG),S=h.patternFill&&!f.missingFile,A=h.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||b||S||A)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||S||A)){u.save(),u.translate(n,a),u.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,u,f);let w;if(v===Be.FILL||v===Be.FILL_STROKE)if(o){w=u.getTransform(),u.setTransform(...o);const T=this.#i(E,w,o);u.fill(T)}else u.fill(E);if(v===Be.STROKE||v===Be.FILL_STROKE)if(l){w||=u.getTransform(),u.setTransform(...l);const{a:T,b:C,c:D,d:M}=w,P=at.inverseTransform(l),k=at.transform([T,C,D,M,0,0],P);at.singularValueDecompose2dScale(k,bn),u.lineWidth*=Math.max(bn[0],bn[1])/g,u.stroke(this.#i(E,w,l))}else u.lineWidth/=g,u.stroke(E);u.restore()}else(v===Be.FILL||v===Be.FILL_STROKE)&&(u.fillText(e,n,a),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,a,()=>u.measureText(e))),(v===Be.STROKE||v===Be.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,a,()=>u.measureText(e)).recordDependencies(t,Pn.stroke),u.strokeText(e,n,a));b&&((this.pendingTextPaths||=[]).push({transform:ne(u),x:n,y:a,fontSize:g,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,a))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){n=!0;break}return xt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Pn.showText).resetBBox(t),this.current.textRenderingMode&Be.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,h=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,v=e.length,b=a.vertical,S=b?1:-1,A=a.defaultVMetrics,E=o*n.fontMatrix[0],w=n.textRenderingMode===Be.FILL&&!a.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let T,C;if(n.patternFill){l.save();const I=n.fillColor.getPattern(l,this,Zn(l),Ie.FILL,t);T=ne(l),l.restore(),l.fillStyle=I}if(n.patternStroke){l.save();const I=n.strokeColor.getPattern(l,this,Zn(l),Ie.STROKE,t);C=ne(l),l.restore(),l.strokeStyle=I}let D=n.lineWidth;const M=n.textMatrixScale;if(M===0||D===0){const I=n.textRenderingMode&Be.FILL_STROKE_MASK;(I===Be.STROKE||I===Be.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=M;if(u!==1&&(l.scale(u,u),D/=u),l.lineWidth=D,a.isInvalidPDFjsFont){const I=[];let $=0;for(const J of e)I.push(J.unicode),$+=J.width;const X=I.join("");if(l.fillText(X,0,0),this.dependencyTracker!==null){const J=l.measureText(X);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=$*E*g,l.restore(),this.compose();return}let P=0,k;for(k=0;k<v;++k){const I=e[k];if(typeof I=="number"){P+=S*I*o/1e3;continue}let $=!1;const X=(I.isSpace?f:0)+h,J=I.fontChar,rt=I.accent;let ot,nt,lt=I.width;if(b){const Z=I.vmetric||A,it=-(I.vmetric?Z[1]:lt*.5)*E,O=Z[2]*E;lt=Z?-Z[0]:lt,ot=it/u,nt=(P+O)/u}else ot=P/u,nt=0;let B;if(a.remeasure&&lt>0){B=l.measureText(J);const Z=B.width*1e3/o*u;if(lt<Z&&this.isFontSubpixelAAEnabled){const it=lt/Z;$=!0,l.save(),l.scale(it,1),ot/=it}else lt!==Z&&(ot+=(lt-Z)/2e3*o/u)}if(this.contentVisible&&(I.isInFont||a.missingFile)){if(w&&!rt)l.fillText(J,ot,nt),this.dependencyTracker?.recordCharacterBBox(t,l,B?{bbox:null}:a,o/u,ot,nt,()=>B??l.measureText(J));else if(this.paintChar(t,J,ot,nt,T,C),rt){const Z=ot+o*rt.offset.x/u,it=nt-o*rt.offset.y/u;this.paintChar(t,rt.fontChar,Z,it,T,C)}}const V=b?lt*E-X*p:lt*E+X*p;P+=V,$&&l.restore()}b?n.y-=P:n.x+=P*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,a=this.current,o=a.font,l=a.fontSize,u=a.fontDirection,h=o.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,g=a.textHScale*u,v=a.fontMatrix||Ip,b=e.length,S=a.textRenderingMode===Be.INVISIBLE;let A,E,w,T;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(g,u);const C=this.dependencyTracker;for(this.dependencyTracker=C?new Du(C,t):null,A=0;A<b;++A){if(E=e[A],typeof E=="number"){T=h*E*l/1e3,this.ctx.translate(T,0),a.x+=T*g;continue}const D=(E.isSpace?p:0)+f,M=o.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(M),this.restore()):wt(`Type3 character "${E.operatorListId}" is not available.`);const P=[E.width,0];at.applyTransform(P,v),w=P[0]*l+D,n.translate(w,0),a.x+=w*g}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,a,o,l,u){const h=new Path2D;h.rect(a,o,l-a,u-o),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,a,l,o,u).recordClipBox(t,this.ctx,a,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const a=this.baseTransform||ne(this.ctx),o={createCanvasGraphics:(l,u)=>new ur(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Du(this.dependencyTracker,u,!0):null)};n=new Qm(e,this.ctx,o,a)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=n3(this.getObject(t,e)),this.cachedPatterns.set(e,a)),n&&(a.matrix=n),a}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const a=this._getPattern(t,e);n.fillStyle=a.getPattern(n,this,Zn(n),Ie.SHADING,t);const o=Zn(n);if(o){const{width:l,height:u}=n.canvas,h=or.slice();at.axialAlignedBoundingBox([0,0,l,u],o,h);const[f,p,g,v]=h;this.ctx.fillRect(f,p,g-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Pn.transform).recordDependencies(t,Pn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Yt("Should not call beginInlineImage")}beginImageData(){Yt("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=ne(this.ctx),n)){at.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,o,l,u]=n,h=new Path2D;h.rect(a,o,l-a,u-o),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,a,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Wu("TODO: Support non-isolated groups."),e.knockout&&wt("Knockout groups not supported.");const a=ne(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=or.slice();at.axialAlignedBoundingBox(e.bbox,ne(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=at.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),h=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),b=v.context;b.translate(-u,-h),b.transform(...a);let S=new Path2D;const[A,E,w,T]=e.bbox;if(S.rect(A,E,w-A,T-E),e.matrix){const C=new Path2D;C.addPath(S,new DOMMatrix(e.matrix)),S=C}b.clip(S),e.smask&&this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,h),n.save()),Do(n,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=ne(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=or.slice();at.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,a,o,l){if(this.#t(),au(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=h,at.singularValueDecompose2dScale(ne(this.ctx),bn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(h*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:v,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(bn[0],0,0,-bn[1],0,h*bn[1]),au(this.ctx)}else{au(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,h),this.ctx.clip(f)}}this.current=new uS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...a),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const a=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,a=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const f=ne(h);h.transform(n,a,o,l,0,0);const p=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,v=u.length;g<v;g+=2){const b=at.transform(f,[n,a,o,l,u[g],u[g+1]]);h.drawImage(p.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(t,this.ctx,b[4],b[4]+p.canvas.width,b[5],b[5]+p.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Pn.transformAndFill);for(const l of e){const{data:u,width:h,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=g.context;v.save();const b=this.getObject(t,u,l);dS(v,b),v.globalCompositeOperation="source-in",v.fillStyle=o?a.getPattern(v,this,Zn(n),Ie.FILL,t):a,v.fillRect(0,0,h,f),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),su(n,g.canvas,0,0,h,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,h,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){wt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,a,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){wt("Dependent image isn't ready yet");return}const u=l.width,h=l.height,f=[];for(let p=0,g=o.length;p<g;p+=2)f.push({transform:[n,0,0,a,o[p],o[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,a),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,a=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/a);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,a).context;hS(p,e),u=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(u,Zn(o));o.imageSmoothingEnabled=fS(ne(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-a,0).recordDependencies(t,Pn.imageXObject).recordOperation(t),su(o,h.img,0,0,h.paintWidth,h.paintHeight,0,-a,n,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const a=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;hS(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)a.save(),a.transform(...l.transform),a.scale(1,-1),su(a,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Pn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(a||(this.pendingClip===pS?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ne(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:a,d:o}=this.ctx.getTransform();let l,u;if(n===0&&a===0){const h=Math.abs(e),f=Math.abs(o);if(h===f)if(t===0)l=u=1/h;else{const p=h*t;l=u=p<1?1/p:1}else if(t===0)l=1/h,u=1/f;else{const p=h*t,g=f*t;l=p<1?1/p:1,u=g<1?1/g:1}}else{const h=Math.abs(e*o-n*a),f=Math.hypot(e,n),p=Math.hypot(a,o);if(t===0)l=p/h,u=f/h;else{const g=t*h;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:a}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(a||1)*o,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(o,l),ep.a=1/o,ep.d=1/l;const h=new Path2D;if(h.addPath(t,ep),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=a||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in vr)ur.prototype[i]!==void 0&&(ur.prototype[vr[i]]=ur.prototype[i]);class hr{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let a=0;for(const f of hr.strings){const p=e.encode(t[f]);n[f]=p,a+=4+p.length}const o=new ArrayBuffer(a),l=new Uint8Array(o),u=new DataView(o);let h=0;for(const f of hr.strings){const p=n[f],g=p.length;u.setUint32(h,g),l.set(p,h+4),h+=4+g}return Ot(h===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Ot(t<hr.strings.length,"Invalid string index");let e=0;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class dr{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let a=0;for(const v of dr.strings){const b=e.encode(t[v]);n[v]=b,a+=4+b.length}a+=4;let o,l,u=1+a;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const h=new ArrayBuffer(u),f=new Uint8Array(h),p=new DataView(h);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,a=0;for(const v of dr.strings){const b=n[v],S=b.length;a+=4+S,p.setUint32(g,S),f.set(b,g+4),g+=4+S}return p.setUint32(g-a-4,a),t.style&&(p.setUint32(g,o.length),f.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Ot(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Ot(t<dr.strings.length,"Invalid string index");let e=5;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const a=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,a));return{style:n,weight:o}}}class zt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Ot(t<zt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,a=this.#o.getUint8(e)>>n&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Ot(t<zt.numbers.length,"Invalid number index"),this.#o.getFloat64(zt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=zt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=zt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=zt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){Ot(t<zt.strings.length,"Invalid string index");let e=zt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),a=new Uint8Array(n);return a.set(new Uint8Array(this.#s,e+4,n)),this.#a.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=zt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=zt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=zt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);if(a===0)return null;const o=new Uint8Array(a);return o.set(new Uint8Array(this.#s,t+4,a)),new hr(o.buffer)}get systemFontInfo(){let t=zt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#s,t+4,n)),new dr(a.buffer)}static write(t){const e=t.systemFontInfo?dr.write(t.systemFontInfo):null,n=t.cssFontInfo?hr.write(t.cssFontInfo):null,a=new TextEncoder,o={};let l=0;for(const A of zt.strings)o[A]=a.encode(t[A]),l+=4+o[A].length;const u=zt.#r+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(u),f=new Uint8Array(h),p=new DataView(h);let g=0;const v=zt.bools.length;let b=0,S=0;for(let A=0;A<v;A++){const E=t[zt.bools[A]];b|=(E===void 0?0:E?2:1)<<S,S+=2,(S===8||A===v-1)&&(p.setUint8(g++,b),b=0,S=0)}Ot(g===zt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const A of zt.numbers)p.setFloat64(g,t[A]),g+=8;if(Ot(g===zt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const A of t.bbox)p.setInt16(g,A,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Ot(g===zt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const A of t.fontMatrix)p.setFloat64(g,A,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Ot(g===zt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const A of t.defaultVMetrics)p.setInt16(g,A,!0),g+=2}else p.setUint8(g++,0),g+=6;Ot(g===zt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(zt.#r,0),g+=4;for(const A of zt.strings){const E=o[A],w=E.length;p.setUint32(g,w),f.set(E,g+4),g+=4+w}if(p.setUint32(zt.#r,g-zt.#r-4),!e)p.setUint32(g,0),g+=4;else{const A=e.byteLength;p.setUint32(g,A),Ot(g+4+A<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+A}if(!n)p.setUint32(g,0),g+=4;else{const A=n.byteLength;p.setUint32(g,A),Ot(g+4+A<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),g+4),g+=4+A}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Ot(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}}class vs{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class u3{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const er=Symbol("INTERNAL");class h3{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:a,rbGroups:o}){this.#t=!!(t&yn.DISPLAY),this.#e=!!(t&yn.PRINT),this.name=e,this.intent=n,this.usage=a,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==er&&Yt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class d3{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=yn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new h3(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(er,!1);for(const n of t.on)this.#e.get(n)._setVisible(er,!0);for(const n of t.off)this.#e.get(n)._setVisible(er,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let a=1;a<e;a++){const o=t[a];let l;if(Array.isArray(o))l=this.#r(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return wt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Wu("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(wt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return wt(`Unknown optional content policy ${t.policy}.`),!0}return wt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const a=this.#e.get(t);if(!a){wt(`Optional content group not found: ${t}`);return}if(n&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(er,!1,!0);a._setVisible(er,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const o=this.#e.get(a);if(o)switch(n){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new AE;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class f3{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ot(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Ot(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new p3(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new m3(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class p3{constructor(t,e,n=!1,a=null){this._stream=t,this._done=n||!1,this._filename=Zu(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class m3{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function g3(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=u(e);return p=unescape(p),p=h(p),p=f(p),o(p)}if(e=l(i),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=u(e);return p=f(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function a(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(p,{fatal:!0}),b=wl(g);g=v.decode(b),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function l(p){const g=[];let v;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=b.exec(p))!==null;){let[,A,E,w]=v;if(A=parseInt(A,10),A in g){if(A===0)break;continue}g[A]=[E,w]}const S=[];for(let A=0;A<g.length&&A in g;++A){let[E,w]=g[A];w=u(w),E&&(w=unescape(w),A===0&&(w=h(w))),S.push(w)}return S.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let v=0;v<g.length;++v){const b=g[v].indexOf('"');b!==-1&&(g[v]=g[v].slice(0,b),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const v=p.slice(0,g),S=p.slice(g+1).replace(/^[^']*'/,"");return a(v,S)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),a(v,S);try{S=atob(S)}catch{}return a(v,S)})}return""}function RE(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const a=t[n];a!==void 0&&e.append(n,a)}return e}function Ju(i){return URL.parse(i)?.origin??null}function ME({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(i.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function DE(i){const t=i.get("Content-Disposition");if(t){let e=g3(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Zu(e))return e}return null}function _l(i,t){return new rl(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function LE(i){return i===200||i===206}function OE(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function PE(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(wt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class y3{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=RE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new v3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new b3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class v3{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),a=e.url;fetch(a,OE(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Ju(o.url),!LE(o.status))throw _l(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:h}=ME({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=DE(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:PE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class b3{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=a.url;fetch(l,OE(o,this._withCredentials,this._abortController)).then(u=>{const h=Ju(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!LE(u.status))throw _l(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:PE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const np=200,ip=206;function A3(i){const t=i.response;return typeof t!="string"?t:wl(t).buffer}class S3{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=RE(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=ip):a.expectedStatus=np,e.responseType="arraybuffer",Ot(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){n.onError(a.status);return}const o=a.status||np;if(!(o===np&&n.expectedStatus===ip)&&o!==n.expectedStatus){n.onError(a.status);return}const u=A3(a);if(o===ip){const h=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(wt('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class w3{constructor(t){this._source=t,this._manager=new S3(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E3(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new x3(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class E3{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ju(e.responseURL);const n=e.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=ME({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=DE(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=_l(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x3{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Ju(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=_l(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const T3=/^[a-z][a-z0-9\-+.]+:/i;function C3(i){if(T3.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class _3{constructor(t){this.source=t,this.url=C3(t.url),Ot(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new R3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new M3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class R3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=_l(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class M3{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Lo=Symbol("INITIAL_DATA");class NE{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Lo}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const n=this.#t[t];if(!n||n.data===Lo)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Lo}delete(t){const e=this.#t[t];return!e||e.data===Lo?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Lo&&(yield[t,e])}}}const D3=1e5,mS=30;let ll=class Nn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#T=new WeakMap;static#E=null;static#A=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Gn.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=a,this.#a=o,Nn.#M(),Ss(e,n),this.#t.promise.finally(()=>{Nn.#A.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Le.platform;return xt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),Nn.#A.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Gn.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,Ss(this.#l,{rotation:a})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:Nn.#D(this.#r)};for(const l of this.#u)o.properties=this.#m.get(l),o.div=l,this.#x(o)}}cancel(){const t=new Fi("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=Nn.#D(this.#r);const e=this.#u,n=this.#g;for(const a of t){if(e.length>D3){wt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(a.str),this.#w(a)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const a=at.transform(this.#y,t.transform);let o=Math.atan2(a[1],a[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=Nn.fontFamilyMap.get(u)||u;const h=Math.hypot(a[2],a[3]),f=h*Nn.#F(u,l,this.#r);let p,g;o===0?(p=a[4],g=a[5]-f):(p=a[4]+f*Math.sin(o),g=a[5]-f*Math.cos(o));const v="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#l?(b.left=`${(100*p/this.#o).toFixed(2)}%`,b.top=`${(100*g/this.#a).toFixed(2)}%`):(b.left=`${v}${p.toFixed(2)}px)`,b.top=`${v}${g.toFixed(2)}px)`),b.fontSize=`${v}${(Nn.#E*h).toFixed(2)}px)`,b.fontFamily=u,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);A!==E&&Math.max(A,E)/Math.min(A,E)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#x(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#x(t){const{div:e,properties:n,ctx:a}=t,{style:o}=e;let l="";if(Nn.#E>1&&(l=`scale(${1/Nn.#E})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:f}=n;Nn.#R(a,f*this.#h,u);const{width:p}=a.measureText(e.textContent);p>0&&(l=`scaleX(${h*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#A.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#D(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#R(t,e,n){const a=this.#T.get(t);e===a.size&&n===a.family||(t.font=`${e}px ${n}`,a.size=e,a.family=n)}static#M(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const a=this.#b.get(t);if(a)return a;const o=this.#D(n);o.canvas.width=o.canvas.height=mS,this.#R(o,mS,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+h):(Le.platform.isFirefox&&wt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};const L3=100;function Zm(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new Jm,{docId:e}=t,n=i.url?jB(i.url):null,a=i.data?UB(i.data):null,o=i.httpHeaders||null,l=i.withCredentials===!0,u=i.password??null,h=i.range instanceof tg?i.range:null,f=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let p=i.worker instanceof br?i.worker:null;const g=i.verbosity,v=typeof i.docBaseUrl=="string"&&!xl(i.docBaseUrl)?i.docBaseUrl:null,b=tu(i.cMapUrl),S=i.cMapPacked!==!1,A=i.CMapReaderFactory||(Xe?XB:eS),E=tu(i.iccUrl),w=tu(i.standardFontDataUrl),T=i.StandardFontDataFactory||(Xe?YB:nS),C=tu(i.wasmUrl),D=i.WasmFactory||(Xe?KB:iS),M=i.stopAtErrors!==!0,P=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,k=i.isEvalSupported!==!1,I=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Xe,$=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Xe&&(Le.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,J=typeof i.disableFontFace=="boolean"?i.disableFontFace:Xe,rt=i.fontExtraProperties===!0,ot=i.enableXfa===!0,nt=i.ownerDocument||globalThis.document,lt=i.disableRange===!0,B=i.disableStream===!0,V=i.disableAutoFetch===!0,Z=i.pdfBug===!0,it=i.CanvasFactory||(Xe?qB:zB),O=i.FilterFactory||(Xe?$B:GB),Y=i.enableHWA===!0,tt=i.useWasm!==!1,q=h?h.length:i.length??NaN,et=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Xe&&!J,pt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(A===eS&&T===nS&&D===iS&&b&&w&&C&&Io(b,document.baseURI)&&Io(w,document.baseURI)&&Io(C,document.baseURI)),ut=null;AB(g);const At={canvasFactory:new it({ownerDocument:nt,enableHWA:Y}),filterFactory:new O({docId:e,ownerDocument:nt}),cMapReaderFactory:pt?null:new A({baseUrl:b,isCompressed:S}),standardFontDataFactory:pt?null:new T({baseUrl:w}),wasmFactory:pt?null:new D({baseUrl:C})};p||(p=br.create({verbosity:g,port:vs.workerPort}),t._worker=p);const Tt={docId:e,apiVersion:"5.4.296",data:a,password:u,disableAutoFetch:V,rangeChunkSize:f,length:q,docBaseUrl:v,enableXfa:ot,evaluatorOptions:{maxImageSize:P,disableFontFace:J,ignoreErrors:M,isEvalSupported:k,isOffscreenCanvasSupported:I,isImageDecoderSupported:$,canvasMaxAreaInBytes:X,fontExtraProperties:rt,useSystemFonts:et,useWasm:tt,useWorkerFetch:pt,cMapUrl:b,iccUrl:E,standardFontDataUrl:w,wasmUrl:C}},Bt={ownerDocument:nt,pdfBug:Z,styleElement:ut,loadingParams:{disableAutoFetch:V,enableXfa:ot}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Gt=p.messageHandler.sendWithPromise("GetDocRequest",Tt,a?[a.buffer]:null);let We;if(h)We=new f3(h,{disableRange:lt,disableStream:B});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const cn=Io(n)?y3:Xe?_3:w3;We=new cn({url:n,length:q,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:lt,disableStream:B})}return Gt.then(cn=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Lt=new jo(e,cn,p.port),jt=new N3(Lt,t,We,Bt,At,Y);t._transport=jt,Lt.send("Ready",null)})}).catch(t._capability.reject),t}class Jm{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Jm.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let tg=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,n=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#r)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Yt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class O3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return xt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class P3{#t=!1;constructor(t,e,n,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=a?new YA:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new NE,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:o=!1}={}){return new El({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return xt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:a="display",annotationMode:o=si.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1,recordOperations:b=!1,operationsFilter:S=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(a,o,g,v),{renderingIntent:E,cacheKey:w}=A;this.#t=!1,h||=this._transport.getOptionalContentConfig(E);let T=this._intentStates.get(w);T||(T=Object.create(null),this._intentStates.set(w,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(E&yn.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(b||D),P=$=>{if(T.renderTasks.delete(k),M){const X=k.gfx?.dependencyTracker.take();X&&(k.stepper&&k.stepper.setOperatorBBoxes(X,k.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=X))}C&&(this.#t=!0),this.#e(),$?(k.capability.reject($),this._abortOperatorList({intentState:T,reason:$ instanceof Error?$:new Error($)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new lr({callback:P,params:{canvas:e,canvasContext:t,dependencyTracker:M?new QB(e,T.operatorList.length,D):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:S});(T.renderTasks||=new Set).add(k);const I=k.task;return Promise.all([T.displayReadyCapability.promise,h]).then(([$,X])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:$,optionalContentConfig:X}),k.operatorListChanged()}).catch(P),I}getOperatorList({intent:t="display",annotationMode:e=si.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,a,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ol.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,a){function o(){l.read().then(function({value:h,done:f}){if(f){n(u);return}u.lang??=h.lang,Object.assign(u.styles,h.styles),u.items.push(...h.items),o()},a)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new YA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,a=t.length;n<a;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:a}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},l).getReader(),f=this._intentStates.get(e);f.streamReader=h;const p=()=>{h.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Qu){let a=L3;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Fi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var ps,Hn,Mi,Js,Lu,ta,ea,Ke,pu,kE,BE,Uo,mr,mu;const Zt=class Zt{constructor({name:t=null,port:e=null,verbosity:n=SB()}={}){Wn(this,Ke);Wn(this,ps,Promise.withResolvers());Wn(this,Hn,null);Wn(this,Mi,null);Wn(this,Js,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Qt(Zt,ea).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Qt(Zt,ea).set(e,this),Qn(this,Ke,kE).call(this,e)}else Qn(this,Ke,BE).call(this)}get promise(){return Qt(this,ps).promise}get port(){return Qt(this,Mi)}get messageHandler(){return Qt(this,Hn)}destroy(){this.destroyed=!0,Qt(this,Js)?.terminate(),nn(this,Js,null),Qt(Zt,ea).delete(Qt(this,Mi)),nn(this,Mi,null),Qt(this,Hn)?.destroy(),nn(this,Hn,null)}static create(t){const e=Qt(this,ea).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Zt(t)}static get workerSrc(){if(vs.workerSrc)return vs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return xt(this,"_setupFakeWorkerGlobal",(async()=>Qt(this,mr,mu)?Qt(this,mr,mu):(await import(this.workerSrc)).WorkerMessageHandler)())}};ps=new WeakMap,Hn=new WeakMap,Mi=new WeakMap,Js=new WeakMap,Lu=new WeakMap,ta=new WeakMap,ea=new WeakMap,Ke=new WeakSet,pu=function(){Qt(this,ps).resolve(),Qt(this,Hn).send("configure",{verbosity:this.verbosity})},kE=function(t){nn(this,Mi,t),nn(this,Hn,new jo("main","worker",t)),Qt(this,Hn).on("ready",()=>{}),Qn(this,Ke,pu).call(this)},BE=function(){if(Qt(Zt,ta)||Qt(Zt,mr,mu)){Qn(this,Ke,Uo).call(this);return}let{workerSrc:t}=Zt;try{Zt._isSameOrigin(window.location,t)||(t=Zt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new jo("main","worker",e),a=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?Qt(this,ps).reject(new Error("Worker was destroyed")):Qn(this,Ke,Uo).call(this)},o=new AbortController;e.addEventListener("error",()=>{Qt(this,Js)||a()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){a();return}nn(this,Hn,n),nn(this,Mi,e),nn(this,Js,e),Qn(this,Ke,pu).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){a();return}try{l()}catch{Qn(this,Ke,Uo).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Wu("The worker has been disabled.")}Qn(this,Ke,Uo).call(this)},Uo=function(){Qt(Zt,ta)||(wt("Setting up fake worker."),nn(Zt,ta,!0)),Zt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Qt(this,ps).reject(new Error("Worker was destroyed"));return}const e=new HB;nn(this,Mi,e);const n=`fake${Q0(Zt,Lu)._++}`,a=new jo(n+"_worker",n,e);t.setup(a,e),nn(this,Hn,new jo(n,n+"_worker",e)),Qn(this,Ke,pu).call(this)}).catch(t=>{Qt(this,ps).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},mr=new WeakSet,mu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Wn(Zt,mr),Wn(Zt,Lu,0),Wn(Zt,ta,!1),Wn(Zt,ea,new WeakMap),Xe&&(nn(Zt,ta,!0),vs.workerSrc||="./pdf.worker.mjs"),Zt._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const a=new URL(e,n);return n.origin===a.origin},Zt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Zt.fromPort=t=>{if(DB("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Zt.create(t)};let br=Zt;class N3{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,n,a,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new NE,this.fontLoader=new FB({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return xt(this,"annotationStorage",new Ym)}getRenderingIntent(t,e=si.ENABLE,n=null,a=!1,o=!1){let l=yn.DISPLAY,u=Up;switch(t){case"any":l=yn.ANY;break;case"display":break;case"print":l=yn.PRINT;break;default:wt(`getRenderingIntent - invalid intent: ${t}`)}const h=l&yn.PRINT&&n instanceof SE?n:this.annotationStorage;switch(e){case si.DISABLE:l+=yn.ANNOTATIONS_DISABLE;break;case si.ENABLE:break;case si.ENABLE_FORMS:l+=yn.ANNOTATIONS_FORMS;break;case si.ENABLE_STORAGE:l+=yn.ANNOTATIONS_STORAGE,u=h.serializable;break;default:wt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(l+=yn.IS_EDITING),o&&(l+=yn.OPLIST);const{ids:f,hash:p}=h.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ll.cleanup(),this._networkStream?.cancelAllRequests(new Fi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,a)=>{Ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){a.close();return}Ot(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:l}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,a)=>{Ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){a.close();return}Ot(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{o.cancel(l),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new O3(n,this))}),t.on("DocException",n=>{e._capability.reject(sn(n))}),t.on("PasswordRequest",n=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw sn(n);const a=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(a,n.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,a,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in o){const p=o.error;wt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new zt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new IB(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:f}=o;Ot(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([n,a,o,l])=>{if(this.destroyed)return;const u=this.#e.get(a);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&wt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new P3(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,a),a}getPageIndex(t){return Vp(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new d3(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new u3(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ll.cleanup()}}cachedPageNumber(t){if(!Vp(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class k3{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class lr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:a,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:v=null,enableHWA:b=!1,operationsFilter:S=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new k3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=b,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(lr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ur(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),lr.#e.delete(this._canvas),t||=new Qu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lr.#e.delete(this._canvas),this.callback())))}}const FE="5.4.296",IE="f56dc8601";class vn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return xt(this,"_keyboardManager",new Tl([[["Escape","mac+Escape"],vn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vn.prototype._moveToPrevious],[["Home","mac+Home"],vn.prototype._moveToBeginning],[["End","mac+End"],vn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",vn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",An,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=n,o.setAttribute("data-l10n-id",vn.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=a,o.ariaSelected=a===this.#i,o.addEventListener("click",this.#f.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Dt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){vn._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class cl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,cl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",cl.#n[t]),a.addEventListener("input",()=>{this.#i.updateParams(e,a.value)},{signal:this.#i._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function gS(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Oo(i){return Math.max(0,Math.min(255,255*i))}class yS{static CMYK_G([t,e,n,a]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Oo(t),[t,t,t]}static G_HTML([t]){const e=gS(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Oo)}static RGB_HTML(t){return`#${t.map(gS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,n+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,n,a]){return[Oo(1-Math.min(1,t+a)),Oo(1-Math.min(1,n+a)),Oo(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const a=1-t,o=1-e,l=1-n,u=Math.min(a,o,l);return["CMYK",a,o,l,u]}}class B3{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Yt("Abstract method `_createSVG` called.")}}class ul extends B3{_createSVG(t){return document.createElementNS(Ri,t)}}const F3=9,oa=new WeakSet,I3=new Date().getTimezoneOffset()*60*1e3;class vS{static create(t){switch(t.data.annotationType){case me.LINK:return new eg(t);case me.TEXT:return new U3(t);case me.WIDGET:switch(t.data.fieldType){case"Tx":return new V3(t);case"Btn":return t.data.radioButton?new jE(t):t.data.checkBox?new z3(t):new G3(t);case"Ch":return new $3(t);case"Sig":return new H3(t)}return new da(t);case me.POPUP:return new Gp(t);case me.FREETEXT:return new UE(t);case me.LINE:return new X3(t);case me.SQUARE:return new Y3(t);case me.CIRCLE:return new K3(t);case me.POLYLINE:return new VE(t);case me.CARET:return new Q3(t);case me.INK:return new ng(t);case me.POLYGON:return new W3(t);case me.HIGHLIGHT:return new HE(t);case me.UNDERLINE:return new Z3(t);case me.SQUIGGLY:return new J3(t);case me.STRIKEOUT:return new tF(t);case me.STAMP:return new zE(t);case me.FILEATTACHMENT:return new eF(t);default:return new re(t)}}}class re{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return re._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:a}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(n?.length>=1){for(const u of n)for(let h=0,f=u.length;h<f;h+=2)u[h+1]>l?(l=u[h+1],o=u[h]):u[h+1]===l&&(o=Math.max(o,u[h]));if(o!==1/0)return[o,l]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/a,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${al}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${al}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let a=this.#i?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#i.popup),a&&(a.updateEdited(t),n?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+h)/l}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:n,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof da)&&!(this instanceof eg)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Gp){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(A>0||E>0){const T=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof jE){const T=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case tr.SOLID:l.borderStyle="solid";break;case tr.DASHED:l.borderStyle="dashed";break;case tr.BEVELED:wt("Unimplemented border style: beveled");break;case tr.INSET:wt("Unimplemented border style: inset");break;case tr.UNDERLINE:l.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,l.borderColor=at.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):l.borderWidth=0}const f=at.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:v,pageY:b}=a.rawDims;l.left=`${100*(f[0]-v)/p}%`,l.top=`${100*(f[1]-b)/g}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(l.width=`${100*u/p}%`,l.height=`${100*h/g}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,a)=>{const o=a.detail[e],l=o[0],u=o.slice(1);a.target.style[n]=yS[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:yS[`${l}_rgb`](u)})};return xt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||n[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[a,o]of Object.entries(e)){const l=n[a];if(l){const u={detail:{[a]:o},target:t};l(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,a,o]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,E,w,T]=t.subarray(2,6);if(a===A&&o===E&&e===w&&n===T)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:A,borderWidth:E}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const h=a-e,f=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const v=p.createElement("defs");g.append(v);const b=p.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),v.append(b);for(let A=2,E=t.length;A<E;A+=8){const w=t[A],T=t[A+1],C=t[A+2],D=t[A+3],M=p.createElement("rect"),P=(C-e)/h,k=(o-T)/f,I=(w-C)/h,$=(T-D)/f;M.setAttribute("x",P),M.setAttribute("y",k),M.setAttribute("width",I),M.setAttribute("height",$),b.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${k}" width="${I}" height="${$}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${S})`}_createPopup(t=null){const{data:e}=this;let n,a;t?(n={str:t.text},a=t.date):(n=e.contentsObj,a=e.modificationDate);const o=this.#i=new Gp({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Yt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:l,exportValues:u}of a){if(o===-1||l===e)continue;const h=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!oa.has(f)){wt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:f})}return n}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,l=a.getAttribute("data-element-id");l!==e&&oa.has(a)&&n.push({id:l,exportValue:o,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class j3 extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class eg extends re{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),a=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=n.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){wt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:a,refs:o,include:l}=e,u=[];if(a.length!==0||o.length!==0){const p=new Set(o);for(const g of a){const v=this._fieldObjects[g]||[];for(const{id:b}of v)p.add(b)}for(const g of Object.values(this._fieldObjects))for(const v of g)p.has(v.id)===l&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const h=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const b=p.defaultValue||"";h.setValue(g,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;h.setValue(g,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";h.setValue(g,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${g}"]`);if(v){if(!oa.has(v)){wt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class U3 extends re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class da extends re{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Le.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,a,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l)}})})}_setEventListeners(t,e,n,a){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,a),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":at.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||F3,o=t.style;let l;const u=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Wf*a))||1,g=f/p;l=Math.min(a,h(g/Wf))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(a,h(f/Wf))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=at.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class V3 extends da{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,a){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[a]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),oa.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:g}=this.data,v=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",S=>{t.setValue(e,{value:S.target.value}),this.setPropertyOnSiblings(n,"value",S.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",S=>{const A=this.data.defaultFieldValue??"";n.value=h.userValue=A,h.formattedValue=null});let b=S=>{const{formattedValue:A}=h;A!=null&&(S.target.value=A),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{if(h.focused)return;const{target:E}=A;if(v&&(E.type=p,g&&(E.step=g)),h.userValue){const w=h.userValue;if(v)if(p==="time"){const T=new Date(w),C=[T.getHours(),T.getMinutes(),T.getSeconds()];E.value=C.map(D=>D.toString().padStart(2,"0")).join(":")}else E.value=new Date(w-I3).toISOString().split(p==="date"?"T":".",1)[0];else E.value=w}h.lastCommittedValue=E.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(w){h.userValue=w.detail.value??"",v||t.setValue(e,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:T}=w.detail;h.formattedValue=T,T!=null&&w.target!==document.activeElement&&(w.target.value=T);const C={formattedValue:T};v&&(C.value=T),t.setValue(e,C)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:T}=w.detail,{target:C}=w;if(T===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",T);let D=h.userValue;!D||D.length<=T||(D=D.slice(0,T),C.value=h.userValue=D,t.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),n.addEventListener("keydown",A=>{h.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(h.commitKey=3),E===-1)return;const{value:w}=A.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const S=b;b=null,n.addEventListener("blur",A=>{if(!h.focused||!A.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:E}=A;let{value:w}=E;if(v){if(w&&p==="time"){const T=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),E.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();E.type="text"}h.userValue=w,h.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),S(A)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",A=>{h.lastCommittedValue=null;const{data:E,target:w}=A,{value:T,selectionStart:C,selectionEnd:D}=w;let M=C,P=D;switch(A.inputType){case"deleteWordBackward":{const k=T.substring(0,C).match(/\w*[^\w]*$/);k&&(M-=k[0].length);break}case"deleteWordForward":{const k=T.substring(C).match(/^[^\w]*\w*/);k&&(P+=k[0].length);break}case"deleteContentBackward":C===D&&(M-=1);break;case"deleteContentForward":C===D&&(P+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:E||"",willCommit:!1,selStart:M,selEnd:P}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&n.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class H3 extends da{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class z3 extends da{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return oa.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const f of this._getElementsByName(u,n)){const p=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jE extends da{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(n,{value:a})),a)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(oa.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const h={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const v=p&&g.id===n;g.domElement&&(g.domElement.checked=v),t.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class G3 extends eg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class $3 extends da{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");oa.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),a.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),l=()=>{p.remove(),a.removeEventListener("input",l),l=null},a.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:v,multiple:b}=a;return b?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let h=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const g={value(v){l?.();const b=v.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const A of a.options)A.selected=S.has(A.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(v){a.multiple=!0},remove(v){const b=a.options,S=v.detail.remove;b[S].selected=!1,a.remove(S),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(v){const{index:b,displayValue:S,exportValue:A}=v.detail.insert,E=a.children[b],w=document.createElement("option");w.textContent=S,w.value=A,E?E.before(w):a.append(w),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},items(v){const{items:b}=v.detail;for(;a.length!==0;)a.remove(0);for(const S of b){const{displayValue:A,exportValue:E}=S,w=document.createElement("option");w.textContent=A,w.value=E,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},indices(v){const b=new Set(v.detail.indices);for(const S of v.target.options)S.selected=b.has(S.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,p)}),a.addEventListener("input",p=>{const g=u(!0),v=u(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Gp extends re{constructor(t){const{data:e,elements:n,parent:a}=t,o=!!a._commentManager;if(super(t,{isRenderable:!o&&re._hasPopupData(e)}),this.elements=n,o&&re._hasPopupData(e)){const l=this.popup=this.#t();for(const u of n)u.popup=l}else this.popup=null}#t(){return new q3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${zm}${a}`).join(",")),this.container}}class q3{#t=null;#e=this.#G.bind(this);#i=this.#j.bind(this);#n=this.#P.bind(this);#r=this.#S.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#b=null;#v=null;#T=null;#E=null;#A=null;#_=!1;#w=null;#x=null;constructor({container:t,color:e,elements:n,titleObj:a,modificationDate:o,contentsObj:l,richText:u,parent:h,rect:f,parentRect:p,open:g,commentManager:v=null}){this.#a=t,this.#E=a,this.#o=l,this.#T=u,this.#d=h,this.#s=e,this.#v=f,this.#h=p,this.#l=n,this.#t=v,this.#w=n[0],this.#c=Ru.toDateObject(o),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#D(),this.#a.hidden=!0,g&&this.#S())}#D(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#w.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const u=this.#w.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#M(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#m;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:a,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:a,modificationDate:o}}get elementBeforePopup(){return this.#m}get comment(){return this.#x||=this.#w.commentText,this.#x}set comment(t){t!==this.comment&&(this.#w.commentText=this.#x=t)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#m.getBoundingClientRect(),{x:a,y:o,width:l,height:u}=this.#w.layer.getBoundingClientRect();return[(t-a)/l,(e+n-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(f=>f/100),a=this.parentBoundingClientRect,{x:o,y:l,width:u,height:h}=a;this.#t.showDialog(null,this,o+e*u,l+n*h,{...t,parentDimensions:a})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=at.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#E?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#E}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}$m({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#O(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#N(){return this.#O?.attributes?.style?.fontSize||0}get#I(){return this.#O?.attributes?.style?.color||null}#k(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#I,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#x=null):e&&(e.deleted?this.remove():(this.#F(),this.#x=e.text)),t&&(this.#y=null,this.#R(),this.#M());return}if(n||e?.deleted){this.remove();return}this.#D(),this.#A||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#k(e.text),this.#c=Ru.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#A&&({contentsObj:this.#o,richText:this.#T}=this.#A,this.#A=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:a,pageY:o}}}=this.#d;let l=!!this.#h,u=l?this.#h:this.#v;for(const S of this.#l)if(!u||at.intersect(S.data.rect,u)!==null){u=S.data.rect,l=!0;break}const h=at.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,g=h[0]+p,v=h[1];this.#u=[100*(g-a)/e,100*(v-o)/n];const{style:b}=this.#a;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#P(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#j(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#P(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#j(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#D(),this.#_&&(this.#g||this.#P(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class UE extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class X3 extends re{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y3 extends re{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class K3 extends re{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class VE extends re{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:a},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let h=[];for(let p=0,g=e.length;p<g;p+=2){const v=e[p]-t[0],b=t[3]-e[p+1];h.push(`${v},${b}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class W3 extends VE{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Q3 extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ng extends re{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:a,popupRef:o}}=this,{transform:l,width:u,height:h}=this.#i(e,t),f=this.svgFactory.create(u,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,v=n.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",n[g].join(",")),p.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",n[l].join(","));if(a){const{transform:l,width:u,height:h}=this.#i(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${h}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class HE extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Z3 extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class J3 extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class tF extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class zE extends re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class eF extends re{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:a}=Le.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let ig=class GE{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:a,page:o,viewport:l,structTreeLayer:u,commentManager:h,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#r=u||null,this.#s=f||null,this.#i=p||new Ym,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,n){const a=t.firstChild||t,o=a.id=`${zm}${e}`,l=await this.#r?.getAriaAttributes(o);if(l)for(const[u,h]of l)a.setAttribute(u,h);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:e}=t,n=this.div;Ss(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new ul,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===me.POPUP;if(u){const p=a.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=vS.create(o);if(!h.isRenderable)continue;if(!u&&l.popupRef){const p=a.get(l.popupRef);p?p.push(h):a.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),await this.#a(f,l.id,o.elements),h.extraPopupElement?.popup?.renderCommentButton(),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new ul,parent:this};for(const n of t){n.borderStyle||=GE._defaultBorderStyle,e.data=n;const a=vS.create(e);if(!a.isRenderable)continue;const o=a.render();await this.#a(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ss(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):a.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:a}=t,o=new j3({data:{id:n,rect:t.getPDFRect(),rotation:a},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return xt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:tr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const ru=/\r\n?|\n/g;class Me extends ft{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Me.prototype,e=o=>o.isEmpty(),n=Ii.TRANSLATE_SMALL,a=Ii.TRANSLATE_BIG;return xt(this,"_keyboardManager",new Tl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=St.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Me._defaultColor||ft._defaultLineColor,this.#n=t.fontSize||Me._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){ft.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Dt.FREETEXT_SIZE:Me._defaultFontSize=e;break;case Dt.FREETEXT_COLOR:Me._defaultColor=e;break}}updateParams(t,e){switch(t){case Dt.FREETEXT_SIZE:this.#r(e);break;case Dt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,Me._defaultFontSize],[Dt.FREETEXT_COLOR,Me._defaultColor||ft._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,this.#n],[Dt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new cl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.FREETEXT_COLOR}#r(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Me.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const n=a=>{if(this.#t=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[f,p]=this.pageDimensions,[g,v]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=t+(l[0]-g)/f,S=e+this.height-(l[1]-v)/p;break;case 90:b=t+(l[0]-g)/f,S=e-(l[1]-v)/p,[u,h]=[h,-u];break;case 180:b=t-this.width+(l[0]-g)/f,S=e-(l[1]-v)/p,[u,h]=[-u,-h];break;case 270:b=t+(l[0]-g-this.height*p)/f,S=e+(l[1]-v-this.width*f)/p,[u,h]=[-h,u];break}this.setAt(b*a,S*o,u,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ru,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const a=Me.#h(e.getData("text")||"").replaceAll(ru,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:h}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(h).replaceAll(ru,"")),b!==this.editorDiv){let S=f;for(const A of this.editorDiv.childNodes){if(A===b){S=p;continue}S.push(Me.#c(A))}}f.push(u.nodeValue.slice(0,h).replaceAll(ru,""))}else if(u===this.editorDiv){let b=f,S=0;for(const A of this.editorDiv.childNodes)S++===h&&(b=p),b.push(Me.#c(A))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#l();const g=new Range;let v=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(v<=S){g.setStart(b,v),g.setEnd(b,v);break}v-=S}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Me._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let a=null;if(t instanceof UE){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:f,id:p,popupRef:g,richText:v,contentsObj:b,creationDate:S,modificationDate:A},textContent:E,textPosition:w,parent:{page:{pageNumber:T}}}=t;if(!E||E.length===0)return null;a=t={annotationType:St.FREETEXT,color:Array.from(u),fontSize:l,value:E.join(`
`),position:w,pageIndex:T-1,rect:h.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:b?.str||null,richText:v,creationDate:S,modificationDate:A}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=at.makeHexColor(...t.color),o.#t=Me.#h(t.value),o._initialData=a,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=ft._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,u)=>l!==a[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const a of this.#t.split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class st{static PRECISION=1e-4;toSVGPath(){Yt("Abstract method `toSVGPath` must be implemented.")}get box(){Yt("Abstract getter `box` must be implemented.")}serialize(t,e){Yt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,a,o,l){l||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)l[u]=e+t[u]*a,l[u+1]=n+t[u+1]*o;return l}static _rescaleAndSwap(t,e,n,a,o,l){l||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)l[u]=e+t[u+1]*a,l[u+1]=n+t[u]*o;return l}static _translate(t,e,n,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o],a[o+1]=n+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,a,o){switch(o){case 90:return[1-e/n,t/a];case 180:return[1-t/n,1-e/a];case 270:return[e/n,1-t/a];default:return[t/n,e/a]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,a,o,l){return[(t+5*n)/6,(e+5*a)/6,(5*n+o)/6,(5*a+l)/6,(n+o)/2,(a+l)/2]}}class Zs{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=Zs.#g+Zs.#p;constructor({x:t,y:e},n,a,o,l,u=0){this.#t=n,this.#h=o*a,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Zs.#g*a,this.#c=Zs.#u*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,a,o,l]=this.#t;return[(this.#a+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-a)/l,(this.#a+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-a)/l]}add({x:t,y:e}){this.#a=t,this.#o=e;const[n,a,o,l]=this.#t;let[u,h,f,p]=this.#s.subarray(8,12);const g=t-f,v=e-p,b=Math.hypot(g,v);if(b<this.#c)return!1;const S=b-this.#l,A=S/b,E=A*g,w=A*v;let T=u,C=h;u=f,h=p,f+=E,p+=w,this.#f?.push(t,e);const D=-w/S,M=E/S,P=D*this.#h,k=M*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+P,p+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-P,p-k],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+P,h+k],2),this.#r.push(NaN,NaN,NaN,NaN,(u+P-n)/o,(h+k-a)/l),this.#s.set([u-P,h-k],14),this.#e.push(NaN,NaN,NaN,NaN,(u-P-n)/o,(h-k-a)/l)),this.#s.set([T,C,u,h,f,p],6),!this.isEmpty()):(this.#s.set([T,C,u,h,f,p],6),Math.abs(Math.atan2(C-h,T-u)-Math.atan2(w,E))<Math.PI/2?([u,h,f,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((h+p)/2-a)/l),[u,h,T,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+u)/2-n)/o,((C+h)/2-a)/l),!0):([T,C,u,h,f,p]=this.#s.subarray(0,6),this.#r.push(((T+5*u)/6-n)/o,((C+5*h)/6-a)/l,((5*u+f)/6-n)/o,((5*h+p)/6-a)/l,((u+f)/2-n)/o,((h+p)/2-a)/l),[f,p,u,h,T,C]=this.#s.subarray(12,18),this.#e.push(((T+5*u)/6-n)/o,((C+5*h)/6-a)/l,((5*u+f)/6-n)/o,((5*h+p)/6-a)/l,((u+f)/2-n)/o,((h+p)/2-a)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#v(n);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,a]=this.#t,[o,l,u,h]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/a} L${o} ${l} L${u} ${h} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/a} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,a,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[h,f,p,g]=this.#m();t.push(`L${(l[0]-e)/a} ${(l[1]-n)/o} L${h} ${f} L${p} ${g} L${(u[0]-e)/a} ${(u[1]-n)/o}`)}newFreeDrawOutline(t,e,n,a,o,l){return new $E(t,e,n,a,o,l)}getOutlines(){const t=this.#r,e=this.#e,n=this.#s,[a,o,l,u]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let g=0,v=h.length-2;g<v;g+=2)h[g]=(this.#f[g]-a)/l,h[g+1]=(this.#f[g+1]-o)/u;if(h[h.length-2]=(this.#a-a)/l,h[h.length-1]=(this.#o-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#T(h);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}p=this.#A(f,p);for(let g=e.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(e[g+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[g+v],f[p+1]=e[g+v+1],p+=2}return this.#E(f,p),this.newFreeDrawOutline(f,h,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[n,a,o,l]=this.#t,[u,h,f,p]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-a)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-a)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-a)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-a)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#d,this.#i,this.#n)}#E(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#A(t,e){const n=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[o,l,u,h]=this.#t,[f,p,g,v]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-l)/h],e),e+=24}}class $E extends st{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,n,a,o,l){super(),this.#a=t,this.#r=e,this.#t=n,this.#s=a,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,h,f,p]=this.#e;for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-h)/p;for(let g=0,v=e.length;g<v;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-h)/p}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,n=this.#a.length;e<n;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,a],o){const l=n-t,u=a-e;let h,f;switch(o){case 0:h=st._rescale(this.#a,t,a,l,-u),f=st._rescale(this.#r,t,a,l,-u);break;case 90:h=st._rescaleAndSwap(this.#a,t,e,l,u),f=st._rescaleAndSwap(this.#r,t,e,l,u);break;case 180:h=st._rescale(this.#a,n,e,-l,u),f=st._rescale(this.#r,n,e,-l,u);break;case 270:h=st._rescaleAndSwap(this.#a,n,a,-l,-u),f=st._rescaleAndSwap(this.#r,n,a,-l,-u);break}return{outline:Array.from(h),points:[Array.from(f)]}}#o(t){const e=this.#a;let n=e[4],a=e[5];const o=[n,a,n,a];let l=n,u=a,h=n,f=a;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,S=e.length;b<S;b+=6){const A=e[b+4],E=e[b+5];isNaN(e[b])?(at.pointBoundingBox(A,E,o),u>E?(l=A,u=E):u===E&&(l=p(l,A)),f<E?(h=A,f=E):f===E&&(h=p(h,A))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,at.bezierBoundingBox(n,a,...e.slice(b,b+6),g),at.rectBoundingBox(g[0],g[1],g[2],g[3],o),u>g[1]?(l=g[0],u=g[1]):u===g[1]&&(l=p(l,g[0])),f<g[3]?(h=g[2],f=g[3]):f===g[3]&&(h=p(h,g[2]))),n=A,a=E}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[h,f]}get box(){return this.#e}newOutliner(t,e,n,a,o,l=0){return new Zs(t,e,n,a,o,l)}getNewOutline(t,e){const[n,a,o,l]=this.#e,[u,h,f,p]=this.#t,g=o*f,v=l*p,b=n*f+u,S=a*p+h,A=this.newOutliner({x:this.#r[0]*g+b,y:this.#r[1]*v+S},this.#t,this.#s,t,this.#n,e??this.#i);for(let E=2;E<this.#r.length;E+=2)A.add({x:this.#r[E]*g+b,y:this.#r[E+1]*v+S});return A.getOutlines()}}class $p{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,n=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:E,width:w,height:T}of t){const C=Math.floor((A-e)/l)*l,D=Math.ceil((A+w+e)/l)*l,M=Math.floor((E-e)/l)*l,P=Math.ceil((E+T+e)/l)*l,k=[C,M,P,!0],I=[D,M,P,!1];this.#n.push(k,I),at.rectBoundingBox(C,M,D,P,o)}const u=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let g=a?-1/0:1/0,v=1/0;const b=this.#n.at(a?-1:-2),S=[b[0],b[2]];for(const A of this.#n){const[E,w,T,C]=A;!C&&a?w<v?(v=w,g=E):w===v&&(g=Math.max(g,E)):C&&!a&&(w<v?(v=w,g=E):w===v&&(g=Math.min(g,E))),A[0]=(E-f)/u,A[1]=(w-p)/h,A[2]=(T-p)/h}this.#t=new Float32Array([f,p,u,h]),this.#e=[g,v],this.#i=S}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[u,h,f]=l;e.push([u,h,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const h=e[l][2],f=e[l+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const a=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,h,f,p,g]=l;n.delete(l);let v=u,b=h;for(o=[u,f],a.push(o);;){let S;if(n.has(p))S=p;else if(n.has(g))S=g;else break;n.delete(S),[u,h,f,p,g]=S,v!==u&&(o.push(v,b,u,b===h?h:f),v=u),b=b===h?f:h}o.push(v,b)}return new nF(a,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let n=0,a=e.length-1;for(;n<=a;){const o=n+a>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:a=o-1}return a+1}#o([,t,e]){const n=this.#a(t);this.#r.splice(n,0,[t,e])}#c([,t,e]){const n=this.#a(t);for(let a=n;a<this.#r.length;a++){const[o,l]=this.#r[a];if(o!==t)break;if(o===t&&l===e){this.#r.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[o,l]=this.#r[a];if(o!==t)break;if(o===t&&l===e){this.#r.splice(a,1);return}}}#l(t){const[e,n,a]=t,o=[[e,n,a]],l=this.#a(a);for(let u=0;u<l;u++){const[h,f]=this.#r[u];for(let p=0,g=o.length;p<g;p++){const[,v,b]=o[p];if(!(f<=v||b<=h)){if(v>=h){if(b>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=h,b>f&&o.push([e,f,b])}}}return o}}class nF extends st{#t;#e;constructor(t,e,n,a){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[n,a]=e;t.push(`M${n} ${a}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===n?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,a],o){const l=[],u=n-t,h=a-e;for(const f of this.#e){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*u,p[g+1]=a-f[g+1]*h;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class qp extends Zs{newFreeDrawOutline(t,e,n,a,o,l){return new iF(t,e,n,a,o,l)}}class iF extends $E{newOutliner(t,e,n,a,o,l=0){return new qp(t,e,n,a,o,l)}}class ge extends ft{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=St.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ge.prototype;return xt(this,"_keyboardManager",new Tl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ge._defaultColor,this.#m=t.thickness||ge._defaultThickness,this.opacity=t.opacity||ge._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new $p(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new $p(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#s;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const a=1.5;if(this.#s=t.getNewOutline(this.#m/2+a,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ge.#x(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ge.#x(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,l,u,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=h;break;case 90:{const[g,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*v/g,this.height=h*g/v;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=h;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*v/g,this.height=h*g/v;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/h];const{lastPoint:p}=this.#s;this.#g=[(p[0]-o)/u,(p[1]-l)/h]}static initialize(t,e){ft.initialize(t,e),ge._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:ge._defaultColor=e;break;case Dt.HIGHLIGHT_THICKNESS:ge._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:this.#T(e);break;case Dt.HIGHLIGHT_THICKNESS:this.#E(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,ge._defaultColor],[Dt.HIGHLIGHT_THICKNESS,ge._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||ge._defaultColor],[Dt.HIGHLIGHT_THICKNESS,this.#m||ge._defaultThickness],[Dt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:e.bind(this,t,ge._defaultOpacity),undo:e.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#E(t){const e=this.#m,n=a=>{this.#m=a,this.#A(a)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new vn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#A(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#x([t,e,n,a],o){switch(o){case 90:return[1-e-a,t,a,n];case 180:return[1-t-n,1-e-a,n,a];case 270:return[e,1-t-n,a,n]}return[t,e,n,a]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=ge.#x(this.#l.box,t)):n=ge.#x([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:ge.#x(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),bE(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){ge._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#R(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#F(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,a]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:h,y:f,width:p,height:g}of o){const v=h*t+n,b=(1-f)*e+a;l[u]=l[u+4]=v,l[u+1]=l[u+3]=b,l[u+2]=l[u+6]=v+p*t,l[u+5]=l[u+7]=b-g*e,u+=8}return l}#O(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:a,y:o}){const{x:l,y:u,width:h,height:f}=n.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),v=b=>{p.abort(),this.#I(t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",ie,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",An,{signal:g}),n.addEventListener("pointermove",this.#N.bind(this,t),{signal:g}),this._freeHighlight=new qp({x:a,y:o},[l,u,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let a=null;if(t instanceof HE){const{data:{quadPoints:S,rect:A,rotation:E,id:w,color:T,opacity:C,popupRef:D,richText:M,contentsObj:P,creationDate:k,modificationDate:I},parent:{page:{pageNumber:$}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:S,boxes:null,pageIndex:$-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:D,richText:M,comment:P?.str||null,creationDate:k,modificationDate:I}}else if(t instanceof ng){const{data:{inkLists:S,rect:A,rotation:E,id:w,color:T,borderStyle:{rawWidth:C},popupRef:D,richText:M,contentsObj:P,creationDate:k,modificationDate:I},parent:{page:{pageNumber:$}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:S,boxes:null,pageIndex:$-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:D,richText:M,comment:P?.str||null,creationDate:k,modificationDate:I}}const{color:o,quadPoints:l,inkLists:u,opacity:h}=t,f=await super.deserialize(t,e,n);f.color=at.makeHexColor(...o),f.opacity=h||1,u&&(f.#m=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[v,b]=f.pageTranslation;if(l){const S=f.#i=[];for(let A=0;A<l.length;A+=8)S.push({x:(l[A]-v)/p,y:1-(l[A+1]-b)/g,width:(l[A+2]-l[A])/p,height:(l[A+1]-l[A+5])/g});f.#b(),f.#w(),f.rotate(f.rotation)}else if(u){f.#h=!0;const S=u[0],A={x:S[0]-v,y:g-(S[1]-b)},E=new qp(A,[0,0,p,g],1,f.#m/2,!0,.001);for(let C=0,D=S.length;C<D;C+=2)A.x=S[C]-v,A.y=g-(S[C+1]-b),E.add(A);const{id:w,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#v({highlightOutlines:E.getOutlines(),highlightId:w,clipPathId:T}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=ft._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#F(),outlines:this.#O(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#k(n)?null:(n.id=this.annotationElementId,n)}#k(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,a)=>n!==e[a])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class qE{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Yt("Not implemented")}}class yt extends ft{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))n.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){Yt("Not implemented")}static get typesMap(){Yt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(yt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)t.push([n,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,a]of this.constructor.typesMap)t.push([n,e[a]]);return t}_updateProperty(t,e,n){const a=this._drawingOptions,o=a[e],l=u=>{a.updateProperty(e,u);const h=this.#t.updateProperty(e,u);h&&this.#u(h),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,a]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,n*(l/o),a*(o/l)];case 180:return[1-t,1-e,n,a];case 270:return[1-e,t,n*(l/o),a*(o/l)];default:return[t,e,n,a]}}#p(){const{x:t,y:e,width:n,height:a,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,n*(o/l),a*(l/o)];case 180:return[1-t,1-e,n,a];case 270:return[e,1-t,n*(o/l),a*(l/o)];default:return[t,e,n,a]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:n,height:a,rotation:o,parentRotation:l,parentDimensions:[u,h]}=this;switch((o*4+l)/90){case 1:return[1-e-a,t,a,n];case 2:return[1-t-n,1-e-a,n,a];case 3:return[e,1-t-n,a,n];case 4:return[t,e-n*(u/h),a*(h/u),n*(u/h)];case 5:return[1-e,t,n*(u/h),a*(h/u)];case 6:return[1-t-a*(h/u),1-e,a*(h/u),n*(u/h)];case 7:return[e-n*(u/h),1-t-a*(h/u),n*(u/h),a*(h/u)];case 8:return[t-n,e-a,n,a];case 9:return[1-e,t-n,a,n];case 10:return[1-t,1-e,n,a];case 11:return[e-a,1-t,a,n];case 12:return[t-a*(h/u),e,a*(h/u),n*(u/h)];case 13:return[1-e-n*(u/h),t-a*(h/u),n*(u/h),a*(h/u)];case 14:return[1-t,1-e-n*(u/h),a*(h/u),n*(u/h)];case 15:return[e,1-t,n*(u/h),a*(h/u)];default:return[t,e,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,a,o){Yt("Not implemented")}static startDrawing(t,e,n,a){const{target:o,offsetX:l,offsetY:u,pointerId:h,pointerType:f}=a;if(yt.#a&&yt.#a!==f)return;const{viewport:{rotation:p}}=t,{width:g,height:v}=o.getBoundingClientRect(),b=yt.#n=new AbortController,S=t.combinedSignal(b);if(yt.#s||=h,yt.#a??=f,window.addEventListener("pointerup",A=>{yt.#s===A.pointerId?this._endDraw(A):yt.#o?.delete(A.pointerId)},{signal:S}),window.addEventListener("pointercancel",A=>{yt.#s===A.pointerId?this._currentParent.endDrawingSession():yt.#o?.delete(A.pointerId)},{signal:S}),window.addEventListener("pointerdown",A=>{yt.#a===A.pointerType&&((yt.#o||=new Set).add(A.pointerId),yt.#i.isCancellable()&&(yt.#i.removeLastElement(),yt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",An,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",A=>{A.timeStamp===yt.#c&&ie(A)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),yt.#i){t.drawLayer.updateProperties(this._currentDrawId,yt.#i.startNew(l,u,g,v,p));return}e.updateUIForDefaultProperties(this),yt.#i=this.createDrawerInstance(l,u,g,v,p),yt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(yt.#r.toSVGProperties(),yt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(yt.#c=-1,!yt.#i)return;const{offsetX:e,offsetY:n,pointerId:a}=t;if(yt.#s===a){if(yt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,yt.#i.add(e,n)),yt.#c=t.timeStamp,ie(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,yt.#i=null,yt.#r=null,yt.#a=null,yt.#c=NaN),yt.#n&&(yt.#n.abort(),yt.#n=null,yt.#s=NaN,yt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,yt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=yt.#i,a=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:Dt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Dt.DRAW_STEP),!yt.#i.isEmpty()){const{pageDimensions:[n,a],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yt.#i.getOutlines(n*o,a*o,o,this._INNER_MARGIN),drawingOptions:yt.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,a,o,l){Yt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:u}}=e.viewport,h=this.deserializeDraw(l,u,a,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:h}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,n,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class sF{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new Rl;#l;#d;constructor(t,e,n,a,o,l){this.#l=n,this.#d=a,this.#n=o,this.#r=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return st._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,a,o,l]=this.#t.subarray(2,6),u=t-o,h=e-l;return Math.hypot(this.#l*u,this.#d*h)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,a,o,l,t,e],0),this.#e.push(...st.createBezierPoints(n,a,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,a,o){this.#l=n,this.#d=a,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:a}=this.#i[t];this.#e=n,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=st.svgRound(this.#e[4]),e=st.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const a=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=st.svgRound(this.#e[10]),o=st.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${a} ${o}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[l,u,h,f,p,g]=this.#e.slice(a,a+6).map(st.svgRound);n.push(`C${l} ${u} ${h} ${f} ${p} ${g}`)}return this.#a+=n.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,n,a){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#r,a),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Rl extends st{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,n,a,o,l,u){this.#r=e,this.#s=n,this.#a=a,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${st.svgRound(e[4])} ${st.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${st.svgRound(e[10])} ${st.svgRound(e[11])}`);continue}for(let n=6,a=e.length;n<a;n+=6){const[o,l,u,h,f,p]=e.subarray(n,n+6).map(st.svgRound);t.push(`C${o} ${l} ${u} ${h} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,a],o){const l=[],u=[],[h,f,p,g]=this.#d();let v,b,S,A,E,w,T,C,D;switch(this.#o){case 0:D=st._rescale,v=t,b=e+a,S=n,A=-a,E=t+h*n,w=e+(1-f-g)*a,T=t+(h+p)*n,C=e+(1-f)*a;break;case 90:D=st._rescaleAndSwap,v=t,b=e,S=n,A=a,E=t+f*n,w=e+h*a,T=t+(f+g)*n,C=e+(h+p)*a;break;case 180:D=st._rescale,v=t+n,b=e,S=-n,A=a,E=t+(1-h-p)*n,w=e+f*a,T=t+(1-h)*n,C=e+(f+g)*a;break;case 270:D=st._rescaleAndSwap,v=t+n,b=e+a,S=-n,A=-a,E=t+(1-f-g)*n,w=e+(1-h-p)*a,T=t+(1-f)*n,C=e+(1-h)*a;break}for(const{line:M,points:P}of this.#n)l.push(D(M,v,b,S,A,o?new Array(M.length):null)),u.push(D(P,v,b,S,A,o?new Array(P.length):null));return{lines:l,points:u,rect:[E,w,T,C]}}static deserialize(t,e,n,a,o,{paths:{lines:l,points:u},rotation:h,thickness:f}){const p=[];let g,v,b,S,A;switch(h){case 0:A=st._rescale,g=-t/n,v=e/a+1,b=1/n,S=-1/a;break;case 90:A=st._rescaleAndSwap,g=-e/a,v=-t/n,b=1/a,S=1/n;break;case 180:A=st._rescale,g=t/n+1,v=-e/a,b=-1/n,S=1/a;break;case 270:A=st._rescaleAndSwap,g=e/a+1,v=t/n+1,b=-1/a,S=-1/n;break}if(!l){l=[];for(const w of u){const T=w.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(T-2));l.push(C);let[D,M,P,k]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,D,M],0);for(let I=4;I<T;I+=2){const $=w[I],X=w[I+1];C.set(st.createBezierPoints(D,M,P,k,$,X),(I-2)*3),[D,M,P,k]=[P,k,$,X]}}}for(let w=0,T=l.length;w<T;w++)p.push({line:A(l[w].map(C=>C??NaN),g,v,b,S),points:A(u[w].map(C=>C??NaN),g,v,b,S)});const E=new this.prototype.constructor;return E.build(p,n,a,1,h,f,o),E}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,n,a]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,a-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let u=4,h=a.length;u<h;u+=6)at.pointBoundingBox(a[u],a[u+1],t);continue}let o=a[4],l=a[5];for(let u=6,h=a.length;u<h;u+=6){const[f,p,g,v,b,S]=a.subarray(u,u+6);at.bezierBoundingBox(o,l,f,p,g,v,b,S,t),o=b,l=S}}const[e,n]=this.#l();t[0]=He(t[0]-e,0,1),t[1]=He(t[1]-n,0,1),t[2]=He(t[2]+e,0,1),t[3]=He(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[a,o]=this.#l(),[l,u]=[a-e,o-n],h=this.#t;return h[0]-=l,h[1]-=u,h[2]+=2*l,h[3]+=2*u,h}updateParentDimensions([t,e],n){const[a,o]=this.#l();this.#r=t,this.#s=e,this.#a=n;const[l,u]=this.#l(),h=l-a,f=u-o,p=this.#t;return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(st.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,a=0,o=0,l=0,u=0,h=0;switch(this.#e){case 90:a=e/t,o=-t/e,u=t;break;case 180:n=-1,l=-1,u=t,h=e;break;case 270:a=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${n} ${a} ${o} ${l} ${st.svgRound(u)} ${st.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,a]){const[o,l]=this.#l(),[u,h,f,p]=this.#t;if(Math.abs(f-o)<=st.PRECISION||Math.abs(p-l)<=st.PRECISION){const A=t+n/2-(u+f/2),E=e+a/2-(h+p/2);return{path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:`${this.rotationTransform} translate(${A} ${E})`}}}const g=(n-2*o)/(f-2*o),v=(a-2*l)/(p-2*l),b=f/n,S=p/a;return{path:{"transform-origin":`${st.svgRound(u)} ${st.svgRound(h)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${st.svgRound(o)} ${st.svgRound(l)}) scale(${g} ${v}) translate(${st.svgRound(-o)} ${st.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,a]){const[o,l]=this.#l(),u=this.#t,[h,f,p,g]=u;if(u[0]=t,u[1]=e,u[2]=n,u[3]=a,Math.abs(p-o)<=st.PRECISION||Math.abs(g-l)<=st.PRECISION){const E=t+n/2-(h+p/2),w=e+a/2-(f+g/2);for(const{line:T,points:C}of this.#n)st._translate(T,E,w,T),st._translate(C,E,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(n-2*o)/(p-2*o),b=(a-2*l)/(g-2*l),S=-v*(h+o)+t+o,A=-b*(f+l)+e+l;if(v!==1||b!==1||S!==0||A!==0)for(const{line:E,points:w}of this.#n)st._rescale(E,S,A,v,b,E),st._rescale(w,S,A,v,b,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[a,o]=n,l=this.#t,u=t-l[0],h=e-l[1];if(this.#r===a&&this.#s===o)for(const{line:f,points:p}of this.#n)st._translate(f,u,h,f),st._translate(p,u,h,p);else{const f=this.#r/a,p=this.#s/o;this.#r=a,this.#s=o;for(const{line:g,points:v}of this.#n)st._rescale(g,u,h,f,p,g),st._rescale(v,u,h,f,p,v);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t[0])} ${st.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class th extends qE{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ft._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new th(this._viewParameters);return t.updateAll(this),t}}class sg extends yt{static _type="ink";static _editorType=St.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ft.initialize(t,e),this._defaultDrawingOptions=new th(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return xt(this,"typesMap",new Map([[Dt.INK_THICKNESS,"stroke-width"],[Dt.INK_COLOR,"stroke"],[Dt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,a,o){return new sF(t,e,n,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,a,o,l){return Rl.deserialize(t,e,n,a,o,l)}static async deserialize(t,e,n){let a=null;if(t instanceof ng){const{data:{inkLists:l,rect:u,rotation:h,id:f,color:p,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:S,contentsObj:A,creationDate:E,modificationDate:w},parent:{page:{pageNumber:T}}}=t;a=t={annotationType:St.INK,color:Array.from(p),thickness:v,opacity:g,paths:{points:l},boxes:null,pageIndex:T-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:S,comment:A?.str||null,creationDate:E,modificationDate:w}}const o=await super.deserialize(t,e,n);return o._initialData=a,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new cl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=sg.getDefaultDrawingOptions({stroke:at.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:ft._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==n||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Xp extends Rl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const ou=8,Po=3;class Ys{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,a){return n-=t,a-=e,n===0?a>0?0:4:n===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,a,o,l,u){const h=this.#e(n,a,o,l);for(let f=0;f<8;f++){const p=(-f+h-u+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(a+v)]!==0)return p}return-1}static#r(t,e,n,a,o,l,u){const h=this.#e(n,a,o,l);for(let f=0;f<8;f++){const p=(f+h+u+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(a+v)]!==0)return p}return-1}static#s(t,e,n,a){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=a?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,h;const f=[];for(let p=1;p<n-1;p++){h=1;for(let g=1;g<e-1;g++){const v=p*e+g,b=l[v];if(b===0)continue;let S=p,A=g;if(b===1&&l[v-1]===0)u+=1,A-=1;else if(b>=1&&l[v+1]===0)u+=1,A+=1,b>1&&(h=b);else{b!==1&&(h=Math.abs(b));continue}const E=[g,p],w=A===g+1,T={isHole:w,points:E,id:u,parent:0};f.push(T);let C;for(const J of f)if(J.id===h){C=J;break}C?C.isHole?T.parent=w?C.parent:h:T.parent=w?h:C.parent:T.parent=w?h:0;const D=this.#n(l,e,p,g,S,A,0);if(D===-1){l[v]=-u,l[v]!==1&&(h=Math.abs(l[v]));continue}let M=this.#i[2*D],P=this.#i[2*D+1];const k=p+M,I=g+P;S=k,A=I;let $=p,X=g;for(;;){const J=this.#r(l,e,$,X,S,A,1);M=this.#i[2*J],P=this.#i[2*J+1];const rt=$+M,ot=X+P;E.push(ot,rt);const nt=$*e+X;if(l[nt+1]===0?l[nt]=-u:l[nt]===1&&(l[nt]=u),rt===p&&ot===g&&$===k&&X===I){l[v]!==1&&(h=Math.abs(l[v]));break}else S=$,A=X,$=rt,X=ot}}}return f}static#a(t,e,n,a){if(n-e<=4){for(let k=e;k<n-2;k+=2)a.push(t[k],t[k+1]);return}const o=t[e],l=t[e+1],u=t[n-4]-o,h=t[n-3]-l,f=Math.hypot(u,h),p=u/f,g=h/f,v=p*l-g*o,b=h/u,S=1/f,A=Math.atan(b),E=Math.cos(A),w=Math.sin(A),T=S*(Math.abs(E)+Math.abs(w)),C=S*(1-T+T**2),D=Math.max(Math.atan(Math.abs(w+E)*C),Math.atan(Math.abs(w-E)*C));let M=0,P=e;for(let k=e+2;k<n-2;k+=2){const I=Math.abs(v-p*t[k+1]+g*t[k]);I>M&&(P=k,M=I)}M>(f*D)**2?(this.#a(t,e,P+2,a),this.#a(t,P,n,a)):a.push(o,l)}static#o(t){const e=[],n=t.length;return this.#a(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,a,o,l){const u=new Float32Array(l**2),h=-2*a**2,f=l>>1;for(let A=0;A<l;A++){const E=(A-f)**2;for(let w=0;w<l;w++)u[A*l+w]=Math.exp((E+(w-f)**2)/h)}const p=new Float32Array(256),g=-2*o**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/g);const v=t.length,b=new Uint8Array(v),S=new Uint32Array(256);for(let A=0;A<n;A++)for(let E=0;E<e;E++){const w=A*e+E,T=t[w];let C=0,D=0;for(let P=0;P<l;P++){const k=A+P-f;if(!(k<0||k>=n))for(let I=0;I<l;I++){const $=E+I-f;if($<0||$>=e)continue;const X=t[k*e+$],J=u[P*l+I]*p[Math.abs(X-T)];C+=X*J,D+=J}}const M=b[w]=Math.round(C/D);S[M]++}return[b,S]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let u=0,h=n.length;u<h;u++){const f=n[u]=t[u<<2];a=Math.max(a,f),o=Math.min(o,f)}const l=255/(a-o);for(let u=0,h=n.length;u<h;u++)n[u]=(n[u]-o)*l;return n}static#h(t){let e,n=-1/0,a=-1/0;const o=t.findIndex(h=>h!==0);let l=o,u=o;for(e=o;e<256;e++){const h=t[e];h>n&&(e-l>a&&(a=e-l,u=e-1),n=h,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:a}=t,{maxDim:o}=this.#t;let l=n,u=a;if(n>o||a>o){let v=n,b=a,S=Math.log2(Math.max(n,a)/o);const A=Math.floor(S);S=S===A?A-1:A;for(let w=0;w<S;w++){l=Math.ceil(v/2),u=Math.ceil(b/2);const T=new OffscreenCanvas(l,u);T.getContext("2d").drawImage(t,0,0,v,b,0,0,l,u),v=l,b=u,t!==e&&t.close(),t=T.transferToImageBitmap()}const E=Math.min(o/l,o/u);l=Math.round(l*E),u=Math.round(u*E)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#d(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:a},o,l,u,h){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,v=p.font=`${n} ${a} ${g}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:w,fontBoundingBoxDescent:T,width:C}=p.measureText(t),D=1.5,M=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,C)*D),P=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||g,Math.abs(w)+Math.abs(T)||g)*D);f=new OffscreenCanvas(M,P),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,P),p.fillStyle="black",p.fillText(t,M*(D-1)/2,P*(3-D)/2);const k=this.#d(p.getImageData(0,0,M,P).data),I=this.#l(k),$=this.#h(I),X=this.#s(k,M,P,$);return this.processDrawnLines({lines:{curves:X,width:M,height:P},pageWidth:o,pageHeight:l,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,a,o){const[l,u,h]=this.#f(t),[f,p]=this.#c(l,u,h,Math.hypot(u,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(p),v=this.#s(f,u,h,g);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:e,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:l,areContours:u}){a%180!==0&&([e,n]=[n,e]);const{curves:h,width:f,height:p}=t,g=t.thickness??0,v=[],b=Math.min(e/f,n/p),S=b/e,A=b/n,E=[];for(const{points:T}of h){const C=l?this.#o(T):T;if(!C)continue;E.push(C);const D=C.length,M=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(v.push({line:P,points:M}),D===2){M[0]=C[0]*S,M[1]=C[1]*A,P.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[k,I,$,X]=C;k*=S,I*=A,$*=S,X*=A,M.set([k,I,$,X],0),P.set([NaN,NaN,NaN,NaN,k,I],0);for(let J=4;J<D;J+=2){const rt=M[J]=C[J]*S,ot=M[J+1]=C[J+1]*A;P.set(st.createBezierPoints(k,I,$,X,rt,ot),(J-2)*3),[k,I,$,X]=[$,X,rt,ot]}}if(v.length===0)return null;const w=u?new Xp:new Rl;return w.build(v,e,n,1,a,u?0:g,o),{outline:w,newCurves:E,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:a,height:o}){let l=1/0,u=-1/0,h=0;for(const C of t){h+=C.length;for(let D=2,M=C.length;D<M;D++){const P=C[D]-C[D-2];l=Math.min(l,P),u=Math.max(u,P)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=ou+Po*p,v=new Uint32Array(g);let b=0;v[b++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*f.BYTES_PER_ELEMENT,v[b++]=0,v[b++]=a,v[b++]=o,v[b++]=e?0:1,v[b++]=Math.max(0,Math.floor(n??0)),v[b++]=p,v[b++]=f.BYTES_PER_ELEMENT;for(const C of t)v[b++]=C.length-2,v[b++]=C[0],v[b++]=C[1];const S=new CompressionStream("deflate-raw"),A=S.writable.getWriter();await A.ready,A.write(v);const E=f.prototype.constructor;for(const C of t){const D=new E(C.length-2);for(let M=2,P=C.length;M<P;M++)D[M-2]=C[M]-C[M-2];A.write(D)}A.close();const w=await new Response(S.readable).arrayBuffer(),T=new Uint8Array(w);return dE(T)}static async decompressSignature(t){try{const e=MB(t),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const C of n)l||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),l.set(C,u),u+=C.length;const h=new Uint32Array(l.buffer,0,l.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=h[2],g=h[3],v=h[4]===0,b=h[5],S=h[6],A=h[7],E=[],w=(ou+Po*S)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(A){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,w);break}u=0;for(let C=0;C<S;C++){const D=h[Po*C+ou],M=new Float32Array(D+2);E.push(M);for(let P=0;P<Po-1;P++)M[P]=h[Po*C+ou+P+1];for(let P=0;P<D;P++)M[P+2]=M[P]+T[u++]}return{areContours:v,thickness:b,outlines:E,width:p,height:g}}catch(e){return wt(`decompressSignature: ${e}`),null}}}class ag extends qE{constructor(){super(),super.updateProperties({fill:ft._defaultLineColor,"stroke-width":0})}clone(){const t=new ag;return t.updateAll(this),t}}class rg extends th{constructor(t){super(t),super.updateProperties({stroke:ft._defaultLineColor,"stroke-width":1})}clone(){const t=new rg(this._viewParameters);return t.updateAll(this),t}}class ei extends yt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=St.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ft.initialize(t,e),this._defaultDrawingOptions=new ag,this._defaultDrawnSignatureOptions=new rg(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return xt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:o,areContours:l,description:u,uuid:h,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:v}=this.parent.viewport,b=Ys.processDrawnLines({lines:a,pageWidth:p,pageHeight:g,rotation:v,innerMargin:ei._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(b,f,u,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:a,height:o}=this.#i,l=Math.max(a,o),u=Ys.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:a,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,a){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof Xp,this.description=n;let h;this.#t?h=ei.getDefaultDrawingOptions():(h=ei._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:h});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:a}=this.parent.viewport;return Ys.process(t,e,n,a,ei._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:a},rotation:o}=this.parent.viewport;return Ys.extractContoursFromText(t,e,n,a,o,ei._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:a}=this.parent.viewport;return Ys.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:a,innerMargin:ei._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=ei.getDefaultDrawingOptions():(this._drawingOptions=ei._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,a,o,l){return l.areContours?Xp.deserialize(t,e,n,a,o,l):Rl.deserialize(t,e,n,a,o,l)}static async deserialize(t,e,n){const a=await super.deserialize(t,e,n);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#n=t.uuid,a}}class aF extends ft{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=St.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ft.initialize(t,e)}static isHandlingMimeForPasting(t){return Mu.includes(t)}static paste(t,e){e.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#h(a)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(a=>this.#h(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Mu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(a)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[a,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*a,n=this.height*o;else if(e>l*a||n>l*o){const h=Math.min(l*a/e,l*o/n);e*=h,n*=h}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/a,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:a,height:o}=this.#t,l=new Gn;let u=this.#t,h=a,f=o,p=null;if(e){if(a>e||o>e){const P=Math.min(e/a,e/o);h=Math.floor(a*P),f=Math.floor(o*P)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*l.sx),b=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(v,b));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let A="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":OB.isDarkMode&&(A="#8f8f9d",E="#42414d");const w=15,T=w*l.sx,C=w*l.sy,D=new OffscreenCanvas(T*2,C*2),M=D.getContext("2d");M.fillStyle=A,M.fillRect(0,0,T*2,C*2),M.fillStyle=E,M.fillRect(0,0,T,C),M.fillRect(T,C,T,C),S.fillStyle=S.createPattern(D,"repeat"),S.fillRect(0,0,v,b),S.drawImage(u,0,0,u.width,u.height,0,0,v,b)}let g=null;if(n){let v,b;if(l.symmetric&&u.width<t&&u.height<t)v=u.width,b=u.height;else if(u=this.#t,a>t||o>t){const E=Math.min(t/a,t/o);v=Math.floor(a*E),b=Math.floor(o*E),this.#l||(u=this.#u(v,b))}const A=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,v,b),g={width:v,height:b,data:A.getImageData(0,0,v,b).data}}return{canvas:p,width:h,height:f,imageData:g}}#u(t,e){const{width:n,height:a}=this.#t;let o=n,l=a,u=this.#t;for(;o>2*t||l>2*e;){const h=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,h,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:n,height:a}=this,o=new Gn,l=Math.ceil(n*t*o.sx),u=Math.ceil(a*e*o.sy),h=this.#a;if(!h||h.width===l&&h.height===u)return;h.width=l,h.height=u;const f=this.#l?this.#t:this.#u(l,u),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,a=Math.round(this.width*e*ra.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*ra.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let a=null,o=!1;if(t instanceof zE){const{data:{rect:A,rotation:E,id:w,structParent:T,popupRef:C,richText:D,contentsObj:M,creationDate:P,modificationDate:k},container:I,parent:{page:{pageNumber:$}},canvas:X}=t;let J,rt;X?(delete t.canvas,{id:J,bitmap:rt}=n.imageManager.getFromCanvas(I.id,X),X.remove()):(o=!0,t._hasNoCanvas=!0);const ot=(await e._structTree.getAriaAttributes(`${zm}${w}`))?.get("aria-label")||"";a=t={annotationType:St.STAMP,bitmapId:J,bitmap:rt,pageIndex:$-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:ot},isSvg:!1,structParent:T,popupRef:C,richText:D,comment:M?.str||null,creationDate:P,modificationDate:k}}const l=await super.deserialize(t,e,n),{rect:u,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:v}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#n=f,l.#l=g;const[b,S]=l.pageDimensions;return l.width=(u[2]-u[0])/b,l.height=(u[3]-u[1])/S,v&&(l.altTextData=v),l._initialData=a,t.comment&&l.setCommentData(t),l.#d=!!a,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(n);return u.isSame?null:(u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ii{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Me,sg,aF,ge,ei].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:a,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:h,viewport:f,l10n:p}){const g=[...ii.#m.values()];if(!ii._initialized){ii._initialized=!0;for(const v of g)v.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#h=h,this.drawLayer=u,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===St.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#A(),t){case St.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===St.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of ii.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const n=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:h}=a,f=this.#p;if(h-f>500){this.#p=h;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const b=new RegExp(`^${al}[0-9]+$`);for(const A of g)if(b.test(A.id)){v=A.id;break}if(!v)return;const S=this.#s.get(v);S?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),S.dblclick(a))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,a=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=a.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=n.get(u),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of ii.#m.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Le.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),ge.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),ft.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return ii.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:a}=this.#E(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:n,y:a,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await ii.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const a=this.getNextId(),o=this.#T({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#E(){const{x:t,y:e,width:n,height:a}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+a),f=(o+u)/2-t,p=(l+h)/2-e,[g,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#E(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===St.STAMP||n===St.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===St.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const a=this.#u.findParent(e,n);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#A(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ss(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#A();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ss(this.div,{rotation:n}),e!==n)for(const a of this.#s.values())a.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class De{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return xt(this,"_svgFactory",new ul)}static#r(t,[e,n,a,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*a}%`,l.height=`${100*o}%`}#s(){const t=De._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const n=De._svgFactory.createElement("clipPath");t.append(n);const a=`clip_${e}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const o=De._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[n,a]of Object.entries(e))a===null?t.removeAttribute(n):t.setAttribute(n,a)}draw(t,e=!1,n=!1){const a=De.#n++,o=this.#s(),l=De._svgFactory.createElement("defs");o.append(l);const u=De._svgFactory.createElement("path");l.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(a,u);const f=n?this.#a(l,h):null,p=De._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=De.#n++,a=this.#s(),o=De._svgFactory.createElement("defs");a.append(o);const l=De._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const g=De._svgFactory.createElement("mask");o.append(g),h=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=De._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=De._svgFactory.createElement("use");g.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=De._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(n,a),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:a,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#o(u,n),a&&De.#r(u,a),o){const{classList:h}=u;for(const[f,p]of Object.entries(o))h.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:$p};globalThis.pdfjsLib={AbortException:Fi,AnnotationEditorLayer:ii,AnnotationEditorParamsType:Dt,AnnotationEditorType:St,AnnotationEditorUIManager:Ii,AnnotationLayer:ig,AnnotationMode:si,AnnotationType:me,applyOpacity:yE,build:IE,ColorPicker:vn,createValidAbsoluteUrl:Um,CSSConstants:gE,DOMSVGFactory:ul,DrawLayer:De,FeatureTest:Le,fetchData:Cr,findContrastColor:vE,getDocument:Zm,getFilenameFromUrl:fE,getPdfFilenameFromUrl:pE,getRGB:_r,getUuid:Hm,getXfaPageViewport:mE,GlobalWorkerOptions:vs,ImageKind:Ko,InvalidPDFException:_u,isDataScheme:xl,isPdfFile:Zu,isValidExplicitDest:wE,MathClamp:He,noContextMenu:An,normalizeUnicode:hE,OPS:vr,OutputScale:Gn,PasswordResponses:cE,PDFDataRangeTransport:tg,PDFDateString:Ru,PDFWorker:br,PermissionFlag:lE,PixelsPerInch:ra,RenderingCancelledException:Qu,renderRichText:$m,ResponseException:rl,setLayerDimensions:Ss,shadow:xt,SignatureExtractor:Ys,stopEvent:ie,SupportedImageMimeTypes:Mu,TextLayer:ll,TouchManager:Cl,updateUrlHash:Vm,Util:at,VerbosityLevel:Sl,version:FE,XfaLayer:Gm};const rF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Fi,AnnotationEditorLayer:ii,AnnotationEditorParamsType:Dt,AnnotationEditorType:St,AnnotationEditorUIManager:Ii,AnnotationLayer:ig,AnnotationMode:si,AnnotationType:me,CSSConstants:gE,ColorPicker:vn,DOMSVGFactory:ul,DrawLayer:De,FeatureTest:Le,GlobalWorkerOptions:vs,ImageKind:Ko,InvalidPDFException:_u,MathClamp:He,OPS:vr,OutputScale:Gn,PDFDataRangeTransport:tg,PDFDateString:Ru,PDFWorker:br,PasswordResponses:cE,PermissionFlag:lE,PixelsPerInch:ra,RenderingCancelledException:Qu,ResponseException:rl,SignatureExtractor:Ys,SupportedImageMimeTypes:Mu,TextLayer:ll,TouchManager:Cl,Util:at,VerbosityLevel:Sl,XfaLayer:Gm,applyOpacity:yE,build:IE,createValidAbsoluteUrl:Um,fetchData:Cr,findContrastColor:vE,getDocument:Zm,getFilenameFromUrl:fE,getPdfFilenameFromUrl:pE,getRGB:_r,getUuid:Hm,getXfaPageViewport:mE,isDataScheme:xl,isPdfFile:Zu,isValidExplicitDest:wE,noContextMenu:An,normalizeUnicode:hE,renderRichText:$m,setLayerDimensions:Ss,shadow:xt,stopEvent:ie,updateUrlHash:Vm,version:FE},Symbol.toStringTag,{value:"Module"}));var bS=Object.prototype.hasOwnProperty;function AS(i,t,e){for(e of i.keys())if(fr(e,t))return e}function fr(i,t){var e,n,a;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&fr(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(a=n,a&&typeof a=="object"&&(a=AS(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(a=n[0],a&&typeof a=="object"&&(a=AS(t,a),!a)||!fr(n[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(bS.call(i,e)&&++n&&!bS.call(t,e)||!(e in t)||!fr(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}function Ml(i){let t=!1;return{promise:new Promise((n,a)=>{i.then(o=>!t&&n(o)).catch(o=>!t&&a(o))}),cancel(){t=!0}}}const oF=["onCopy","onCut","onPaste"],lF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],cF=["onFocus","onBlur"],uF=["onInput","onInvalid","onReset","onSubmit"],hF=["onLoad","onError"],dF=["onKeyDown","onKeyPress","onKeyUp"],fF=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],pF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],mF=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],gF=["onSelect"],yF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],vF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],bF=["onScroll"],AF=["onWheel"],SF=["onAnimationStart","onAnimationEnd","onAnimationIteration"],wF=["onTransitionEnd"],EF=["onToggle"],xF=["onChange"],TF=[...oF,...lF,...cF,...uF,...hF,...dF,...fF,...pF,...mF,...gF,...yF,...vF,...bF,...AF,...SF,...wF,...xF,...EF];function XE(i,t){const e={};for(const n of TF){const a=i[n];a&&(t?e[n]=(o=>a(o,t(n))):e[n]=a)}return e}var CF="Invariant failed";function qt(i,t){if(!i)throw new Error(CF)}var sp,SS;function _F(){if(SS)return sp;SS=1;var i=function(){};return sp=i,sp}var RF=_F();const ze=MS(RF),YE=R.createContext(null),MF="noopener noreferrer nofollow";class DF{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return qt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){qt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||MF,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{qt(this.pdfDocument),qt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{qt(Array.isArray(e));const n=e[0];new Promise(a=>{qt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{a(o)}).catch(()=>{qt(!1)}):typeof n=="number"?a(n):qt(!1)}).then(a=>{const o=a+1;qt(this.pdfViewer),qt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}goToPage(t){const e=t-1;qt(this.pdfViewer),qt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function pr({children:i,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const wS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function LF(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Ar(){return R.useReducer(LF,{value:void 0,error:void 0})}const eh=typeof window<"u",KE=eh&&window.location.protocol==="file:";function OF(i){return typeof i<"u"}function Gs(i){return OF(i)&&i!==null}function PF(i){return typeof i=="string"}function NF(i){return i instanceof ArrayBuffer}function kF(i){return qt(eh),i instanceof Blob}function Yp(i){return PF(i)&&/^data:/.test(i)}function ES(i){qt(Yp(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function BF(){return eh&&window.devicePixelRatio||1}const WE="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function xS(){ze(!KE,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WE}`)}function FF(){ze(!KE,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WE}`)}function la(i){i?.cancel&&i.cancel()}function Kp(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function IF(i){return i.name==="RenderingCancelledException"}function jF(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:UF}=rF,VF=(i,t)=>{switch(t){case wS.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case wS.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function TS(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const HF=R.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:h,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:v,onLoadProgress:b,onLoadSuccess:S,onPassword:A=VF,onSourceError:E,onSourceSuccess:w,options:T,renderMode:C,rotate:D,scale:M,...P},k){const[I,$]=Ar(),{value:X,error:J}=I,[rt,ot]=Ar(),{value:nt,error:lt}=rt,B=R.useRef(new DF),V=R.useRef([]),Z=R.useRef(void 0),it=R.useRef(void 0);l&&l!==Z.current&&TS(l)&&(ze(!fr(l,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=l),T&&T!==it.current&&(ze(!fr(T,it.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),it.current=T);const O=R.useRef({scrollPageIntoView:Lt=>{const{dest:jt,pageNumber:de,pageIndex:ve=de-1}=Lt;if(g){g({dest:jt,pageIndex:ve,pageNumber:de});return}const Oe=V.current[ve];if(Oe){Oe.scrollIntoView();return}ze(!1,`An internal link leading to page ${de} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(k,()=>({linkService:B,pages:V,viewer:O}),[]);function Y(){w&&w()}function tt(){J&&(ze(!1,J.toString()),E&&E(J))}function q(){$({type:"RESET"})}R.useEffect(q,[l,$]);const et=R.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Yp(l)?{data:ES(l)}:(xS(),{url:l});if(l instanceof UF)return{range:l};if(NF(l))return{data:l};if(eh&&kF(l))return{data:await jF(l)};if(qt(typeof l=="object"),qt(TS(l)),"url"in l&&typeof l.url=="string"){if(Yp(l.url)){const{url:Lt,...jt}=l;return{data:ES(Lt),...jt}}xS()}return l},[l]);R.useEffect(()=>{const Lt=Ml(et());return Lt.promise.then(jt=>{$({type:"RESOLVE",value:jt})}).catch(jt=>{$({type:"REJECT",error:jt})}),()=>{la(Lt)}},[et,$]),R.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){tt();return}Y()}},[X]);function pt(){nt&&(S&&S(nt),V.current=new Array(nt.numPages),B.current.setDocument(nt))}function ut(){lt&&(ze(!1,lt.toString()),v&&v(lt))}R.useEffect(function(){ot({type:"RESET"})},[ot,X]),R.useEffect(function(){if(!X)return;const jt=T?{...X,...T}:X,de=Zm(jt);b&&(de.onProgress=b),A&&(de.onPassword=A);const ve=de,Oe=ve.promise.then(Es=>{ot({type:"RESOLVE",value:Es})}).catch(Es=>{ve.destroyed||ot({type:"REJECT",error:Es})});return()=>{Oe.finally(()=>ve.destroy())}},[T,ot,X]),R.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){ut();return}pt()}},[nt]),R.useEffect(function(){B.current.setViewer(O.current),B.current.setExternalLinkRel(a),B.current.setExternalLinkTarget(o)},[a,o]);const At=R.useCallback((Lt,jt)=>{V.current[Lt]=jt},[]),Tt=R.useCallback(Lt=>{delete V.current[Lt]},[]),Bt=R.useMemo(()=>({imageResourcesPath:h,linkService:B.current,onItemClick:g,pdf:nt,registerPage:At,renderMode:C,rotate:D,scale:M,unregisterPage:Tt}),[h,g,nt,At,C,D,M,Tt]),Gt=R.useMemo(()=>XE(P,()=>nt),[P,nt]);function We(){function Lt(de){return!!de?.pdf}if(!Lt(Bt))throw new Error("pdf is undefined");const jt=typeof t=="function"?t(Bt):t;return F.jsx(YE.Provider,{value:Bt,children:jt})}function cn(){return l?nt==null?F.jsx(pr,{type:"loading",children:typeof f=="function"?f():f}):nt===!1?F.jsx(pr,{type:"error",children:typeof n=="function"?n():n}):We():F.jsx(pr,{type:"no-data",children:typeof p=="function"?p():p})}return F.jsx("div",{className:ku("react-pdf__Document",e),ref:u,...Gt,children:cn()})});function QE(){return R.useContext(YE)}function ZE(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,u=e;l<u.length;l++){var h=u[l];typeof h=="function"?h(o):h&&(h.current=o)}}}const JE=R.createContext(null);function nh(){return R.useContext(JE)}function zF(){const i=QE(),t=nh();qt(t);const e={...i,...t},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:h,page:f,pdf:p,renderForms:g,rotate:v,scale:b=1}=e;qt(p),qt(f),qt(a);const[S,A]=Ar(),{value:E,error:w}=S,T=R.useRef(null);ze(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){E&&l&&l(E)}function D(){w&&(ze(!1,w.toString()),o&&o(w))}R.useEffect(function(){A({type:"RESET"})},[A,f]),R.useEffect(function(){if(!f)return;const $=Ml(f.getAnnotations()),X=$;return $.promise.then(J=>{A({type:"RESOLVE",value:J})}).catch(J=>{A({type:"REJECT",error:J})}),()=>{la(X)}},[A,f]),R.useEffect(()=>{if(E!==void 0){if(E===!1){D();return}C()}},[E]);function M(){h&&h()}function P(I){ze(!1,`${I}`),u&&u(I)}const k=R.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);return R.useEffect(function(){if(!p||!f||!a||!E)return;const{current:$}=T;if(!$)return;const X=k.clone({dontFlip:!0}),J={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:$,l10n:null,linkService:a,page:f,structTreeLayer:null,viewport:X},rt={annotations:E,annotationStorage:p.annotationStorage,div:$,imageResourcesPath:n,linkService:a,page:f,renderForms:g,viewport:X};$.innerHTML="";try{new ig(J).render(rt),M()}catch(ot){P(ot)}return()=>{}},[E,n,a,f,p,g,k]),F.jsx("div",{className:ku("react-pdf__Page__annotations","annotationLayer"),ref:T})}const tx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},GF=/^H(\d+)$/;function $F(i){return i in tx}function ih(i){return"children"in i}function ex(i){return ih(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function qF(i){const t={};if(ih(i)){const{role:e}=i,n=e.match(GF);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if($F(e)){const a=tx[e];a&&(t.role=a)}}return t}function nx(i){const t={};if(ih(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),ex(i)){const[e]=i.children;if(e){const n=nx(e);return{...t,...n}}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function XF(i){return i?{...qF(i),...nx(i)}:null}function ix({className:i,node:t}){const e=R.useMemo(()=>XF(t),[t]),n=R.useMemo(()=>!ih(t)||ex(t)?null:t.children.map((a,o)=>F.jsx(ix,{node:a},o)),[t]);return F.jsx("span",{className:i,...e,children:n})}function YF(){const i=nh();qt(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,a]=Ar(),{value:o,error:l}=n,{customTextRenderer:u,page:h}=i;function f(){o&&e&&e(o)}function p(){l&&(ze(!1,l.toString()),t&&t(l))}return R.useEffect(function(){a({type:"RESET"})},[a,h]),R.useEffect(function(){if(u||!h)return;const v=Ml(h.getStructTree()),b=v;return v.promise.then(S=>{a({type:"RESOLVE",value:S})}).catch(S=>{a({type:"REJECT",error:S})}),()=>la(b)},[u,h,a]),R.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?F.jsx(ix,{className:"react-pdf__Page__structTree structTree",node:o}):null}const CS=si;function KF(i){const t=nh();qt(t);const e={...t,...i},{_className:n,canvasBackground:a,devicePixelRatio:o=BF(),onRenderError:l,onRenderSuccess:u,page:h,renderForms:f,renderTextLayer:p,rotate:g,scale:v}=e,{canvasRef:b}=i;qt(h);const S=R.useRef(null);function A(){h&&u&&u(Kp(h,v))}function E(D){IF(D)||(ze(!1,D.toString()),l&&l(D))}const w=R.useMemo(()=>h.getViewport({scale:v*o,rotation:g}),[o,h,g,v]),T=R.useMemo(()=>h.getViewport({scale:v,rotation:g}),[h,g,v]);R.useEffect(function(){if(!h)return;h.cleanup();const{current:M}=S;if(!M)return;M.width=w.width,M.height=w.height,M.style.width=`${Math.floor(T.width)}px`,M.style.height=`${Math.floor(T.height)}px`,M.style.visibility="hidden";const P={annotationMode:f?CS.ENABLE_FORMS:CS.ENABLE,canvas:M,canvasContext:M.getContext("2d",{alpha:!1}),viewport:w};a&&(P.background=a);const k=h.render(P),I=k;return k.promise.then(()=>{M.style.visibility="",A()}).catch(E),()=>la(I)},[a,h,f,w,T]);const C=R.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return R.useEffect(()=>C,[C]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:ZE(b,S),style:{display:"block",userSelect:"none"},children:p?F.jsx(YF,{}):null})}function WF(i){return"str"in i}function QF(){const i=nh();qt(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:h,rotate:f,scale:p}=i;qt(l);const[g,v]=Ar(),{value:b,error:S}=g,A=R.useRef(null);ze(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){b&&n&&n(b)}function w(){S&&(ze(!1,S.toString()),e&&e(S))}R.useEffect(function(){v({type:"RESET"})},[l,v]),R.useEffect(function(){if(!l)return;const I=Ml(l.getTextContent()),$=I;return I.promise.then(X=>{v({type:"RESOLVE",value:X})}).catch(X=>{v({type:"REJECT",error:X})}),()=>la($)},[l,v]),R.useEffect(()=>{if(b!==void 0){if(b===!1){w();return}E()}},[b]);const T=R.useCallback(()=>{o&&o()},[o]),C=R.useCallback(k=>{ze(!1,k.toString()),a&&a(k)},[a]);function D(){const k=A.current;k&&k.classList.add("selecting")}function M(){const k=A.current;k&&k.classList.remove("selecting")}const P=R.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return R.useLayoutEffect(function(){if(!l||!b)return;const{current:I}=A;if(!I)return;I.innerHTML="";const $=l.streamTextContent({includeMarkedContent:!0}),X={container:I,textContentSource:$,viewport:P},J=new ll(X),rt=J;return J.render().then(()=>{const ot=document.createElement("div");ot.className="endOfContent",I.append(ot);const nt=I.querySelectorAll('[role="presentation"]');if(t){let lt=0;b.items.forEach((B,V)=>{if(!WF(B))return;const Z=nt[lt];if(!Z)return;const it=t({pageIndex:u,pageNumber:h,itemIndex:V,...B});Z.innerHTML=it,lt+=B.str&&B.hasEOL?2:1})}T()}).catch(C),()=>la(rt)},[t,C,T,l,u,h,b,P]),F.jsx("div",{className:ku("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:D,ref:A})}const _S=1;function ZF(i){const e={...QE(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:l,children:u,className:h,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:v="Failed to load the page.",height:b,inputRef:S,loading:A="Loading page",noData:E="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:P,onLoadError:k,onLoadSuccess:I,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:X,onRenderError:J,onRenderSuccess:rt,onRenderTextLayerError:ot,onRenderTextLayerSuccess:nt,pageIndex:lt,pageNumber:B,pdf:V,registerPage:Z,renderAnnotationLayer:it=!0,renderForms:O=!1,renderMode:Y="canvas",renderTextLayer:tt=!0,rotate:q,scale:et=_S,unregisterPage:pt,width:ut,...At}=e,[Tt,Bt]=Ar(),{value:Gt,error:We}=Tt,cn=R.useRef(null);qt(V);const Lt=Gs(B)?B-1:lt??null,jt=B??(Gs(lt)?lt+1:null),de=q??(Gt?Gt.rotate:null),ve=R.useMemo(()=>{if(!Gt)return null;let oe=1;const $e=et??_S;if(ut||b){const le=Gt.getViewport({scale:1,rotation:de});ut?oe=ut/le.width:b&&(oe=b/le.height)}return $e*oe},[b,Gt,de,et,ut]);R.useEffect(function(){return()=>{Gs(Lt)&&a&&pt&&pt(Lt)}},[a,V,Lt,pt]);function Oe(){if(I){if(!Gt||!ve)return;I(Kp(Gt,ve))}if(a&&Z){if(!Gs(Lt)||!cn.current)return;Z(Lt,cn.current)}}function Es(){We&&(ze(!1,We.toString()),k&&k(We))}R.useEffect(function(){Bt({type:"RESET"})},[Bt,V,Lt]),R.useEffect(function(){if(!V||!jt)return;const $e=Ml(V.getPage(jt)),le=$e;return $e.promise.then(Rr=>{Bt({type:"RESOLVE",value:Rr})}).catch(Rr=>{Bt({type:"REJECT",error:Rr})}),()=>la(le)},[Bt,V,jt]),R.useEffect(()=>{if(Gt!==void 0){if(Gt===!1){Es();return}Oe()}},[Gt,ve]);const fa=R.useMemo(()=>Gs(Lt)&&jt&&Gs(de)&&Gs(ve)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:P,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:X,onRenderError:J,onRenderSuccess:rt,onRenderTextLayerError:ot,onRenderTextLayerSuccess:nt,page:Gt,pageIndex:Lt,pageNumber:jt,renderForms:O,renderTextLayer:tt,rotate:de,scale:ve}:null,[n,o,p,g,w,T,C,D,M,P,$,X,J,rt,ot,nt,Gt,Lt,jt,O,tt,de,ve]),Dl=R.useMemo(()=>XE(At,()=>Gt&&(ve?Kp(Gt,ve):void 0)),[At,Gt,ve]),di=`${Lt}@${ve}/${de}`;function sh(){switch(Y){case"custom":return qt(f),F.jsx(f,{},`${di}_custom`);case"none":return null;case"canvas":default:return F.jsx(KF,{canvasRef:l},`${di}_canvas`)}}function Ll(){return tt?F.jsx(QF,{},`${di}_text`):null}function ah(){return it?F.jsx(zF,{},`${di}_annotations`):null}function rh(){function oe(le){return!!le?.page}if(!oe(fa))throw new Error("page is undefined");const $e=typeof u=="function"?u(fa):u;return F.jsxs(JE.Provider,{value:fa,children:[sh(),Ll(),ah(),$e]})}function xs(){return jt?V===null||Gt===void 0||Gt===null?F.jsx(pr,{type:"loading",children:typeof A=="function"?A():A}):V===!1||Gt===!1?F.jsx(pr,{type:"error",children:typeof v=="function"?v():v}):rh():F.jsx(pr,{type:"no-data",children:typeof E=="function"?E():E})}return F.jsx("div",{className:ku(n,h),"data-page-number":jt,ref:ZE(S,cn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ve}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Dl,children:xs()})}FF();vs.workerSrc="pdf.worker.mjs";const JF="/landing-page/assets/pdf.worker.min-qwK7q_zL.mjs",t4="/landing-page/assets/letas-WnU1AFCt.pdf";vs.workerSrc=JF;function e4(){const[i,t]=R.useState(null),[e,n]=R.useState(1),[a,o]=R.useState(!0),[l,u]=R.useState(900),[h,f]=R.useState(null),p=R.useRef(null);R.useEffect(()=>{function A(){if(p.current){const E=p.current.offsetWidth;u(Math.min(E,900))}}return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);function g({numPages:A}){t(A),n(1),o(!1)}function v(A){const{width:E,height:w}=A.getViewport({scale:1});f({width:E,height:w})}const b=h?.height&&h?.width?h.height/h.width:11/9.5,S=()=>F.jsx("div",{style:{width:`${l}px`,height:`${l*b}px`},className:"relative w-full aspect-[9.5/11] rounded-md overflow-hidden bg-gray-300",children:F.jsx("div",{className:" absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-400 to-gray-300 [background-size:200%_100%] animate-[shimmer_1.8s_infinite_linear]"})});return F.jsxs("div",{ref:p,className:"flex flex-col w-full items-center",children:[F.jsx("div",{className:"rounded-md overflow-hidden",children:F.jsx(HF,{file:t4,onLoadSuccess:g,onLoadError:A=>console.error("PDF load error:",A),children:F.jsx(ZF,{pageNumber:e,width:l,loading:F.jsx(S,{}),onLoadSuccess:v,renderTextLayer:!1})})}),!a&&i&&F.jsxs("div",{className:"mt-4 flex gap-4 items-center",children:[F.jsxs("button",{onClick:()=>n(A=>Math.max(A-1,1)),disabled:e<=1,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 cursor-pointer",children:[F.jsx(fB,{})," Prev"]}),F.jsxs("span",{className:"text-gray-300",children:["Page ",e," of ",i]}),F.jsxs("button",{onClick:()=>n(A=>Math.min(A+1,i)),disabled:e>=i,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 cursor-pointer",children:["Next ",F.jsx(pB,{})]})]})]})}function n4(){const{toggleTabState:i}=Ui();return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"letas","data-value":4,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsx("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:F.jsx(e4,{})})})}const i4="/landing-page/assets/org-chart-DV6NheR0.avif";function s4(){const{toggleTabState:i}=Ui();return F.jsx(Jt.div,{viewport:{amount:.8},onViewportEnter:t=>i(parseInt(t.target.dataset.value)),id:"org-chart","data-value":6,className:"h-[calc(100vh-2.8rem)] snap-start snap-always",children:F.jsx("div",{className:"flex flex-col items-center w-full h-full gap-[2rem] overflow-auto p-[2rem] no-scrollbar",children:F.jsx("img",{src:i4,alt:"Org Chart",className:"rounded-md"})})})}function RS(){return F.jsxs(F.Fragment,{children:[F.jsx(hB,{}),F.jsx(bB,{}),F.jsx(MM,{children:F.jsxs("div",{className:"flex flex-col",children:[F.jsx(uB,{}),F.jsx(sB,{}),F.jsx(aB,{}),F.jsx(rB,{}),F.jsx(n4,{}),F.jsx(vB,{}),F.jsx(s4,{}),F.jsx(yB,{})]})})]})}function a4(){return F.jsxs(b_,{children:[F.jsx(rp,{path:"/",element:F.jsx(RS,{})}),F.jsx(rp,{path:"/home",element:F.jsx(RS,{})})]})}RC.createRoot(document.getElementById("root")).render(F.jsx(R.StrictMode,{children:F.jsx(H_,{basename:"/landing-page",children:F.jsx(a4,{})})}));
